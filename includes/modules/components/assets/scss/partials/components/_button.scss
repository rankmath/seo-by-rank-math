
@mixin secondary-button-style(
	$normal: (
		$color,
		$color-box-shadow
	),
	
	$hover: (
		$color--hover,
		$color-bg--hover,
		$color-box-shadow--hover
	),
	
	$focus-active: (
		$color--focus,
		$color-bg-focus,
		$color-box-shadow--focus-active,
		$color-bg-active,
	),
	
	$disabled: (
		$color--disabled,
		$color-bg--disabled,
		$color-box-shadow--disabled
	)
) {
	$color: nth($normal, 1);
	$color-box-shadow: nth($normal, 2);

	color: $color;
	box-shadow: inset 0 0 0 1px $color-box-shadow;

	&:hover:not(:disabled) {
		color: nth($hover, 1);
		background-color: nth($hover, 2);
		box-shadow: inset 0 0 0 1px nth($hover, 3);
	}

	&:focus,
	&:focus:hover:not(:disabled),
	&:active:not(:disabled) {
		box-shadow: inset 0 0 0 1.5px nth($focus-active, 3);
		outline: none;
	}

	&:focus,
	&:focus:hover:not(:disabled) {
		color: nth($focus-active, 1);
		background-color: nth($focus-active, 2);
	}

	&:active:not(:disabled) {
		color: $color;
		background-color: nth($focus-active, 4);
	}

	&:disabled,
	&[aria-disabled="true"],
	&:disabled:hover,
	&[aria-disabled="true"]:hover {
		opacity: 0.3;
		outline: 1px solid transparent;
		transform: inherit;
		box-shadow: inset 0 0 0 1px nth($disabled, 3);
		color: nth($disabled, 1);
		background-color: nth($disabled, 2);
	}
}

@mixin button-has-icon-style(
	$min-width,
	$height,
	$font-size,
	$padding-vertical,
	$padding-horizontal,
	$gap,
	$icon-font-size
) {
	&.has-icon{
		&:not(.has-text) {
			min-width: $min-width;
			height: $height;
			font-size: $font-size;
		}

		&.has-text{
			justify-content: start;
			padding: $padding-vertical $padding-horizontal;
			gap: $gap;

			i {
				font-size: $icon-font-size;
			}
		}
	}
}

// Secondary Variant Variables
$color-secondary: lighten($black, 35%);
$color-secondary-box-shadow: lighten($black, 75%);
$color-secondary-box-shadow-2: $gray;
$color-secondary-hover-focus: lighten($black, 20%);
$color-secondary-hover-focus-bg: lighten($black, 97%);

// Tertiary-Outline Variables
$color-tertiary-outline-box-shadow: lighten($black, 60%);
$color-tertiary-outline-box-shadow-disabled-hover: lighten($black, 45%);
$color-tertiary-outline-hover-focus: lighten($black, 40%);
$color-tertiary-outline-hover-focus-bg:lighten($black, 98%);

// Tertiary Variables
$color-tertiary: $gray;


.components-button {
	height: 32px;
	padding: 6px 14px;

	&.is-primary {
		&:disabled,
		&[aria-disabled="true"] {
			opacity: 0.3;
			color: rgba($white, 0.8);
		}

		&.is-destructive {
			&:active, &:focus {
				outline-color: $destructive-color;
				color: $white;

				&:hover {
					background-color: $destructive-color-hover;
					box-shadow: inset 0 0 0 1px $white, 0 0 0 $border-width--focus $blue;
				}
			}
		}
	}

	&.is-secondary {
		@include secondary-button-style(
			$normal: (
				$color-secondary, 
				$color-secondary-box-shadow,
			),
			$hover: (
				$color-secondary-hover-focus,
				$color-secondary-hover-focus-bg,
				$color-secondary-box-shadow-2,
			),
			$focus-active: (
				$color-secondary-hover-focus,
				$color-secondary-hover-focus-bg, 
				$color-secondary-box-shadow-2,
				lighten($black, 87%),
			),
			$disabled: (
				inherit,
				darken($white, 20%),
				$color-secondary-box-shadow-2
			)
		);

		&.is-destructive {
			@include secondary-button-style(
				$normal: (
					$destructive-color,
					$destructive-color
				),
				$hover: (
					$destructive-color-hover,
					inherit,
					$destructive-color-hover,
				),
				$focus-active: (
					$destructive-color,
					$white-dark,
					$destructive-color,
					darken($white, 5%),
				),
				$disabled: (
					inherit,
					inherit,
					$destructive-color
				)
			);
		}
	}

	&.is-primary-outline {
		@include secondary-button-style(
			$normal: (
				$blue,
				$blue
			),
			$hover: (
				$blue,
				$blue-lightest,
				$blue
			),
			$focus-active: (
				$blue,
				$blue-lightest,
				$blue,
				$blue-dark,
			),
			$disabled: (
				$blue,
				$blue-dark,
				$blue
			)
		);

		&.is-destructive {
			&:hover:not(:disabled) {
				background-color: transparent;
			}
		}
	}

	&.is-secondary-grey {
		background-color: $white-dark;

		&:hover, &:focus {
			background-color: lighten($black, 95%);
		}

		&.is-pressed {
			color: $color-secondary;
			background-color: $black;
		}
	}

	&.is-tertiary-outline {
		@include secondary-button-style(
			$normal: (
				lighten($black, 55%),
				lighten($black, 85%)
			),
			$hover: (
				$color-tertiary-outline-hover-focus,
				$color-tertiary-outline-hover-focus-bg,
				$color-tertiary-outline-box-shadow-disabled-hover
			),
			$focus-active: (
				$color-tertiary-outline-hover-focus,
				$color-tertiary-outline-hover-focus-bg,
				$color-tertiary-outline-box-shadow,
				inherit,
			),
			$disabled: (
				inherit,
				darken($white, 15%),
				$color-tertiary-outline-box-shadow-disabled-hover
			)
		);
	}

	&.is-tertiary {
		color: $color-tertiary;

		&:hover:not(:disabled) {
			color: $color-tertiary;
			background-color: darken($white, 3%);
			box-shadow: none;
		}

		&:active:not(:disabled), 
		&:focus:not(:disabled), 
		&:focus:hover:not(:disabled) {
			box-shadow: inset 0 0 0 1.5px $color-tertiary;
		}

		&:disabled,
		&[aria-disabled="true"],
		&:disabled:hover,
		&[aria-disabled="true"]:hover {
			background-color: transparent;
			opacity: 0.3;
		}
	}

	//Button Has Icon
	@include button-has-icon-style (
		32px,
		28px,
		16px,
		6px,
		10px,
		5px,
		15px
	);

	&.is-small {
		@include button-has-icon-style (
			24px,
			24px,
			13px,
			6px,
			6px,
			3px,
			13px
		);
	}

	&.is-large {
		height: 36px;
		line-height: 22px;
		padding: 12px 20px;

		@include button-has-icon-style (
			24px,
			32px,
			18px,
			12px,
			12px,
			5px,
			17px
		);
				
		&.has-icon{
			&:not(.has-text) {
				padding: 12px 10px;
			}
		}
	}
}
