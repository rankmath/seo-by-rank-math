@import '@wordpress/components/build-style/style.css';
@import './partials/variables';
@import './partials/mixins';

// Secondary Variant Variables
$color-secondary: lighten($color-black, 35%);
$color-secondary-box-shadow: lighten($color-black, 75%);
$color-secondary-box-shadow-2: $color-gray;
$color-secondary-hover-focus: lighten($color-black, 20%);
$color-secondary-hover-focus-bg: lighten($color-black, 97%);

// Tertiary-Outline Variables
$color-tertiary-outline-box-shadow: lighten($color-black, 60%);
$color-tertiary-outline-box-shadow-disabled-hover: lighten($color-black, 45%);
$color-tertiary-outline-hover-focus: lighten($color-black, 40%);
$color-tertiary-outline-hover-focus-bg:lighten($color-black, 98%);

// Tertiary Variables
$color-tertiary: $color-gray;


.components-button {
	height: 32px;
	padding: 6px 14px;

	&.is-primary {
		&:disabled,
		&[aria-disabled="true"] {
			opacity: 0.3;
			color: rgba($color-white, 0.8);
		}

		&.is-destructive {
			&:active, &:focus {
				outline-color: $color-destructive;
				color: $color-white;

				&:hover {
					background-color: $color-destructive--hover;
					box-shadow: inset 0 0 0 1px $color-white, 0 0 0 $border-width--focus $color-blue;
				}
			}
		}
	}

	&.is-secondary {
		@include secondary-button-style(
			$normal: (
				$color-secondary, 
				$color-secondary-box-shadow,
			),
			$hover: (
				$color-secondary-hover-focus,
				$color-secondary-hover-focus-bg,
				$color-secondary-box-shadow-2,
			),
			$focus-active: (
				$color-secondary-hover-focus,
				$color-secondary-hover-focus-bg, 
				$color-secondary-box-shadow-2,
				lighten($color-black, 87%),
			),
			$disabled: (
				inherit,
				darken($color-white, 20%),
				$color-secondary-box-shadow-2
			)
		);

		&.is-destructive {
			@include secondary-button-style(
				$normal: (
					$color-destructive,
					$color-destructive
				),
				$hover: (
					$color-destructive--hover,
					inherit,
					$color-destructive--hover,
				),
				$focus-active: (
					$color-destructive,
					$color-white-dark,
					$color-destructive,
					darken($color-white, 5%),
				),
				$disabled: (
					inherit,
					inherit,
					$color-destructive
				)
			);
		}
	}

	&.is-primary-outline {
		@include secondary-button-style(
			$normal: (
				$color-blue,
				$color-blue
			),
			$hover: (
				$color-blue,
				$color-blue--hover,
				$color-blue
			),
			$focus-active: (
				$color-blue,
				$color-blue--hover,
				$color-blue,
				$color-blue--focus,
			),
			$disabled: (
				$color-blue,
				$color-blue--focus,
				$color-blue
			)
		);

		&.is-destructive {
			&:hover:not(:disabled) {
				background-color: transparent;
			}
		}
	}

	&.is-secondary-grey {
		background-color: $color-white-dark;

		&:hover, &:focus {
			background-color: lighten($color-black, 95%);
		}

		&.is-pressed {
			color: $color-secondary;
			background-color: $color-black;
		}
	}

	&.is-tertiary-outline {
		@include secondary-button-style(
			$normal: (
				lighten($color-black, 55%),
				lighten($color-black, 85%)
			),
			$hover: (
				$color-tertiary-outline-hover-focus,
				$color-tertiary-outline-hover-focus-bg,
				$color-tertiary-outline-box-shadow-disabled-hover
			),
			$focus-active: (
				$color-tertiary-outline-hover-focus,
				$color-tertiary-outline-hover-focus-bg,
				$color-tertiary-outline-box-shadow,
				inherit,
			),
			$disabled: (
				inherit,
				darken($color-white, 15%),
				$color-tertiary-outline-box-shadow-disabled-hover
			)
		);
	}

	&.is-tertiary {
		color: $color-tertiary;

		&:hover:not(:disabled) {
			color: $color-tertiary;
			background-color: darken($color-white, 3%);
			box-shadow: none;
		}

		&:active:not(:disabled), 
		&:focus:not(:disabled), 
		&:focus:hover:not(:disabled) {
			box-shadow: inset 0 0 0 1.5px $color-tertiary;
		}

		&:disabled,
		&[aria-disabled="true"],
		&:disabled:hover,
		&[aria-disabled="true"]:hover {
			background-color: transparent;
			opacity: 0.3;
		}
	}

	//Button Has Icon
	@include button-has-icon-style (
		32px,
		28px,
		16px,
		6px,
		10px,
		5px,
		15px
	);

	&.is-small {
		@include button-has-icon-style (
			24px,
			24px,
			13px,
			6px,
			6px,
			3px,
			13px
		);
	}

	&.is-large {
		height: 36px;
		line-height: 22px;
		padding: 12px 20px;

		@include button-has-icon-style (
			24px,
			32px,
			18px,
			12px,
			12px,
			5px,
			17px
		);
				
		&.has-icon{
			&:not(.has-text) {
				padding: 12px 10px;
			}
		}
	}
}
