!function(){"use strict";var t={n:function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,{a:r}),r},d:function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{deleteSchema:function(){return ze},lockModifiedDate:function(){return ht},refreshResults:function(){return _e},resetDirtyMetadata:function(){return yt},resetRedirection:function(){return Mt},resetStore:function(){return gt},saveSchema:function(){return Le},saveTemplate:function(){return He},schemaUpdated:function(){return Ce},setEditingSchemaId:function(){return Re},setEditorTab:function(){return Ue},setTemplateTab:function(){return xe},setVersion:function(){return Se},toggleFrontendScore:function(){return st},toggleIsDiviPageSettingsBarActive:function(){return Pe},toggleIsDiviRankMathModalActive:function(){return Te},toggleLoaded:function(){return ve},toggleSchemaEditor:function(){return Ae},toggleSchemaTemplates:function(){return Me},toggleSnippetEditor:function(){return $t},updateAIScore:function(){return Ge},updateAdvancedRobots:function(){return ft},updateAnalysisScore:function(){return lt},updateAppData:function(){return at},updateAppUi:function(){return ot},updateBreadcrumbTitle:function(){return mt},updateCanonicalUrl:function(){return pt},updateDescription:function(){return It},updateEditSchema:function(){return Ke},updateEditSchemas:function(){return Ne},updateFacebookDescription:function(){return vt},updateFacebookHasOverlay:function(){return _t},updateFacebookImage:function(){return kt},updateFacebookImageID:function(){return wt},updateFacebookImageOverlay:function(){return St},updateFacebookTitle:function(){return bt},updateFeaturedImage:function(){return Ot},updateHasRedirect:function(){return Ct},updateHighlightedParagraphs:function(){return De},updateKeywords:function(){return ut},updatePermalink:function(){return Tt},updatePillarContent:function(){return ct},updatePostID:function(){return Pt},updatePrimaryTermID:function(){return Et},updateRedirection:function(){return jt},updateRedirectionItem:function(){return At},updateRobots:function(){return dt},updateSchemas:function(){return Fe},updateSelectedKeyword:function(){return ke},updateSerpDescription:function(){return Wt},updateSerpSlug:function(){return Vt},updateSerpTitle:function(){return Bt},updateSnippetPreviewType:function(){return Jt},updateSocialTab:function(){return we},updateTitle:function(){return Dt},updateTwitterAppCountry:function(){return be},updateTwitterAppDescription:function(){return ce},updateTwitterAppGoogleplayID:function(){return he},updateTwitterAppGoogleplayName:function(){return ye},updateTwitterAppGoogleplayUrl:function(){return ge},updateTwitterAppIpadID:function(){return fe},updateTwitterAppIpadName:function(){return de},updateTwitterAppIpadUrl:function(){return me},updateTwitterAppIphoneID:function(){return se},updateTwitterAppIphoneName:function(){return le},updateTwitterAppIphoneUrl:function(){return pe},updateTwitterAuthor:function(){return Zt},updateTwitterCardType:function(){return Qt},updateTwitterDescription:function(){return Yt},updateTwitterHasOverlay:function(){return re},updateTwitterImage:function(){return ee},updateTwitterImageID:function(){return te},updateTwitterImageOverlay:function(){return ne},updateTwitterPlayerSize:function(){return ae},updateTwitterPlayerStreamCtype:function(){return ue},updateTwitterPlayerStreamUrl:function(){return oe},updateTwitterPlayerUrl:function(){return ie},updateTwitterTitle:function(){return Xt},updateTwitterUseFacebook:function(){return qt}});var r={};t.r(r),t.d(r,{appData:function(){return qe},appUi:function(){return er}});var n={};t.r(n),t.d(n,{getAdvancedRobots:function(){return cr},getAnalysisScore:function(){return ir},getAppData:function(){return rr},getBreadcrumbTitle:function(){return lr},getCanonicalUrl:function(){return sr},getDescription:function(){return Mr},getDirtyMetadata:function(){return nr},getEditSchemas:function(){return Xr},getEditingSchema:function(){return Yr},getEditorTab:function(){return tn},getFacebookAuthor:function(){return Pr},getFacebookDescription:function(){return Sr},getFacebookHasOverlay:function(){return Ir},getFacebookImage:function(){return Dr},getFacebookImageID:function(){return Tr},getFacebookImageOverlay:function(){return Or},getFacebookTitle:function(){return _r},getFeaturedImage:function(){return Cr},getFeaturedImageHtml:function(){return Rr},getHighlightedParagraphs:function(){return wr},getKeywords:function(){return ar},getPermalink:function(){return Ar},getPillarContent:function(){return or},getPostID:function(){return Er},getPreviewSchema:function(){return Zr},getPrimaryTermID:function(){return Ur},getRedirectionID:function(){return xr},getRedirectionItem:function(){return Kr},getRedirectionType:function(){return Nr},getRedirectionUrl:function(){return Fr},getRichSnippets:function(){return pr},getRobots:function(){return ur},getSchemas:function(){return Qr},getSelectedKeyword:function(){return hr},getSerpDescription:function(){return Br},getSerpSlug:function(){return Gr},getSerpTitle:function(){return Hr},getShowScoreFrontend:function(){return fr},getSnippetPreviewType:function(){return Wr},getSocialTab:function(){return yr},getTemplateTab:function(){return en},getTitle:function(){return jr},getTwitterAppCountry:function(){return _n},getTwitterAppDescription:function(){return fn},getTwitterAppGoogleplayID:function(){return vn},getTwitterAppGoogleplayName:function(){return kn},getTwitterAppGoogleplayUrl:function(){return wn},getTwitterAppIpadID:function(){return yn},getTwitterAppIpadName:function(){return gn},getTwitterAppIpadUrl:function(){return bn},getTwitterAppIphoneID:function(){return dn},getTwitterAppIphoneName:function(){return mn},getTwitterAppIphoneUrl:function(){return hn},getTwitterAuthor:function(){return un},getTwitterCardType:function(){return nn},getTwitterDescription:function(){return on},getTwitterHasOverlay:function(){return ln},getTwitterImage:function(){return sn},getTwitterImageID:function(){return cn},getTwitterImageOverlay:function(){return pn},getTwitterPlayerSize:function(){return Pn},getTwitterPlayerStream:function(){return Tn},getTwitterPlayerStreamCtype:function(){return Dn},getTwitterPlayerUrl:function(){return Sn},getTwitterTitle:function(){return an},getTwitterUseFacebook:function(){return rn},hasRedirect:function(){return Lr},hasSchemaUpdated:function(){return qr},isDiviPageSettingsBarActive:function(){return vr},isDiviRankMathModalActive:function(){return kr},isLoaded:function(){return mr},isModifiedDateLocked:function(){return dr},isPro:function(){return br},isRefreshing:function(){return gr},isSchemaEditorOpen:function(){return $r},isSchemaTemplatesOpen:function(){return Jr},isSnippetEditorOpen:function(){return Vr}});var i=jQuery,a=t.n(i),o=lodash,u=wp.hooks,c=wp.data,s=wp.element,l=rankMathAnalyzer,p=wp.i18n;var f=wp.apiFetch,d=t.n(f),m={"&amp;":"&","&quot;":'"',"&#39;":"'"},h=/&(?:amp|quot|#(0+)?39);/g,y=RegExp(h.source);var g=function(t){return t&&y.test(t)?t.replace(h,function(t){return m[t]||"'"}):t||""},b=function(t){return t.replace(/<\/?[a-z][^>]*?>/gi,"")},v=function(t){return t.replace(/<style[^>]*>([\S\s]*?)<\/style>/gim,"")},k=function(t){return t.replace(/&nbsp;|&#160;/gi," ").replace(/\s{2,}/g," ").replace(/\s\./g,".").replace(/^\s+|\s+$/g,"")},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,e)},_=function(t){return t.replace(/[‘’‛`]/g,"'").replace(/[“”〝〞〟‟„]/g,'"')},S=function(t){return t.replace(/<!--[\s\S]*?-->/g,"")},P=function(t){return t.replace(/&\S+?;/g,"")};function T(t){return(0,o.isUndefined)(t)||!t?"":(0,o.flow)([v,w,b,S,P,k,_])(t)}var D={};(0,o.isUndefined)(rankMath.assessor)||(0,o.forEach)(rankMath.assessor.diacritics,function(t,e){return D[e]=new RegExp(t,"g")});var I=function(t){if((0,o.isUndefined)(t))return t;for(var e in D)t=t.replace(D[e],e);return t},O=wp.compose,E=wp.components;function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach(function(e){C(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function C(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=j(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==j(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var R=(0,O.compose)((0,c.withSelect)(function(t){return{lock:t("rank-math").isModifiedDateLocked()}}),(0,c.withDispatch)(function(t){return{onChange:function(e){t("rank-math").lockModifiedDate(e);var r=wp.data.select("core/editor");if(!(0,o.isUndefined)(r)&&!(0,o.isUndefined)(r.getEditedPostAttribute("meta"))){var n=M(M({},r.getEditedPostAttribute("meta")),{},{rank_math_lock_modified_date:e});t("core/editor").editPost({meta:n})}}}}))(function(t){var e=t.lock,r=t.onChange;return wp.element.createElement("div",null,wp.element.createElement(E.ToggleControl,{label:(0,p.__)("Lock Modified Date","rank-math"),checked:e,onChange:function(t){return r(t)}}))});function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function x(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function a(r,n,i,a){var c=n&&n.prototype instanceof u?n:u,s=Object.create(c.prototype);return N(s,"_invoke",function(r,n,i){var a,u,c,s=0,l=i||[],p=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return a=e,u=0,c=t,f.n=r,o}};function d(r,n){for(u=r,c=n,e=0;!p&&s&&!i&&e<l.length;e++){var i,a=l[e],d=f.p,m=a[2];r>3?(i=m===n)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=d&&((i=r<2&&d<a[1])?(u=0,f.v=n,f.n=a[1]):d<m&&(i=r<3||a[0]>n||n>m)&&(a[4]=r,a[5]=n,f.n=m,u=0))}if(i||r>1)return o;throw p=!0,n}return function(i,l,m){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,m),u=l,c=m;(e=u<2?t:c)||!p;){a||(u?u<3?(u>1&&(f.n=-1),d(u,c)):f.n=c:f.v=c);try{if(s=2,a){if(u||(i="next"),e=a[i]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+i+"' method"),u=1);a=t}else if((e=(p=f.n<0)?c:r.call(n,f))!==o)break}catch(e){a=t,u=1,c=e}finally{s=1}}return{value:e,done:p}}}(r,i,a),!0),s}var o={};function u(){}function c(){}function s(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(N(e={},n,function(){return this}),e),p=s.prototype=u.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,N(t,i,"GeneratorFunction")),t.prototype=Object.create(p),t}return c.prototype=s,N(p,"constructor",s),N(s,"constructor",c),c.displayName="GeneratorFunction",N(s,i,"GeneratorFunction"),N(p),N(p,i,"Generator"),N(p,n,function(){return this}),N(p,"toString",function(){return"[object Generator]"}),(x=function(){return{w:a,m:f}})()}function N(t,e,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}N=function(t,e,r,n){function a(e,r){N(t,e,function(t){return this._invoke(e,r,t)})}e?i?i(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(a("next",0),a("throw",1),a("return",2))},N(t,e,r,n)}function F(t,e,r,n,i,a,o){try{var u=t[a](o),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}function K(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(t){F(a,n,i,o,u,"next",t)}function u(t){F(a,n,i,o,u,"throw",t)}o(void 0)})}}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z(n.key),n)}}function z(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}var H=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.analyzer=new l.Analyzer({i18n:p,analyses:rankMath.assessor.researchesTests}),this.dataCollector=e,this.promises=[],this.hooks(),this.registerRefresh(),this.saveEvent()},e=[{key:"hooks",value:function(){this.updateKeywordResult=this.updateKeywordResult.bind(this),this.sanitizeData=this.sanitizeData.bind(this),this.addScoreElem=this.addScoreElem.bind(this),this.addLockModifiedDate=this.addLockModifiedDate.bind(this),(0,u.addAction)("rankMath_analysis_keywordUsage_updated","rank-math",this.updateKeywordResult),(0,u.addFilter)("rank_math_sanitize_meta_value","rank-math",this.sanitizeData),(0,u.addFilter)("rank_math_sanitize_data","rank-math",this.sanitizeData),(0,u.addAction)("rank_math_loaded","rank-math",this.addLockModifiedDate,11),(0,u.addAction)("rank_math_loaded","rank-math",this.addScoreElem,11)}},{key:"addScoreElem",value:function(){var t=this;rankMath.showScore&&rankMath.canUser.analysis&&rankMath.canUser.general&&(this.scoreElem=a()('<div class="misc-pub-section rank-math-seo-score"></div>'),a()("#misc-publishing-actions").append(this.scoreElem),setTimeout(function(){t.scoreText='<span class="score-text"><span class="score-icon"><i class="rm-icon-rank-math"></i></span> SEO: <strong>'+p.__("Not available","rank-math")+"</strong></span>",t.scoreElem.html(t.scoreText),t.scoreText=t.scoreElem.find("strong"),t.fkScoreText='<span class="score-text">'+p.__("Not available","rank-math")+"</span>",t.fkScoreElem=a()('<div class="rank-math-seo-score below-focus-keyword">'+t.fkScoreText+"</div>"),t.fkScoreText=t.fkScoreElem.find("span"),a()("#rank-math-metabox-wrapper .rank-math-focus-keyword").find("tags").parent("div").append(t.fkScoreElem),t.updateScore=t.updateScore.bind(t),t.updateScore(),(0,u.addAction)("rank_math_refresh_results","rank-math",t.updateScore)},2e3))}},{key:"addLockModifiedDate",value:function(){var t=a()("#misc-publishing-actions");t.length&&rankMath.showLockModifiedDate&&(t.append('<div class="misc-pub-section rank-math-lock-modified-date" id="rank-math-lock-modified-date"></div>'),(0,s.createRoot)(document.getElementById("rank-math-lock-modified-date")).render(wp.element.createElement(R,null)))}},{key:"updateScore",value:function(){var t,e=rankMathEditor.resultManager.getScore(rankMathEditor.getPrimaryKeyword()),r=100<(t=e)?"bad-fk dark":80<t?"good-fk":50<t?"ok-fk":"bad-fk";this.scoreElem.removeClass("loading bad-fk ok-fk good-fk"),this.fkScoreElem.removeClass("loading bad-fk ok-fk good-fk"),this.scoreElem.addClass(r),this.fkScoreElem.addClass(r),this.scoreText.html(e+" / 100"),this.fkScoreText.html(e+" / 100")}},{key:"sanitizeData",value:function(t,e){return"schemas"===e||(0,o.isObject)(t)||(0,o.isEmpty)(t)?t:(r=t,(0,o.isUndefined)(r)?"":(0,o.flow)([v,w,b,S])(r));var r}},{key:"getPaper",value:function(t,e){var r=this.dataCollector.getData(),n=new l.Paper("",{locale:rankMath.localeFull});n.setTitle((0,c.select)("rank-math").getSerpTitle()),n.setPermalink(r.slug),n.setDescription((0,c.select)("rank-math").getSerpDescription()),n.setUrl(r.permalink),n.setText(g((0,u.applyFilters)("rank_math_content",r.content))),n.setKeyword(t),n.setKeywords(e),n.setSchema((0,c.select)("rank-math").getSchemas()),(0,o.isUndefined)(r.featuredImage)||(n.setThumbnail(r.featuredImage.source_url),n.setThumbnailAltText(I(r.featuredImage.alt_text)));var i=(0,c.select)("rank-math-content-ai");if(!(0,o.isEmpty)(i)){var a=i.getData(),s=i.getScore();n.setContentAI(s||!(0,o.isEmpty)(a.keyword))}return n}},{key:"registerRefresh",value:function(){var t=this;this.refresh=(0,o.debounce)(function(e){if(!1!==(0,c.select)("rank-math").isLoaded()){var r=(0,c.select)("rank-math").getKeywords().split(","),n=[];(0,u.doAction)("rank_math_"+e+"_refresh"),r.map(function(e,i){var a=t.getPaper(I(e),r),o=0===i?rankMath.assessor.researchesTests:t.filterTests(t.getSecondaryKeywordTests());n.push(t.analyzer.analyzeSome(o,a).then(function(t){rankMathEditor.resultManager.update(a.getKeyword(),t,0===i),0===i&&(0,c.dispatch)("rank-math").updateAnalysisScore(rankMathEditor.resultManager.getScore(a.getKeyword()))})),Promise.all(n).then(function(){(0,c.dispatch)("rank-math").refreshResults(),t.refreshResults()})})}},500)}},{key:"updateKeywordResult",value:function(t,e){rankMathEditor.resultManager.update(t,{keywordNotUsed:e}),t===rankMathEditor.getSelectedKeyword().toLowerCase()&&(0,c.dispatch)("rank-math").refreshResults()}},{key:"getSecondaryKeywordTests",value:function(){return["keywordInContent","lengthContent","keywordInSubheadings","keywordDensity","lengthPermalink","linksHasExternals","linksNotAllExternals","linksHasInternal","titleSentiment","titleHasPowerWords","titleHasNumber","contentHasTOC","contentHasShortParagraphs","contentHasAssets"]}},{key:"getPrimaryKeyword",value:function(){var t=(0,c.select)("rank-math").getKeywords();return I(t.split(",")[0])}},{key:"getSelectedKeyword",value:function(){var t=(0,c.select)("rank-math").getKeywords(),e=(0,c.select)("rank-math").getSelectedKeyword(),r=""!==e.data.value?e.data.value:t.split(",")[0];return I(r)}},{key:"getResearch",value:function(t){return this.analyzer.researcher.getResearch(t)}},{key:"refreshResults",value:function(){(0,u.doAction)("rank_math_refresh_results")}},{key:"filterTests",value:function(t){return(0,o.intersection)(t,rankMath.assessor.researchesTests)}},{key:"saveEvent",value:function(){var t=this;if(!(0,o.isUndefined)(this.dataCollector.form)&&!(0,o.isUndefined)(this.dataCollector.updateBtn)){var e=!0;this.dataCollector.form.on("submit",function(r){if(e&&!(0,o.isUndefined)(r.originalEvent)){r.preventDefault();var n=t.dataCollector.updateBtn.data("disable")&&t.dataCollector.saveDraft.length?t.dataCollector.saveDraft:t.dataCollector.updateBtn;n.addClass("disabled").parent().find(".spinner").addClass("is-active"),e=!1;var i=t.saveMeta(),a=t.saveSchemas(i),u=t.saveRedirection(a);return Promise.all([i,a,u]).then(function(){n.removeClass("disabled").trigger("click")}).catch(function(){n.removeClass("disabled").trigger("click")}),!1}})}}},{key:"saveMeta",value:function(){return new Promise(function(t){var e=(0,c.select)("rank-math").getDirtyMetadata();(0,o.isEmpty)(e)?t(!0):(d()({method:"POST",path:"rankmath/v1/updateMeta",data:{objectID:rankMath.objectID,objectType:rankMath.objectType,meta:e,content:rankMathEditor.assessor.dataCollector.getContent()}}).then(function(){t(!0)}).catch(function(){t(!0)}),(0,c.dispatch)("rank-math").resetDirtyMetadata())})}},{key:"saveRedirection",value:function(t){return new Promise(function(){var e=K(x().m(function e(r){var n,i,a;return x().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t;case 1:if(n=(0,c.select)("rank-math").getRedirectionItem(),!(0,o.isEmpty)(n)){e.n=2;break}return r(!0),e.a(2);case 2:n.objectID=window.rankMath.objectID,n.objectType=window.rankMath.objectType,n.redirectionSources=rankMathEditor.assessor.dataCollector.getData("permalink"),i=(0,c.dispatch)("rank-math"),a=(0,c.dispatch)("core/notices"),i.resetRedirection(),d()({method:"POST",path:"rankmath/v1/updateRedirection",data:n}).then(function(t){"delete"===t.action?(a.createInfoNotice(t.message,{id:"redirectionNotice"}),i.updateRedirection("redirectionID",0)):"update"===t.action?a.createInfoNotice(t.message,{id:"redirectionNotice"}):"new"===t.action&&(i.updateRedirection("redirectionID",t.id),a.createSuccessNotice(t.message,{id:"redirectionNotice"})),setTimeout(function(){a.removeNotice("redirectionNotice")},2e3),r(!0)}).catch(function(){r(!0)});case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"saveSchemas",value:function(t){return new Promise(function(){var e=K(x().m(function e(r){var n;return x().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t;case 1:if(n=(0,c.select)("rank-math").getSchemas(),!(0,o.isEmpty)(n)&&(0,c.select)("rank-math").hasSchemaUpdated()){e.n=2;break}return r(!0),e.a(2);case 2:d()({method:"POST",path:"rankmath/v1/updateSchemas",data:{objectID:rankMath.objectID,objectType:rankMath.objectType,schemas:n}}).then(function(){r(!0)}).catch(function(){r(!0)});case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())}}],e&&L(t.prototype,e),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),G=H,B=function(){return!((0,o.isNil)(window.wp)||(0,o.isNil)(wp.data)||(0,o.isNil)(wp.data.select("core/editor"))||!window.document.body.classList.contains("block-editor-page")||!(0,o.isFunction)(wp.data.select("core/editor").getEditedPostAttribute))},V=function(){return!(0,o.isNull)(document.getElementById("site-editor"))&&(0,o.endsWith)(wp.data.select("core/edit-site").getEditedPostId(),"//home")};function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function $(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J(n.key),n)}}function J(t){var e=function(t,e){if("object"!=W(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==W(e)?e:e+""}var q=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(rankMath.is_front_page||V())&&((0,u.addFilter)("rankMath_analysis_contentLength","rank-math",this.contentLength),(0,u.addFilter)("rankMath_analysis_contentLength_boundaries","rank-math",this.contentLengthBoundary))},(e=[{key:"contentLength",value:function(t){return{hasScore:t.hasScore,failed:(0,p.__)("Content is %1$d words long. Consider using at least 300 words.","rank-math"),tooltipText:(0,p.__)("Minimum recommended content length should be 300 words.","rank-math"),emptyContent:(0,p.sprintf)((0,p.__)("Content should be %1$s long.","rank-math"),'<a href="https://rankmath.com/kb/score-100-in-tests/?utm_source=Plugin&utm_campaign=WP#overall-content-length" target="_blank">'+(0,p.__)("300 words","rank-math")+"</a>")}}},{key:"contentLengthBoundary",value:function(){return{recommended:{boundary:299,score:8},belowRecommended:{boundary:200,score:5},low:{boundary:50,score:2}}}}])&&$(t.prototype,e),r&&$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y(n.key),n)}}function Y(t){var e=function(t,e){if("object"!=Q(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Q(e)?e:e+""}var Z=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.methods=[],this.init=this.init.bind(this),this.refresh=this.refresh.bind(this),(0,u.addAction)("rank_math_loaded","rank-math",this.init)},e=[{key:"init",value:function(){this.methods.length&&rankMathEditor.refresh("content")}},{key:"registerPlugin",value:function(){console.warn("RankMathApp.registerPlugin is deprecated.")}},{key:"refresh",value:function(t){console.warn("RankMathApp.refresh is deprecated, use rankMathEditor.refresh()"),this.methods.push(t)}},{key:"reloadPlugin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";console.warn("RankMathApp.reloadPlugin is deprecated, use rankMathEditor.refresh()"),this.refresh(e)}}],e&&X(t.prototype,e),r&&X(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),tt=Z;function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nt(n.key),n)}}function nt(t){var e=function(t,e){if("object"!=et(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==et(e)?e:e+""}var it=new(function(){return t=function t(){var e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,n=null,(r=nt(r="map"))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n},(e=[{key:"swap",value:function(t,e){var r=this;if(!(t=t||""))return"";var n=new RegExp(/%(([a-z0-9_-]+)\(([^)]*)\)|[^\s]+)%/,"giu");return t.replace(" %page%","").replace("%sep% %sep%","%sep%").replace(n,function(t){return r.replace(e,t)}).trim()}},{key:"replace",value:function(t,e){var r=e.toLowerCase().slice(1,-1);return["term_description","user_description"].includes(r)?"undefined"!=typeof tinymce&&void 0!==tinymce.editors.rank_math_description_editor?tinymce.editors.rank_math_description_editor.getContent():a()("#description").val():r.includes("customfield(")?(r=r.replace("customfield(","").replace(")",""))in rankMath.customFields?rankMath.customFields[r]:"":(t=t||this.getMap(),(r="seo_description"===(r="seo_title"===(r=r.includes("(")?r.split("(")[0]:r)?"title":r)?"excerpt":r)in t?t[r]:"")}},{key:"getMap",value:function(){var t=this;return null!==this.map||(this.map={},a().each(rankMath.variables,function(e,r){e=e.toLowerCase().replace(/%+/g,"").split("(")[0],t.map[e]=r.example})),this.map}},{key:"setVariable",value:function(t,e){null!==this.map?this.map[t]=e:void 0!==rankMath.variables[t]&&(rankMath.variables[t].example=e)}}])&&rt(t.prototype,e),r&&rt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}());function at(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e=(0,u.applyFilters)("rank_math_sanitize_data",e,t,r),null!==n&&(n=(0,u.applyFilters)("rank_math_sanitize_meta_value",n,t,r)),n=null===n?e:n,(0,u.doAction)("rank_math_data_changed",t,e,r),{type:"RANK_MATH_APP_DATA",key:t,value:e,metaKey:r,metaValue:n}}function ot(t,e){return(0,u.doAction)("rank_math_update_app_ui",t,e),{type:"RANK_MATH_APP_UI",key:t,value:e}}function ut(t){return it.setVariable("focuskw",t.split(",")[0]),rankMathEditor.refresh("keyword"),at("keywords",t,"rank_math_focus_keyword")}function ct(t){return at("pillarContent",t,"rank_math_pillar_content",!0===t?"on":"off")}function st(t){return at("showScoreFrontend",t,"rank_math_dont_show_seo_score",!0===t?"off":"on")}function lt(t){return at("score",t,"rank_math_seo_score")}function pt(t){return at("canonicalUrl",t,"rank_math_canonical_url")}function ft(t){return at("advancedRobots",t,"rank_math_advanced_robots")}function dt(t){return at("robots",t,"rank_math_robots",Object.keys(t))}function mt(t){return at("breadcrumbTitle",t,"rank_math_breadcrumb_title")}function ht(t){return at("lockModifiedDate",t,"rank_math_lock_modified_date")}function yt(){return at("dirtyMetadata",{})}function gt(t){return{type:"RESET_STORE",value:t}}function bt(t){return at("facebookTitle",t,"rank_math_facebook_title")}function vt(t){return at("facebookDescription",t,"rank_math_facebook_description")}function kt(t){return at("facebookImage",t,"rank_math_facebook_image")}function wt(t){return at("facebookImageID",t,"rank_math_facebook_image_id")}function _t(t){return at("facebookHasOverlay",t,"rank_math_facebook_enable_image_overlay",!0===t?"on":"off")}function St(t){return at("facebookImageOverlay",t,"rank_math_facebook_image_overlay")}function Pt(t){return rankMath.objectID=t,at("postID",t)}function Tt(t){return at("permalink",t,"permalink")}function Dt(t){return at("title",t,"rank_math_title")}function It(t){return at("description",t,"rank_math_description")}function Ot(t){return at("featuredImage",t)}function Et(t,e){return at("primaryTerm",parseInt(t),"rank_math_primary_"+e)}function jt(t,e){return at(t,e)}function At(t){return ot("redirectionItem",t)}function Mt(){return ot("redirectionItem",{})}function Ct(t){return ot("hasRedirect",t)}var Rt=wp.autop,Ut="[^<>&/\\[\\]\0- =]+?",xt=new RegExp("\\["+Ut+"( [^\\]]+?)?\\]","g"),Nt=new RegExp("\\[/"+Ut+"\\]","g"),Ft=function(t){return t.replace(xt,"").replace(Nt,"")},Kt=function(t,e){var r=function(t,e){for(var r,n=/<p(?:[^>]+)?>(.*?)<\/p>/gi,i=[];null!==(r=n.exec(t));)i.push(r);return(0,o.map)(i,function(t){return e?T(t[1]):t[1]})}(t=(0,o.flow)([Ft,S,Rt.autop])(t),e=e||!1);return 0<r.length?r:[e?T(t):t]},Lt=document.createElement("div");function zt(t){return t&&"string"==typeof t&&(t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"").replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),Lt.innerHTML=t,t=Lt.textContent,Lt.textContent=""),t}var Ht=function(t,e){return t=(t=T(t)).replace(/\r?\n|\r/g," "),e?(0,o.truncate)(t,{length:e,separator:" "}):t},Gt=function(t){if((0,o.isEmpty)(t))return"";t=w(t),t=v(t),t=(0,o.unescape)(t).replace(/\[caption[^\]]*\](.*)\[\/caption\]/g,"");var e=(0,o.filter)(Kt(t,!0),function(t){return""!==t.trim()});if(!e.length)return"";var r=rankMathEditor.getPrimaryKeyword();if(""!==r){var n=(0,o.filter)(e,function(t){return(0,o.includes)(t.toLowerCase(),r.toLowerCase())});if(0<n.length)return Ht(n[0],160)}return Ht(e[0],160)};function Bt(t){return t=it.swap(""!==t?t:rankMath.assessor.serpData.titleTemplate),rankMathEditor.refresh("title"),ot("serpTitle",zt(t))}function Vt(t){return t=""!==t?t:rankMathEditor.assessor.dataCollector.getSlug(),rankMathEditor.refresh("permalink"),ot("serpSlug",t)}function Wt(t){return t=it.swap(function(t){var e=rankMathEditor.assessor.dataCollector.getData(),r=e.excerpt,n=Gt(e.content),i=(0,o.isUndefined)(r)||(0,o.isEmpty)(r)?n:(0,o.unescape)(r);if(it.setVariable("excerpt",i),it.setVariable("seo_description",i),""!==(t=zt((0,u.applyFilters)("rankMath/description",t))))return T(t);if(!(0,o.isUndefined)(r)&&!(0,o.isEmpty)(r))return T(r);var a=(0,o.unescape)(rankMath.assessor.serpData.descriptionTemplate);return(0,o.isUndefined)(a)||""===a?n:T(a)}(t)),rankMathEditor.refresh("description"),ot("serpDescription",t)}function $t(t){return ot("isSnippetEditorOpen",t)}function Jt(t){return ot("snippetPreviewType",t)}function qt(t){return at("twitterUseFacebook",t,"rank_math_twitter_use_facebook",!0===t?"on":"off")}function Qt(t){return at("twitterCardType",t,"rank_math_twitter_card_type")}function Xt(t){return at("twitterTitle",t,"rank_math_twitter_title")}function Yt(t){return at("twitterDescription",t,"rank_math_twitter_description")}function Zt(t){return at("twitterAuthor",t,"rank_math_twitter_author")}function te(t){return at("twitterImageID",t,"rank_math_twitter_image_id")}function ee(t){return at("twitterImage",t,"rank_math_twitter_image")}function re(t){return at("twitterHasOverlay",t,"rank_math_twitter_enable_image_overlay",!0===t?"on":"off")}function ne(t){return at("twitterImageOverlay",t,"rank_math_twitter_image_overlay")}function ie(t){return at("twitterPlayerUrl",t,"rank_math_twitter_player_url")}function ae(t){return at("twitterPlayerSize",t,"rank_math_twitter_player_size")}function oe(t){return at("twitterPlayerStream",t,"rank_math_twitter_player_stream")}function ue(t){return at("twitterPlayerStreamCtype",t,"rank_math_twitter_player_stream_ctype")}function ce(t){return at("twitterAppDescription",t,"rank_math_twitter_app_description")}function se(t){return at("twitterAppIphoneID",t,"rank_math_twitter_app_iphone_id")}function le(t){return at("twitterAppIphoneName",t,"rank_math_twitter_app_iphone_name")}function pe(t){return at("twitterAppIphoneUrl",t,"rank_math_twitter_app_iphone_url")}function fe(t){return at("twitterAppIpadID",t,"rank_math_twitter_app_ipad_id")}function de(t){return at("twitterAppIpadName",t,"rank_math_twitter_app_ipad_name")}function me(t){return at("twitterAppIpadUrl",t,"rank_math_twitter_app_ipad_url")}function he(t){return at("twitterAppGoogleplayID",t,"rank_math_twitter_app_googleplay_id")}function ye(t){return at("twitterAppGoogleplayName",t,"rank_math_twitter_app_googleplay_name")}function ge(t){return at("twitterAppGoogleplayUrl",t,"rank_math_twitter_app_googleplay_url")}function be(t){return at("twitterAppCountry",t,"rank_math_twitter_app_country")}function ve(t){return ot("isLoaded",t)}function ke(t){return ot("selectedKeyword",t)}function we(t){return ot("socialTab",t)}function _e(){return ot("refreshResults",Date.now())}function Se(){return ot("isPro",!0)}function Pe(t){return ot("isDiviPageSettingsBarActive",t)}function Te(t){return ot("isDiviRankMathModalActive",t)}function De(t){return ot("highlightedParagraphs",t)}function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(r),!0).forEach(function(e){je(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function je(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Ie(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ie(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ae(t){return ot("isSchemaEditorOpen",t)}function Me(t){return ot("isSchemaTemplatesOpen",t)}function Ce(t){return ot("schemaUpdated",t)}function Re(t){return ot("editingSchemaId",t)}function Ue(t){return ot("editorTab",t)}function xe(t){return ot("templateTab",t)}function Ne(t){return ot("editSchemas",t)}function Fe(t){return at("schemas",t)}function Ke(t,e){var r=Ee({},(0,c.select)("rank-math").getEditSchemas());return r[t]=e,ot("editSchemas",r)}function Le(t,e){var r=Ee({},(0,c.select)("rank-math").getSchemas());return r[t]=e,at("schemas",r)}function ze(t){var e=Ee({},(0,c.select)("rank-math").getSchemas());return delete e[t],(0,u.doAction)("rank_math_schema_trash",t),at("schemas",e,"rank_math_delete_"+t,"")}function He(t,e,r){return d()({method:"POST",path:"rankmath/v1/saveTemplate",data:{schema:t,postId:r}}).then(function(r){e({loading:!1,showNotice:!0,postId:r.id}),setTimeout(function(){e({showNotice:!1}),(0,o.get)(rankMath,"isTemplateScreen",!1)&&(document.title=(0,p.__)("Edit Schema","rank-math"),window.history.pushState(null,"",r.link.replace(/&amp;/g,"&")))},2e3),rankMath.schemaTemplates.push({schema:t,title:t.metadata.title,type:t["@type"]})}),e({loading:!0}),{type:"DONT_WANT_TO_DO_SOMETHING"}}function Ge(t){return at("contentAIScore",t,"rank_math_contentai_score",t)}function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function Ve(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function We(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ve(Object(r),!0).forEach(function(e){$e(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function $e(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Be(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Be(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Je=function(t){var e=t.assessor.serpData,r=t.assessor.hasRedirection;return{postID:null,title:e.title?e.title:e.titleTemplate,description:e.description,keywords:e.focusKeywords?e.focusKeywords:"",pillarContent:e.pillarContent,featuredImage:"",permalink:!1,primaryTerm:e.primaryTerm,robots:e.robots,advancedRobots:e.advancedRobots,canonicalUrl:e.canonicalUrl,breadcrumbTitle:e.breadcrumbTitle,showScoreFrontend:e.showScoreFrontend,lockModifiedDate:e.lockModifiedDate,redirectionID:r?(0,o.get)(t.assessor,"redirection.id",""):"",redirectionType:r?(0,o.get)(t.assessor,"redirection.header_code",""):"",redirectionUrl:r?(0,o.get)(t.assessor,"redirection.url_to",""):"",facebookTitle:e.facebookTitle,facebookImage:e.facebookImage,facebookImageID:e.facebookImageID,facebookAuthor:e.facebookAuthor,facebookDescription:e.facebookDescription,facebookHasOverlay:e.facebookHasOverlay,facebookImageOverlay:e.facebookImageOverlay,twitterTitle:e.twitterTitle,twitterImage:e.twitterImage,twitterAuthor:e.twitterAuthor,twitterImageID:e.twitterImageID,twitterCardType:e.twitterCardType,twitterUseFacebook:e.twitterUseFacebook,twitterDescription:e.twitterDescription,twitterHasOverlay:e.twitterHasOverlay,twitterImageOverlay:e.twitterImageOverlay,twitterPlayerUrl:e.twitterPlayerUrl,twitterPlayerSize:e.twitterPlayerSize,twitterPlayerStream:e.twitterPlayerStream,twitterPlayerStreamCtype:e.twitterPlayerStreamCtype,twitterAppDescription:e.twitterAppDescription,twitterAppIphoneName:e.twitterAppIphoneName,twitterAppIphoneID:e.twitterAppIphoneID,twitterAppIphoneUrl:e.twitterAppIphoneUrl,twitterAppIpadName:e.twitterAppIpadName,twitterAppIpadID:e.twitterAppIpadID,twitterAppIpadUrl:e.twitterAppIpadUrl,twitterAppGoogleplayName:e.twitterAppGoogleplayName,twitterAppGoogleplayID:e.twitterAppGoogleplayID,twitterAppGoogleplayUrl:e.twitterAppGoogleplayUrl,twitterAppCountry:e.twitterAppCountry,schemas:(0,o.get)(t,"schemas",{}),score:0,dirtyMetadata:{}}};function qe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je(rankMath),e=arguments.length>1?arguments[1]:void 0,r=We({},t.dirtyMetadata);return!1!==e.metaKey&&(r[e.metaKey]=e.metaValue),"RESET_STORE"===e.type?We({},Je(e.value)):"RANK_MATH_APP_DATA"===e.type?"dirtyMetadata"===e.key?We(We({},t),{},{dirtyMetadata:e.value}):We(We({},t),{},$e($e({},e.key,e.value),"dirtyMetadata",r)):t}function Qe(t){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qe(t)}function Xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(r),!0).forEach(function(e){Ze(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Ze(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Qe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qe(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tr={isLoaded:!1,isPro:!1,selectedKeyword:{tag:"",index:0,data:{value:""}},hasRedirect:rankMath.assessor.hasRedirection&&!(0,o.isEmpty)((0,o.get)(rankMath.assessor,"redirection.id",""))&&!(0,o.isEmpty)((0,o.get)(rankMath.assessor,"redirection.url_to","")),serpTitle:"",serpSlug:"",serpDescription:(0,o.get)(rankMath.assessor,"serpData.description",""),isSnippetEditorOpen:!1,snippetPreviewType:"",refreshResults:"",redirectionItem:{},socialTab:"facebook",highlightedParagraphs:[],editorTab:"",templateTab:"",editSchemas:{},editingSchemaId:"",isSchemaEditorOpen:!1,isSchemaTemplatesOpen:!1,schemaUpdated:!1,isDiviRankMathModalActive:!1,isDiviPageSettingsBarActive:!1};function er(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,e=arguments.length>1?arguments[1]:void 0;return"RANK_MATH_APP_UI"===e.type?Ye(Ye({},t),{},Ze({},e.key,e.value)):t}function rr(t){return t.appData}function nr(t){return t.appData.dirtyMetadata}function ir(t){return t.appData.score}function ar(t){return t.appData.keywords}function or(t){return t.appData.pillarContent}function ur(t){return t.appData.robots}function cr(t){return t.appData.advancedRobots}function sr(t){return t.appData.canonicalUrl}function lr(t){return t.appData.breadcrumbTitle}function pr(t){return"todo"}function fr(t){return t.appData.showScoreFrontend}function dr(t){return t.appData.lockModifiedDate}function mr(t){return t.appUi.isLoaded}function hr(t){return t.appUi.selectedKeyword}function yr(t){return t.appUi.socialTab}function gr(t){return t.appUi.refreshResults}function br(t){return t.appUi.isPro}function vr(t){return t.appUi.isDiviPageSettingsBarActive}function kr(t){return t.appUi.isDiviRankMathModalActive}function wr(t){return t.appUi.highlightedParagraphs}function _r(t){return t.appData.facebookTitle}function Sr(t){return t.appData.facebookDescription}function Pr(t){return t.appData.facebookAuthor}function Tr(t){return t.appData.facebookImageID}function Dr(t){return t.appData.facebookImage}function Ir(t){return t.appData.facebookHasOverlay}function Or(t){return""!==t.appData.facebookImageOverlay?t.appData.facebookImageOverlay:"play"}function Er(t){return t.appData.postID}function jr(t){return t.appData.title}function Ar(t){return t.appData.permalink}function Mr(t){return t.appData.description}function Cr(t){return t.appData.featuredImage}function Rr(t){var e=t.appData.featuredImage;return'<img src="'.concat(e.source_url,'" alt="').concat(e.alt_text,'" >')}function Ur(t){return t.appData.primaryTerm}function xr(t){return String(t.appData.redirectionID)}function Nr(t){return t.appData.redirectionType}function Fr(t){return t.appData.redirectionUrl}function Kr(t){return t.appUi.redirectionItem}function Lr(t){return t.appUi.hasRedirect}var zr=wp.url;function Hr(t){return zt(t.appUi.serpTitle)}function Gr(t){return(0,zr.safeDecodeURIComponent)(t.appUi.serpSlug)}function Br(t){return t.appUi.serpDescription}function Vr(t){return t.appUi.isSnippetEditorOpen}function Wr(t){return t.appUi.snippetPreviewType}function $r(t){return t.appUi.isSchemaEditorOpen}function Jr(t){return t.appUi.isSchemaTemplatesOpen}function qr(t){return t.appUi.schemaUpdated}function Qr(t){return t.appData.schemas}function Xr(t){return t.appUi.editSchemas}function Yr(t){return{id:t.appUi.editingSchemaId,data:t.appUi.editSchemas[t.appUi.editingSchemaId]}}function Zr(t){return t.appData.schemas[t.appUi.editingSchemaId]}function tn(t){return t.appUi.editorTab}function en(t){return t.appUi.templateTab}function rn(t){return t.appData.twitterUseFacebook}function nn(t){return t.appData.twitterCardType}function an(t){return t.appData.twitterTitle}function on(t){return t.appData.twitterDescription}function un(t){return t.appData.twitterAuthor}function cn(t){return t.appData.twitterImageID}function sn(t){return t.appData.twitterImage}function ln(t){return t.appData.twitterHasOverlay}function pn(t){return""!==t.appData.twitterImageOverlay?t.appData.twitterImageOverlay:"play"}function fn(t){return t.appData.twitterAppDescription}function dn(t){return t.appData.twitterAppIphoneID}function mn(t){return t.appData.twitterAppIphoneName}function hn(t){return t.appData.twitterAppIphoneUrl}function yn(t){return t.appData.twitterAppIpadID}function gn(t){return t.appData.twitterAppIpadName}function bn(t){return t.appData.twitterAppIpadUrl}function vn(t){return t.appData.twitterAppGoogleplayID}function kn(t){return t.appData.twitterAppGoogleplayName}function wn(t){return t.appData.twitterAppGoogleplayUrl}function _n(t){return t.appData.twitterAppCountry}function Sn(t){return t.appData.twitterPlayerUrl}function Pn(t){return t.appData.twitterPlayerSize}function Tn(t){return t.appData.twitterPlayerStream}function Dn(t){return t.appData.twitterPlayerStreamCtype}(0,c.registerStore)("rank-math",{reducer:(0,c.combineReducers)(r),selectors:n,actions:e});function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function On(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,En(n.key),n)}}function En(t){var e=function(t,e){if("object"!=In(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==In(e)?e:e+""}var jn=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.updateBtn=a()("#publish"),this.form=a()("#post"),this._data={id:!1,slug:!1,permalink:!1,content:!1,title:!1,excerpt:!1,featuredImage:!1,description:""},this.refresh=this.refresh.bind(this),(0,u.addAction)("rank_math_loaded","rank-math",this.refresh),this.setup(),this.init()},e=[{key:"init",value:function(){var t=this;this.elemTitle.on("input",(0,o.debounce)(function(){t.handleTitleChange(t.elemTitle.val())},500)).trigger("input"),this.elemDescription.on("input",(0,o.debounce)(function(){t.handleExcerptChange(t.elemDescription.val())},500)).trigger("input"),this.elemSlug.on("input",(0,o.debounce)(function(){rankMathEditor.updatePermalink(t.elemSlug.val())},500))}},{key:"collectData",value:function(){this._data={id:this.getPostID(),slug:this.getSlug(),permalink:this.getPermalink(),content:this.getContent(),title:this.getTitle(),excerpt:this.getExcerpt(),featuredImage:this.getFeaturedImage()}}},{key:"getPostID",value:function(){return rankMath.objectID}},{key:"getTitle",value:function(){return this.elemTitle.val()}},{key:"getExcerpt",value:function(){var t=this.elemDescription.val();return it.setVariable("excerpt",t),it.setVariable("excerpt_only",t),it.setVariable("wc_shortdesc",t),it.setVariable("seo_description",t),t}},{key:"getPermalink",value:function(){return this.getSlug()?rankMath.permalinkFormat.replace(/%(postname|pagename|term|author)%/,this.getSlug()):""}},{key:"getSlug",value:function(){return this.elemSlug.val()}},{key:"getFeaturedImage",value:function(){return this.featuredImage}},{key:"refresh",value:function(){this.collectData(),(0,c.dispatch)("rank-math").toggleLoaded(!0),rankMathEditor.refresh("init")}},{key:"handleSlugChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];("auto-draft"!==this.getStatus()||e)&&this.elemSlug.val(t),a()("#editable-post-name").text(t),a()("#editable-post-name-full").text(t),this._data.slug=this.getSlug(),this._data.permalink=this.getPermalink(),(0,c.dispatch)("rank-math").updateSerpSlug(t),rankMathEditor.refresh("permalink")}},{key:"handleTitleChange",value:function(t){it.setVariable("title",t),it.setVariable("term",t),it.setVariable("author",t),(0,c.dispatch)("rank-math").updateSerpTitle((0,c.select)("rank-math").getTitle()),rankMathEditor.refresh("title")}},{key:"handleExcerptChange",value:function(){this._data.excerpt=this.getExcerpt(),(0,c.dispatch)("rank-math").updateSerpDescription((0,c.select)("rank-math").getDescription()),rankMathEditor.refresh("content")}},{key:"handleFeaturedImageChange",value:function(){this._data.featuredImage=this.getFeaturedImage(),(0,c.dispatch)("rank-math").updateFeaturedImage(this.getFeaturedImage()),rankMathEditor.refresh("featuredImage")}},{key:"handleContentChange",value:function(){this._data.excerpt=this.getExcerpt(),this._data.content=this.getContent(),(0,c.dispatch)("rank-math").updateSerpDescription((0,c.select)("rank-math").getDescription()),rankMathEditor.refresh("content")}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t?this._data[t]:this._data;return(0,u.applyFilters)("rank_math_dataCollector_data",e)}},{key:"updateData",value:function(t,e){this._data[t]=e}},{key:"isTinymce",value:function(){return"undefined"!=typeof tinymce}},{key:"getStatus",value:function(){var t=!(0,o.isUndefined)(this.postStatus)&&this.postStatus.length?this.postStatus.val():"";return(0,o.isUndefined)(t)?"":t}}],e&&On(t.prototype,e),r&&On(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),An=jn;function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function Cn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rn(n.key),n)}}function Rn(t){var e=function(t,e){if("object"!=Mn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mn(e)?e:e+""}function Un(t,e,r){return e=Nn(e),function(t,e){if(e&&("object"==Mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xn()?Reflect.construct(e,r||[],Nn(t).constructor):e.apply(t,r))}function xn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xn=function(){return!!t})()}function Nn(t){return Nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nn(t)}function Fn(t,e){return Fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fn(t,e)}var Kn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Un(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fn(t,e)}(e,t),r=e,(n=[{key:"setup",value:function(){this.elemSlug=a()("#post_name"),this.elemTitle=a()("#title"),this.elemDescription=a()("#excerpt"),this.elemContent=a()("#content"),this.saveDraft=a()("#save-post"),this.postStatus=a()("#original_post_status"),this.assessThumbnail=this.assessThumbnail.bind(this),(0,u.addAction)("rank_math_updated_featured_image","rank-math",this.assessThumbnail),this.events()}},{key:"getContent",value:function(){if(null!==this.elemContent&&0!==this.elemContent.length)return this.isTinymce()&&tinymce.activeEditor&&!(0,o.isNull)(tinymce.get("content"))?tinymce.get("content").getContent():this.elemContent.val()}},{key:"getSlug",value:function(){var t=""===this.elemSlug.val()&&a()("#editable-post-name-full").length?a()("#editable-post-name-full").text():this.elemSlug.val();return(0,o.isUndefined)(t)?"":t}},{key:"events",value:function(){var t=this;this.elemContent.on("input change",(0,o.debounce)(function(){t.handleContentChange()},500)).trigger("change");var e=function(){t.isTinymce()&&(tinymce.activeEditor&&!(0,o.isUndefined)(tinymce.editors.content)&&tinymce.editors.content.on("keyup change",(0,o.debounce)(function(){t.handleContentChange()},500)),tinymce.editors&&!(0,o.isUndefined)(tinymce.editors.excerpt)&&tinymce.editors.excerpt.on("keyup change",(0,o.debounce)(function(){tinymce.editors.excerpt.save(),t.handleExcerptChange()},500)))};"undefined"!=typeof tinymce&&tinymce.on("AddEditor",e),a()(window).on("load",e),a()(document).on("ajaxComplete",function(e,r,n){var i="/admin-ajax.php";if(i===n.url.substr(-15)){var o="";"string"==typeof n.data&&-1!==n.data.indexOf("action=sample-permalink")&&(o=""===r.responseText?t.elemTitle.val():a()("<div>"+r.responseText+"</div>").find("#editable-post-name-full").text(),rankMathEditor.updatePermalink(o))}}),this.saveDraft.on("click",function(){t.updateBtn.attr("data-disable","true")})}},{key:"assessThumbnail",value:function(t){this.featuredImage={source_url:t.src,alt_text:t.alt},this.handleFeaturedImageChange(t)}}])&&Cn(r.prototype,n),i&&Cn(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(An),Ln=Kn;function zn(t){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(t)}function Hn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gn(n.key),n)}}function Gn(t){var e=function(t,e){if("object"!=zn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=zn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zn(e)?e:e+""}function Bn(t,e,r){return e=Wn(e),function(t,e){if(e&&("object"==zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vn()?Reflect.construct(e,r||[],Wn(t).constructor):e.apply(t,r))}function Vn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Vn=function(){return!!t})()}function Wn(t){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wn(t)}function $n(t,e){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$n(t,e)}var Jn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Bn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$n(t,e)}(e,t),r=e,(n=[{key:"setup",value:function(){this.updateBtn=a()('.edit-tag-actions input[type="submit"]'),this.form=a()("#edittag"),this.elemSlug=a()("#slug"),this.elemTitle=a()("#name"),this.elemDescription=a()("#rank_math_description_editor"),this.events()}},{key:"getContent",value:function(){return null===this.elemDescription||0===this.elemDescription.length?"":this.isTinymce()&&tinymce.activeEditor&&"rank_math_description_editor"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():this.elemDescription.val()}},{key:"events",value:function(){var t=this;a()(window).on("load",function(){t.isTinymce()&&tinymce.activeEditor&&!(0,o.isUndefined)(tinymce.editors.rank_math_description_editor)&&tinymce.editors.rank_math_description_editor.on("keyup change",(0,o.debounce)(function(){t.handleContentChange()},500))})}}])&&Hn(r.prototype,n),i&&Hn(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(An),qn=Jn;function Qn(t){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(t)}function Xn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yn(n.key),n)}}function Yn(t){var e=function(t,e){if("object"!=Qn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qn(e)?e:e+""}function Zn(t,e,r){return e=ei(e),function(t,e){if(e&&("object"==Qn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ti()?Reflect.construct(e,r||[],ei(t).constructor):e.apply(t,r))}function ti(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ti=function(){return!!t})()}function ei(t){return ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ei(t)}function ri(t,e){return ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ri(t,e)}var ni=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Zn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ri(t,e)}(e,t),r=e,(n=[{key:"setup",value:function(){this.updateBtn=a()("#submit"),this.form=a()("#your-profile"),this.elemSlug=a()("#user_login"),this.elemTitle=a()("#display_name"),this.elemDescription=a()("#description")}},{key:"getContent",value:function(){return this.elemDescription.val()}}])&&Xn(r.prototype,n),i&&Xn(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(An),ii=ni,ai=wp.plugins,oi=wp.editPost;function ui(t){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ui(t)}function ci(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ci(Object(r),!0).forEach(function(e){pi(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ci(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function li(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fi(n.key),n)}}function pi(t,e,r){return(e=fi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fi(t){var e=function(t,e){if("object"!=ui(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ui(e)?e:e+""}var di=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pi(this,"initialize",!1),pi(this,"isSavingRedirection",!1),pi(this,"isSavingSchemas",!1),pi(this,"oldSlug",!1),this._data={id:!1,slug:!1,permalink:!1,content:!1,title:!1,excerpt:!1,featuredImage:!1},this.refresh=this.refresh.bind(this),this.isSavingPost=this.isSavingPost.bind(this),this.getPostAttribute=this.getPostAttribute.bind(this),this.subscribeToGutenberg(),this.lockModifiedDate()},(e=[{key:"lockModifiedDate",value:function(){rankMath.showLockModifiedDate&&(0,ai.registerPlugin)("rank-math-lock-last-modified",{render:function(){return wp.element.createElement(oi.PluginPostStatusInfo,null,wp.element.createElement(R,null))}})}},{key:"collectGutenbergData",value:function(){return B()?(this._coreEditorSelect||(this._coreEditorSelect=(0,c.select)("core/editor")),!1===this.oldSlug&&""!==this.getSlug()&&(this.oldSlug=this.getSlug()),{id:this.getPostID(),slug:this.getSlug(),permalink:this.getPermalink(),content:this.getPostAttribute("content"),title:this.getPostAttribute("title"),excerpt:this.getPostAttribute("excerpt"),featuredImage:this.getFeaturedImage()}):{}}},{key:"getPostID",value:function(){return this._coreEditorSelect.getCurrentPostId()}},{key:"getPermalink",value:function(){if(V())return rankMath.homeUrl;if("auto-draft"===this.getPostAttribute("status"))return"";var t=this.getPostAttribute("generated_slug");return"auto-draft"!==t&&"en"===rankMath.locale||(t=""),(0,zr.safeDecodeURIComponent)(this._coreEditorSelect.getPermalink())}},{key:"getSlug",value:function(){var t=this.getPostAttribute("generated_slug");return"auto-draft"===t&&(t=""),(0,zr.safeDecodeURIComponent)(this.getPostAttribute("slug")||t)}},{key:"getFeaturedImage",value:function(){var t=this.getPostAttribute("featured_media");if(this.isValidMediaId(t)){var e=(0,c.select)("core").getMedia(t);if(!(0,o.isUndefined)(e))return e}}},{key:"isValidMediaId",value:function(t){return"number"==typeof t&&0<t}},{key:"getPostAttribute",value:function(t){return B()?(this._coreEditorSelect||(this._coreEditorSelect=(0,c.select)("core/editor")),this._coreEditorSelect.getEditedPostAttribute(t)):""}},{key:"subscribeToGutenberg",value:function(){this.subscriber=(0,o.debounce)(this.refresh,500),(0,c.subscribe)(this.subscriber),(0,c.subscribe)(this.isSavingPost)}},{key:"refresh",value:function(){var t=si({},this._data);this._data=this.collectGutenbergData(),this.handleEditorChange(t)}},{key:"isSavingPost",value:function(){var t=(0,c.select)("core/editor");if(!t.isAutosavingPost()&&t.isSavingPost()){var e=(0,c.select)("rank-math").getDirtyMetadata();(0,o.isEmpty)(e)||(d()({method:"POST",path:"rankmath/v1/updateMeta",data:{objectID:rankMath.objectID,objectType:rankMath.objectType,meta:e,content:(0,u.applyFilters)("rank_math_content",this.getPostAttribute("content"))}}).then(function(t){(0,u.doAction)("rank_math_metadata_updated",t)}),(0,c.dispatch)("rank-math").resetDirtyMetadata()),"publish"===this.getPostAttribute("status")&&(this.saveRedirection(),this.autoCreateRedirectionNotice()),this.saveSchemas()}}},{key:"saveSchemas",value:function(){var t=this;if(!this.isSavingSchemas){var e=(0,c.select)("rank-math").getSchemas();if(!(0,o.isEmpty)(e)&&(0,c.select)("rank-math").hasSchemaUpdated()){this.isSavingSchemas=!0;var r=(0,c.select)("rank-math").getEditSchemas();d()({method:"POST",path:"rankmath/v1/updateSchemas",data:{objectID:this.getPostID(),objectType:rankMath.objectType,schemas:e}}).then(function(n){var i=si({},e),a=si({},r);(0,o.isEmpty)(n)||(0,o.map)(n,function(t,e){i["schema-"+t]=si({},i[e]),a["schema-"+t]=si({},a[e]),delete i[e],delete a[e]}),(0,c.dispatch)("rank-math").updateSchemas(i),(0,c.dispatch)("rank-math").updateEditSchemas(a),setTimeout(function(){(0,c.dispatch)("rank-math").schemaUpdated(!1),(0,u.doAction)("rank_math_schema_changed"),t.isSavingSchemas=!1},2e3)})}}}},{key:"saveRedirection",value:function(){var t=this;if(!this.isSavingRedirection){var e=(0,c.select)("rank-math").getRedirectionItem();if(!(0,o.isEmpty)(e)){this.isSavingRedirection=!0,e.objectID=this.getPostID(),e.redirectionSources=this.getPermalink();var r=(0,c.dispatch)("rank-math"),n=(0,c.dispatch)("core/notices");r.resetRedirection(),d()({method:"POST",path:"rankmath/v1/updateRedirection",data:e}).then(function(e){"delete"===e.action?(n.createInfoNotice(e.message,{id:"redirectionNotice"}),r.updateRedirection("redirectionID",0)):"update"===e.action?n.createInfoNotice(e.message,{id:"redirectionNotice"}):"new"===e.action&&(r.updateRedirection("redirectionID",e.id),n.createSuccessNotice(e.message,{id:"redirectionNotice"})),setTimeout(function(){t.isSavingRedirection=!1,n.removeNotice("redirectionNotice")},2e3)})}}}},{key:"autoCreateRedirectionNotice",value:function(){if(rankMath.assessor.hasRedirection&&(0,o.get)(rankMath,["assessor","autoCreateRedirection"],!1)&&!(0,c.select)("core/editor").isEditedPostNew()&&!1!==this.oldSlug){var t=this.getSlug();if(this.oldSlug!==t){var e=(0,c.dispatch)("core/notices");this.oldSlug=t,e.createSuccessNotice((0,p.__)("Auto redirection created.","rank-math"),{id:"redirectionAutoCreationNotice"}),setTimeout(function(){e.removeNotice("redirectionAutoCreationNotice")},2e3)}}}},{key:"handleEditorChange",value:function(t){var e=this,r={id:"handleIDChange",slug:"handleSlugChange",title:"handleTitleChange",excerpt:"handleExcerptChange",content:"handleContentChange",featuredImage:"handleFeaturedImageChange"};if(t.id)return this.initialize?void(0,o.forEach)(r,function(r,n){e._data[n]!==t[n]&&e[r](e._data[n])}):(this.initialize=!0,(0,o.forEach)(r,function(t,r){e[t](e._data[r])}),void rankMathEditor.refresh("init"));(0,c.dispatch)("rank-math").refreshResults()}},{key:"handleIDChange",value:function(t){V()&&(t=0),(0,c.dispatch)("rank-math").updatePostID(t),(0,c.dispatch)("rank-math").toggleLoaded(!0),(0,u.doAction)("rank_math_id_changed")}},{key:"handleSlugChange",value:function(){""!==this.getSlug()&&!1===this.oldSlug&&(this.oldSlug=this.getSlug()),rankMathEditor.refresh("permalink")}},{key:"handleTitleChange",value:function(t){it.setVariable("title",t),it.setVariable("term",t),it.setVariable("author",t),(0,c.dispatch)("rank-math").updateSerpTitle((0,c.select)("rank-math").getTitle()),rankMathEditor.refresh("title")}},{key:"handleExcerptChange",value:function(t){it.setVariable("excerpt",t),it.setVariable("excerpt_only",t),it.setVariable("wc_shortdesc",t),it.setVariable("seo_description",t),(0,c.dispatch)("rank-math").updateSerpDescription((0,c.select)("rank-math").getDescription())}},{key:"handleFeaturedImageChange",value:function(t){(0,c.dispatch)("rank-math").updateFeaturedImage(t),rankMathEditor.refresh("featuredImage")}},{key:"handleContentChange",value:function(){(0,c.dispatch)("rank-math").updateSerpDescription((0,c.select)("rank-math").getDescription()),rankMathEditor.refresh("content")}},{key:"getData",value:function(){return(0,u.applyFilters)("rank_math_dataCollector_data",this._data)}}])&&li(t.prototype,e),r&&li(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),mi=di;function hi(t){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(t)}function yi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bi(n.key),n)}}function gi(t,e,r){return e&&yi(t.prototype,e),r&&yi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bi(t){var e=function(t,e){if("object"!=hi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hi(e)?e:e+""}var vi=gi(function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"post"===rankMath.objectType&&rankMath.postSettings.linkSuggestions){a().fn.extend({insertLink:function(t,e){var r=this[0],n="";if(r.selectionStart||"0"===r.selectionStart){var i=r.selectionStart,a=r.selectionEnd,o=r.scrollTop;n='<a href="'+t+'">'+r.value.substring(i,a)+"</a>",i===a&&(n='<a href="'+t+'">'+e+"</a>"),r.value=r.value.substring(0,i)+n+r.value.substring(a,r.value.length),r.focus(),r.selectionStart=i+n.length,r.selectionEnd=i+n.length,r.scrollTop=o}else n='<a href="'+t+'">'+e+"</a>",r.value+=n,r.focus()}});if("function"==typeof ClipboardJS&&a()(".suggestion-copy").on("click",function(t){t.preventDefault(),new ClipboardJS(".suggestion-copy");var e=a()(this).parent().next(".suggestion-title"),r=e.html();e.text("Link Copied"),setTimeout(function(){e.html(r)},1500)}),"object"!==("undefined"==typeof tinymce?"undefined":hi(tinymce)))return!0;var e=null,r=null;a()(".suggestion-insert").on("click",function(t){t.preventDefault();var n,i,o,u,s=a()(this);if(s.hasClass("clicked"))return!0;if(null!==tinymce.activeEditor&&!0!==tinymce.activeEditor.isHidden()&&"content"===tinymce.activeEditor.id){e=tinymce.activeEditor,r=a()(e.getBody());var l=e.selection.getContent()||"";if(r.find("a[data-mce-selected]").length){var p=(n="",i="",o=e.selection.getStart(),(u=e.dom.getParent(o,"a[href]"))||(i=e.selection.getContent({format:"raw"}))&&-1!==i.indexOf("</a>")&&((n=i.match(/href="([^">]+)"/))&&n[1]&&(u=e.$('a[href="'+n[1]+'"]',o)[0]),u&&e.selection.select(u)),u);e.dom.setAttribs(p,{href:s.data("url")}),a()(p).text()!==l&&e.insertContent(l)}else l.length?e.insertContent('<a href="'+s.data("url")+'">'+l+"</a>"):e.insertContent('<a href="'+s.data("url")+'">'+s.data("text")+"</a>")}else if(B()){var f=(0,c.select)("core/block-editor").getSelectedBlock().clientId,d=(0,c.select)("core/block-editor").getSelectionStart().offset,m=(0,c.select)("core/block-editor").getSelectionEnd().offset;if(document.getSelection){var h=document.getSelection();if(h.rangeCount){var y=h.getRangeAt(0),g=a()("#block-"+f).text().substring(d,m),b=document.createElement("a");b.href=s.data("url"),b.innerText=""!==g?g:s.data("text"),y.deleteContents(),y.insertNode(b);var v=h.focusNode.innerHTML;(0,c.dispatch)("core/block-editor").updateBlock(f,{attributes:{content:v}})}}}var k=s.closest(".suggestion-item").find(".suggestion-title"),w=k.html();k.text("Link Inserted"),s.addClass("clicked"),setTimeout(function(){var t,e,r,n;k.html(w),s.removeClass("clicked"),!0===rankMath.postSettings.useFocusKeyword&&(e=s,r=(t=k).data("fkcount")||0,n=t.data("fk"),(r+=1)===n.length&&(r=0),t.find(">a").text(n[r]),t.data("fkcount",r),e.data("text",n[r]))},1500)}),a()("#rank_math_metabox_link_suggestions").find("h2").append(a()("#rank-math-link-suggestions-tooltip").html())}});function ki(t){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(t)}function wi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Si(n.key),n)}}function _i(t,e,r){return e&&wi(t.prototype,e),r&&wi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Si(t){var e=function(t,e){if("object"!=ki(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ki(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ki(e)?e:e+""}var Pi=_i(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"post"===rankMath.objectType&&!1!==rankMath.assessor.primaryTaxonomy&&a()("[data-primary-term]").each(function(){var t=a()(this),e=t.val(),r=t.data("primary-term"),n=a()("#"+r+"div"),i=a()("#"+r+"checklist"),o=i.find("li"),u=i.find('input[type="checkbox"]:checked');o.addClass("rank-math-primary-term-li"),o.find("input").each(function(){var t=a()(this);t.parent().append('<span class="rank-math-tooltip"><input class="rank-math-make-primary" value="'+t.val()+'" type="radio" name="rank_math_primary_'+r+'"><span>'+(0,p.__)("Make Term Primary","rank-math")+"</span></span>")}),u.each(function(){var t=a()(this),r=t.closest("li");r.addClass("term-checked"),e===t.attr("value")&&(r.addClass("term-marked-primary"),r.find(">label .rank-math-make-primary").prop("checked",!0))}),n.on("click",'input[type="checkbox"]',function(){var e=a()(this).closest("li");if(e.toggleClass("term-checked"),1===i.find("li.term-checked").length||e.hasClass("term-marked-primary")&&!e.hasClass("term-checked")){var r=i.find("li.term-checked:first > label .rank-math-make-primary");0<r.length?r.trigger("click"):(o.removeClass("term-marked-primary"),o.find('input[type="radio"]').prop("checked",!1),t.val(""))}}),n.on("click",".rank-math-make-primary",function(){var e=a()(this),r=e.closest("li");o.removeClass("term-marked-primary"),r.addClass("term-marked-primary"),t.val(e.val())}),i.on("wpListAddEnd",function(){i.find("li:not(.rank-math-primary-term-li)").addClass("rank-math-primary-term-li term-checked").find("input").each(function(){var t=a()(this);t.parent().append('<span class="rank-math-tooltip"><input class="rank-math-make-primary" value="'+t.val()+'" type="radio" name="rank_math_primary_'+r+'"><span>'+(0,p.__)("Make Term Primary","rank-math")+"</span></span>")})})})});function Ti(t){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(t)}function Di(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ii(n.key),n)}}function Ii(t){var e=function(t,e){if("object"!=Ti(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ti(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ti(e)?e:e+""}var Oi=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image_src="",this.image_alt="",this.getFeaturedImage(),this.setImage(),this.removeImage(),B()&&this.gutenbergImage()},(e=[{key:"setImage",value:function(){var t=this;if(!(0,o.isUndefined)(wp.media)){var e=wp.media.featuredImage.frame();e.on("select",function(){var r=a()("#rank_math_post_thumbnail"),n=e.state().get("selection").first().toJSON();t.sizeWarning(n),1>r.length&&(r=a()('<img id="rank_math_post_thumbnail" />'),a()(".facebook-thumbnail",".rank-math-social-preview-image").before(r)),"large"in n.sizes?r.attr("src",n.sizes.large.url):r.attr("src",n.sizes.full.url),t.setFeaturedImage(n)})}}},{key:"removeImage",value:function(){var t=this;a()("#postimagediv").on("click","#remove-post-thumbnail",function(){a()("#rank_math_image_warning").remove(),a()("#rank_math_post_thumbnail").remove(),t.setFeaturedImage("")})}},{key:"gutenbergImage",value:function(){var t,e,r=this;wp.data.subscribe(function(){var n=wp.data.select("core/editor").getEditedPostAttribute("featured_media");r.isValidMediaId(n)&&(t=wp.data.select("core").getMedia(n),(0,o.isUndefined)(t)||t!==e&&(e=t,r.setFeaturedImage({url:t.guid.rendered,alt:t.alt_text})))})}},{key:"setFeaturedImage",value:function(t){var e={src:(0,o.get)(t,"url",""),alt:(0,o.get)(t,"alt","")};(0,u.doAction)("rank_math_updated_featured_image",e)}},{key:"sizeWarning",value:function(t){if(a()("#rank_math_image_warning").remove(),!(200<t.width&&200<t.height)){var e=a()("#postimagediv").find(".hndle");a()('<div id="rank_math_image_warning" class="notice notice-error notice-alt"><p>'+rankMath.featuredImageNotice+"</p></div>").insertAfter(e)}}},{key:"getFeaturedImage",value:function(){var t=a()("#postimagediv img");if(!t||t.length){var e={url:t[0].src,alt:t[0].alt};this.setFeaturedImage(e)}}},{key:"isValidMediaId",value:function(t){return"number"==typeof t&&0<t}}])&&Di(t.prototype,e),r&&Di(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Ei=(0,E.createSlotFill)("RankMathAfterEditor"),ji=Ei.Fill,Ai=Ei.Slot,Mi=function(t){var e=t.children,r=t.className;return wp.element.createElement(ji,null,wp.element.createElement(E.PanelRow,{className:r},e))};Mi.Slot=Ai;var Ci=Mi,Ri=(0,E.createSlotFill)("RankMathAdvancedTab"),Ui=Ri.Fill,xi=Ri.Slot,Ni=function(t){var e=t.children,r=t.className;return wp.element.createElement(Ui,null,wp.element.createElement(E.PanelRow,{className:r},e))};Ni.Slot=xi;var Fi=Ni,Ki=(0,E.createSlotFill)("RankMathAfterFocusKeyword"),Li=Ki.Fill,zi=Ki.Slot,Hi=function(t){var e=t.children,r=t.className;return wp.element.createElement(Li,null,wp.element.createElement("div",{className:r},e))};Hi.Slot=zi;var Gi=Hi;function Bi(t){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(t)}function Vi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wi(n.key),n)}}function Wi(t){var e=function(t,e){if("object"!=Bi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bi(e)?e:e+""}var $i=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"setup",value:function(){this.registerSlots=this.registerSlots.bind(this),(0,u.addAction)("rank_math_loaded","rank-math",this.registerSlots,0),this.resultManager=new l.ResultManager,this.assessor=new G(this.getCollector()),new q,this.registerComponents=this.registerComponents.bind(this),(0,u.addAction)("rank_math_loaded","rank-math",this.registerComponents,11)}},{key:"registerSlots",value:function(){this.RankMathAfterEditor=Ci,this.RankMathAfterFocusKeyword=Gi,this.RankMathAdvancedTab=Fi,this.slots={AfterEditor:Ci,AfterFocusKeyword:Gi,AdvancedTab:Fi}}},{key:"registerComponents",value:function(){this.components={},this.components.linkSuggestions=new vi,this.components.primaryTerm=new Pi,this.components.featuredImage=new Oi,rankMathAdmin.variableInserter(!1),setTimeout(function(){(0,s.createRoot)(document.getElementById("rank-math-metabox-wrapper")).render((0,s.createElement)((0,u.applyFilters)("rank_math_app",{})))},1e3)}},{key:"refresh",value:function(t){this.assessor.refresh(t)}},{key:"updatePermalink",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.assessor.dataCollector.handleSlugChange(t,e),(0,c.dispatch)("rank-math").updatePermalink(t)}},{key:"updatePermalinkSanitize",value:function(t){t=this.assessor.getResearch("slugify")(t),(0,c.dispatch)("rank-math").updatePermalink(t)}},{key:"getPrimaryKeyword",value:function(){return I(this.assessor.getPrimaryKeyword())}},{key:"getSelectedKeyword",value:function(){var t=this.assessor.getSelectedKeyword();return(0,o.isUndefined)(t)?"":I(t)}},{key:"getCollector",value:function(){return"post"===rankMath.objectType?B()?new mi:new Ln(this):"term"===rankMath.objectType?new qn:"user"===rankMath.objectType?new ii:void 0}}],e&&Vi(t.prototype,e),r&&Vi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();a()(function(){window.rankMathEditor=new $i,window.rankMathEditor.setup(),window.RankMathApp=new tt}),a()(window).on("load",function(){a().when(a().ready).then(function(){(0,u.doAction)("rank_math_loaded")})})}();