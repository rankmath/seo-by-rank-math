!function(){"use strict";var t={n:function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,{a:r}),r},d:function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{deleteSchema:function(){return he},refreshResults:function(){return qt},resetDirtyMetadata:function(){return Y},resetRedirection:function(){return pt},saveSchema:function(){return de},saveTemplate:function(){return me},schemaUpdated:function(){return oe},setEditingSchemaId:function(){return ue},setEditorTab:function(){return ce},setTemplateTab:function(){return se},setVersion:function(){return Yt},toggleFrontendScore:function(){return B},toggleIsDiviPageSettingsBarActive:function(){return Qt},toggleIsDiviRankMathModalActive:function(){return Xt},toggleLoaded:function(){return Wt},toggleSchemaEditor:function(){return ae},toggleSchemaTemplates:function(){return ie},toggleSnippetEditor:function(){return kt},updateAIScore:function(){return ge},updateAdvancedRobots:function(){return J},updateAnalysisScore:function(){return V},updateAppData:function(){return H},updateAppUi:function(){return K},updateBreadcrumbTitle:function(){return q},updateCanonicalUrl:function(){return W},updateDescription:function(){return ot},updateEditSchema:function(){return fe},updateEditSchemas:function(){return le},updateFacebookDescription:function(){return X},updateFacebookHasOverlay:function(){return et},updateFacebookImage:function(){return Z},updateFacebookImageID:function(){return tt},updateFacebookImageOverlay:function(){return rt},updateFacebookTitle:function(){return Q},updateFeaturedImage:function(){return ut},updateHasRedirect:function(){return ft},updateHighlightedParagraphs:function(){return Zt},updateKeywords:function(){return z},updateKeywordsData:function(){return ye},updatePermalink:function(){return at},updatePillarContent:function(){return G},updatePostID:function(){return nt},updatePrimaryTermID:function(){return ct},updateRedirection:function(){return st},updateRedirectionItem:function(){return lt},updateRobots:function(){return $},updateSchemas:function(){return pe},updateSelectedKeyword:function(){return Jt},updateSerpDescription:function(){return bt},updateSerpSlug:function(){return vt},updateSerpTitle:function(){return gt},updateSnippetPreviewType:function(){return wt},updateSocialTab:function(){return $t},updateTitle:function(){return it},updateTwitterAppCountry:function(){return Vt},updateTwitterAppDescription:function(){return Rt},updateTwitterAppGoogleplayID:function(){return zt},updateTwitterAppGoogleplayName:function(){return Gt},updateTwitterAppGoogleplayUrl:function(){return Bt},updateTwitterAppIpadID:function(){return Lt},updateTwitterAppIpadName:function(){return Ht},updateTwitterAppIpadUrl:function(){return Kt},updateTwitterAppIphoneID:function(){return Ut},updateTwitterAppIphoneName:function(){return Nt},updateTwitterAppIphoneUrl:function(){return Ft},updateTwitterAuthor:function(){return Dt},updateTwitterCardType:function(){return St},updateTwitterDescription:function(){return Pt},updateTwitterHasOverlay:function(){return Ot},updateTwitterImage:function(){return Et},updateTwitterImageID:function(){return It},updateTwitterImageOverlay:function(){return jt},updateTwitterPlayerSize:function(){return Ct},updateTwitterPlayerStreamCtype:function(){return xt},updateTwitterPlayerStreamUrl:function(){return Mt},updateTwitterPlayerUrl:function(){return At},updateTwitterTitle:function(){return Tt},updateTwitterUseFacebook:function(){return _t}});var r={};t.r(r),t.d(r,{appData:function(){return Pe},appUi:function(){return Ae}});var n={};t.r(n),t.d(n,{getAdvancedRobots:function(){return Fe},getAnalysisScore:function(){return xe},getAppData:function(){return Ce},getBreadcrumbTitle:function(){return He},getCanonicalUrl:function(){return Le},getContentAIScore:function(){return rn},getDescription:function(){return ur},getDirtyMetadata:function(){return Me},getEditSchemas:function(){return Dr},getEditingSchema:function(){return Ir},getEditorTab:function(){return Or},getFacebookAuthor:function(){return Ze},getFacebookDescription:function(){return Xe},getFacebookHasOverlay:function(){return rr},getFacebookImage:function(){return er},getFacebookImageID:function(){return tr},getFacebookImageOverlay:function(){return nr},getFacebookTitle:function(){return Qe},getFeaturedImage:function(){return cr},getFeaturedImageHtml:function(){return sr},getHighlightedParagraphs:function(){return Ye},getKeywords:function(){return Re},getKeywordsData:function(){return en},getPermalink:function(){return or},getPillarContent:function(){return Ue},getPostID:function(){return ar},getPreviewSchema:function(){return Er},getPrimaryTermID:function(){return lr},getRedirectionID:function(){return pr},getRedirectionItem:function(){return hr},getRedirectionType:function(){return fr},getRedirectionUrl:function(){return dr},getRichSnippets:function(){return Ke},getRobots:function(){return Ne},getSchemas:function(){return Pr},getSelectedKeyword:function(){return Be},getSerpDescription:function(){return br},getSerpSlug:function(){return vr},getSerpTitle:function(){return gr},getShowScoreFrontend:function(){return ze},getSnippetPreviewType:function(){return wr},getSocialTab:function(){return Ve},getTemplateTab:function(){return jr},getTitle:function(){return ir},getTwitterAppCountry:function(){return Yr},getTwitterAppDescription:function(){return Hr},getTwitterAppGoogleplayID:function(){return Jr},getTwitterAppGoogleplayName:function(){return $r},getTwitterAppGoogleplayUrl:function(){return qr},getTwitterAppIpadID:function(){return Br},getTwitterAppIpadName:function(){return Vr},getTwitterAppIpadUrl:function(){return Wr},getTwitterAppIphoneID:function(){return Kr},getTwitterAppIphoneName:function(){return zr},getTwitterAppIphoneUrl:function(){return Gr},getTwitterAuthor:function(){return Rr},getTwitterCardType:function(){return Cr},getTwitterDescription:function(){return xr},getTwitterHasOverlay:function(){return Fr},getTwitterImage:function(){return Nr},getTwitterImageID:function(){return Ur},getTwitterImageOverlay:function(){return Lr},getTwitterPlayerSize:function(){return Xr},getTwitterPlayerStream:function(){return Zr},getTwitterPlayerStreamCtype:function(){return tn},getTwitterPlayerUrl:function(){return Qr},getTwitterTitle:function(){return Mr},getTwitterUseFacebook:function(){return Ar},hasRedirect:function(){return mr},hasSchemaUpdated:function(){return Tr},isDiviPageSettingsBarActive:function(){return $e},isDiviRankMathModalActive:function(){return qe},isLoaded:function(){return Ge},isPro:function(){return Je},isRefreshing:function(){return We},isSchemaEditorOpen:function(){return _r},isSchemaTemplatesOpen:function(){return Sr},isSnippetEditorOpen:function(){return kr}});var a=jQuery,i=t.n(a),o=lodash,u=rankMathAnalyzer,c=wp.hooks,s=wp.data,l=wp.element,p=wp.i18n;var f=wp.apiFetch,d=t.n(f),h={"&amp;":"&","&quot;":'"',"&#39;":"'"},m=/&(?:amp|quot|#(0+)?39);/g,y=RegExp(m.source);var g=function(t){return t&&y.test(t)?t.replace(m,(function(t){return h[t]||"'"})):t||""};function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(){b=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),u=new C(n||[]);return a(o,"_invoke",{value:E(t,r,u)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function g(){}function k(){}function w(){}var _={};s(_,o,(function(){return this}));var S=Object.getPrototypeOf,T=S&&S(S(M([])));T&&T!==r&&n.call(T,o)&&(_=T);var P=w.prototype=g.prototype=Object.create(_);function D(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function r(a,i,o,u){var c=p(t[a],t,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==v(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,o,u)}),(function(t){r("throw",t,o,u)})):e.resolve(l).then((function(t){s.value=t,o(s)}),(function(t){return r("throw",t,o,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return i=i?i.then(a,a):a()}})}function E(e,r,n){var a=f;return function(i,o){if(a===h)throw Error("Generator is already running");if(a===m){if("throw"===i)throw o;return{value:t,done:!0}}for(n.method=i,n.arg=o;;){var u=n.delegate;if(u){var c=O(u,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===f)throw a=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=h;var s=p(e,r,n);if("normal"===s.type){if(a=n.done?m:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=m,n.method="throw",n.arg=s.arg)}}}function O(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=p(a,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(v(e)+" is not iterable")}return k.prototype=w,a(P,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:k,configurable:!0}),k.displayName=s(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,c,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},D(I.prototype),s(I.prototype,u,(function(){return this})),e.AsyncIterator=I,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new I(l(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},D(P),s(P,c,"Generator"),s(P,o,(function(){return this})),s(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return u.type="throw",u.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],u=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function k(t,e,r,n,a,i,o){try{var u=t[i](o),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,a)}function w(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function o(t){k(i,n,a,o,u,"next",t)}function u(t){k(i,n,a,o,u,"throw",t)}o(void 0)}))}}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S(n.key),n)}}function S(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v(e)?e:e+""}var T=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.analyzer=new u.Analyzer({i18n:p,analyses:rankMath.assessor.researchesTests}),this.dataCollector=e,this.promises=[],this.hooks(),this.registerRefresh(),this.saveEvent()},e=[{key:"hooks",value:function(){this.updateKeywordResult=this.updateKeywordResult.bind(this),this.sanitizeData=this.sanitizeData.bind(this),this.addScoreElem=this.addScoreElem.bind(this),(0,c.addAction)("rankMath_analysis_keywordUsage_updated","rank-math",this.updateKeywordResult),(0,c.addFilter)("rank_math_sanitize_meta_value","rank-math",this.sanitizeData),(0,c.addFilter)("rank_math_sanitize_data","rank-math",this.sanitizeData),(0,c.addAction)("rank_math_loaded","rank-math",this.addScoreElem,11)}},{key:"addScoreElem",value:function(){var t=this;rankMath.showScore&&rankMath.canUser.analysis&&rankMath.canUser.general&&(this.scoreElem=i()('<div class="misc-pub-section rank-math-seo-score"></div>'),i()("#misc-publishing-actions").append(this.scoreElem),setTimeout((function(){t.scoreText='<span class="score-text"><span class="score-icon"><i class="rm-icon-rank-math"></i></span> SEO: <strong>Not available</strong></span>',t.scoreElem.html(t.scoreText),t.scoreText=t.scoreElem.find("strong"),t.fkScoreText='<span class="score-text">Not available</span>',t.fkScoreElem=i()('<div class="rank-math-seo-score below-focus-keyword">'+t.fkScoreText+"</div>"),t.fkScoreText=t.fkScoreElem.find("span"),i()("#rank-math-metabox-wrapper .rank-math-focus-keyword").find("tags").parent("div").append(t.fkScoreElem),t.updateScore=t.updateScore.bind(t),t.updateScore(),(0,c.addAction)("rank_math_refresh_results","rank-math",t.updateScore)}),1500))}},{key:"updateScore",value:function(){var t,e=rankMathEditor.resultManager.getScore(rankMathEditor.getPrimaryKeyword()),r=100<(t=e)?"bad-fk dark":80<t?"good-fk":50<t?"ok-fk":"bad-fk";this.scoreElem.removeClass("loading bad-fk ok-fk good-fk"),this.fkScoreElem.removeClass("loading bad-fk ok-fk good-fk"),this.scoreElem.addClass(r),this.fkScoreElem.addClass(r),this.scoreText.html(e+" / 100"),this.fkScoreText.html(e+" / 100")}},{key:"sanitizeData",value:function(t,e){return"schemas"===e||(0,o.isObject)(t)||(0,o.isEmpty)(t)?t:u.Helpers.sanitizeAppData(t)}},{key:"getPaper",value:function(t,e){var r=this.dataCollector.getData(),n=new u.Paper("",{locale:rankMath.localeFull});return n.setTitle((0,s.select)("rank-math").getSerpTitle()),n.setPermalink(r.slug),n.setDescription((0,s.select)("rank-math").getSerpDescription()),n.setUrl(r.permalink),n.setText(g((0,c.applyFilters)("rank_math_content",r.content))),n.setKeyword(t),n.setKeywords(e),n.setSchema((0,s.select)("rank-math").getSchemas()),(0,o.isUndefined)(r.featuredImage)||(n.setThumbnail(r.featuredImage.source_url),n.setThumbnailAltText(u.Helpers.removeDiacritics(r.featuredImage.alt_text))),(0,o.isEmpty)((0,s.select)("rank-math").getContentAIScore())&&(0,o.isEmpty)(rankMath.ca_keyword)||n.setContentAI(!0),n}},{key:"registerRefresh",value:function(){var t=this;this.refresh=(0,o.debounce)((function(e){if(!1!==(0,s.select)("rank-math").isLoaded()){var r=(0,s.select)("rank-math").getKeywords().split(","),n=[];(0,c.doAction)("rank_math_"+e+"_refresh"),r.map((function(e,a){var i=t.getPaper(u.Helpers.removeDiacritics(e),r),o=0===a?rankMath.assessor.researchesTests:t.filterTests(t.getSecondaryKeywordTests());n.push(t.analyzer.analyzeSome(o,i).then((function(t){rankMathEditor.resultManager.update(i.getKeyword(),t,0===a),0===a&&(0,s.dispatch)("rank-math").updateAnalysisScore(rankMathEditor.resultManager.getScore(i.getKeyword()))}))),Promise.all(n).then((function(){(0,s.dispatch)("rank-math").refreshResults(),t.refreshResults()}))}))}}),500)}},{key:"updateKeywordResult",value:function(t,e){rankMathEditor.resultManager.update(t,{keywordNotUsed:e}),t===rankMathEditor.getSelectedKeyword().toLowerCase()&&(0,s.dispatch)("rank-math").refreshResults()}},{key:"getSecondaryKeywordTests",value:function(){return["keywordInContent","lengthContent","keywordInSubheadings","keywordDensity","lengthPermalink","linksHasExternals","linksNotAllExternals","linksHasInternal","titleSentiment","titleHasPowerWords","titleHasNumber","contentHasTOC","contentHasShortParagraphs","contentHasAssets"]}},{key:"getPrimaryKeyword",value:function(){var t=(0,s.select)("rank-math").getKeywords();return u.Helpers.removeDiacritics(t.split(",")[0])}},{key:"getSelectedKeyword",value:function(){var t=(0,s.select)("rank-math").getKeywords(),e=(0,s.select)("rank-math").getSelectedKeyword(),r=""!==e.data.value?e.data.value:t.split(",")[0];return u.Helpers.removeDiacritics(r)}},{key:"getResearch",value:function(t){return this.analyzer.researcher.getResearch(t)}},{key:"refreshResults",value:function(){(0,c.doAction)("rank_math_refresh_results")}},{key:"filterTests",value:function(t){return(0,o.intersection)(t,rankMath.assessor.researchesTests)}},{key:"saveEvent",value:function(){var t=this;if(!(0,o.isUndefined)(this.dataCollector.form)&&!(0,o.isUndefined)(this.dataCollector.updateBtn)){var e=!0;this.dataCollector.form.on("submit",(function(r){if(e&&!(0,o.isUndefined)(r.originalEvent)){r.preventDefault();var n=t.dataCollector.updateBtn.data("disable")&&t.dataCollector.saveDraft.length?t.dataCollector.saveDraft:t.dataCollector.updateBtn;n.addClass("disabled").parent().find(".spinner").addClass("is-active"),e=!1;var a=t.saveMeta(),i=t.saveSchemas(a),u=t.saveRedirection(i);return Promise.all([a,i,u]).then((function(){n.removeClass("disabled").trigger("click")})).catch((function(){n.removeClass("disabled").trigger("click")})),!1}}))}}},{key:"saveMeta",value:function(){return new Promise((function(t){var e=(0,s.select)("rank-math").getDirtyMetadata();(0,o.isEmpty)(e)?t(!0):(d()({method:"POST",path:"rankmath/v1/updateMeta",data:{objectID:rankMath.objectID,objectType:rankMath.objectType,meta:e,content:rankMathEditor.assessor.dataCollector.getContent()}}).then((function(){t(!0)})).catch((function(){t(!0)})),(0,s.dispatch)("rank-math").resetDirtyMetadata())}))}},{key:"saveRedirection",value:function(t){return new Promise(function(){var e=w(b().mark((function e(r){var n,a,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(n=(0,s.select)("rank-math").getRedirectionItem(),!(0,o.isEmpty)(n)){e.next=6;break}return r(!0),e.abrupt("return");case 6:n.objectID=window.rankMath.objectID,n.objectType=window.rankMath.objectType,n.redirectionSources=rankMathEditor.assessor.dataCollector.getData("permalink"),a=(0,s.dispatch)("rank-math"),i=(0,s.dispatch)("core/notices"),a.resetRedirection(),d()({method:"POST",path:"rankmath/v1/updateRedirection",data:n}).then((function(t){"delete"===t.action?(i.createInfoNotice(t.message,{id:"redirectionNotice"}),a.updateRedirection("redirectionID",0)):"update"===t.action?i.createInfoNotice(t.message,{id:"redirectionNotice"}):"new"===t.action&&(a.updateRedirection("redirectionID",t.id),i.createSuccessNotice(t.message,{id:"redirectionNotice"})),setTimeout((function(){i.removeNotice("redirectionNotice")}),2e3),r(!0)})).catch((function(){r(!0)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"saveSchemas",value:function(t){return new Promise(function(){var e=w(b().mark((function e(r){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(n=(0,s.select)("rank-math").getSchemas(),!(0,o.isEmpty)(n)&&(0,s.select)("rank-math").hasSchemaUpdated()){e.next=6;break}return r(!0),e.abrupt("return");case 6:d()({method:"POST",path:"rankmath/v1/updateSchemas",data:{objectID:rankMath.objectID,objectType:rankMath.objectType,schemas:n}}).then((function(){r(!0)})).catch((function(){r(!0)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}],e&&_(t.prototype,e),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),P=T,D=function(){return!((0,o.isNil)(window.wp)||(0,o.isNil)(wp.data)||(0,o.isNil)(wp.data.select("core/editor"))||!window.document.body.classList.contains("block-editor-page")||!(0,o.isFunction)(wp.data.select("core/editor").getEditedPostAttribute))};function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function O(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}var j=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),rankMath.is_front_page&&((0,c.addFilter)("rankMath_analysis_contentLength","rank-math",this.contentLength),(0,c.addFilter)("rankMath_analysis_contentLength_boundaries","rank-math",this.contentLengthBoundary))},(e=[{key:"contentLength",value:function(t){return{hasScore:t.hasScore,failed:(0,p.__)("Content is %1$d words long. Consider using at least 300 words.","rank-math"),tooltipText:(0,p.__)("Minimum recommended content length should be 300 words.","rank-math"),emptyContent:(0,p.sprintf)((0,p.__)("Content should be %1$s long.","rank-math"),'<a href="https://rankmath.com/kb/score-100-in-tests/?utm_source=Plugin&utm_campaign=WP#overall-content-length" target="_blank">'+(0,p.__)("300 words","rank-math")+"</a>")}}},{key:"contentLengthBoundary",value:function(){return{recommended:{boundary:299,score:8},belowRecommended:{boundary:200,score:5},low:{boundary:50,score:2}}}}])&&E(t.prototype,e),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function C(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t,e){if("object"!=A(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A(e)?e:e+""}var x=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.methods=[],this.init=this.init.bind(this),this.refresh=this.refresh.bind(this),(0,c.addAction)("rank_math_loaded","rank-math",this.init)},e=[{key:"init",value:function(){this.methods.length&&rankMathEditor.refresh("content")}},{key:"registerPlugin",value:function(){console.warn("RankMathApp.registerPlugin is deprecated.")}},{key:"refresh",value:function(t){console.warn("RankMathApp.refresh is deprecated, use rankMathEditor.refresh()"),this.methods.push(t)}},{key:"reloadPlugin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";console.warn("RankMathApp.reloadPlugin is deprecated, use rankMathEditor.refresh()"),this.refresh(e)}}],e&&C(t.prototype,e),r&&C(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),R=x;function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F(n.key),n)}}function F(t){var e=function(t,e){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==U(e)?e:e+""}var L=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.map=null},(e=[{key:"swap",value:function(t,e){var r=this;if(!(t=t||""))return"";var n=new RegExp(/%(([a-z0-9_-]+)\(([^)]*)\)|[^\s]+)%/,"giu");return t.replace(" %page%","").replace("%sep% %sep%","%sep%").replace(n,(function(t){return r.replace(e,t)})).trim()}},{key:"replace",value:function(t,e){var r=e.toLowerCase().slice(1,-1);return["term_description","user_description"].includes(r)?"undefined"!=typeof tinymce&&tinymce.activeEditor&&"rank_math_description_editor"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():i()("#description").val():r.includes("customfield(")?(r=r.replace("customfield(","").replace(")",""))in rankMath.customFields?rankMath.customFields[r]:"":(t=t||this.getMap(),(r="seo_description"===(r="seo_title"===(r=r.includes("(")?r.split("(")[0]:r)?"title":r)?"excerpt":r)in t?t[r]:"")}},{key:"getMap",value:function(){var t=this;return null!==this.map||(this.map={},i().each(rankMath.variables,(function(e,r){e=e.toLowerCase().replace(/%+/g,"").split("(")[0],t.map[e]=r.example}))),this.map}},{key:"setVariable",value:function(t,e){null!==this.map?this.map[t]=e:void 0!==rankMath.variables[t]&&(rankMath.variables[t].example=e)}}])&&N(t.prototype,e),r&&N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}());function H(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e=(0,c.applyFilters)("rank_math_sanitize_data",e,t,r),null!==n&&(n=(0,c.applyFilters)("rank_math_sanitize_meta_value",n,t,r)),n=null===n?e:n,(0,c.doAction)("rank_math_data_changed",t,e,r),{type:"RANK_MATH_APP_DATA",key:t,value:e,metaKey:r,metaValue:n}}function K(t,e){return(0,c.doAction)("rank_math_update_app_ui",t,e),{type:"RANK_MATH_APP_UI",key:t,value:e}}function z(t){return L.setVariable("focuskw",t.split(",")[0]),rankMathEditor.refresh("keyword"),H("keywords",t,"rank_math_focus_keyword")}function G(t){return H("pillarContent",t,"rank_math_pillar_content",!0===t?"on":"off")}function B(t){return H("showScoreFrontend",t,"rank_math_dont_show_seo_score",!0===t?"off":"on")}function V(t){return H("score",t,"rank_math_seo_score")}function W(t){return H("canonicalUrl",t,"rank_math_canonical_url")}function J(t){return H("advancedRobots",t,"rank_math_advanced_robots")}function $(t){return H("robots",t,"rank_math_robots",Object.keys(t))}function q(t){return H("breadcrumbTitle",t,"rank_math_breadcrumb_title")}function Y(){return H("dirtyMetadata",{})}function Q(t){return H("facebookTitle",t,"rank_math_facebook_title")}function X(t){return H("facebookDescription",t,"rank_math_facebook_description")}function Z(t){return H("facebookImage",t,"rank_math_facebook_image")}function tt(t){return H("facebookImageID",t,"rank_math_facebook_image_id")}function et(t){return H("facebookHasOverlay",t,"rank_math_facebook_enable_image_overlay",!0===t?"on":"off")}function rt(t){return H("facebookImageOverlay",t,"rank_math_facebook_image_overlay")}function nt(t){return rankMath.objectID=t,H("postID",t)}function at(t){return H("permalink",t,"permalink")}function it(t){return H("title",t,"rank_math_title")}function ot(t){return H("description",t,"rank_math_description")}function ut(t){return H("featuredImage",t)}function ct(t,e){return H("primaryTerm",parseInt(t),"rank_math_primary_"+e)}function st(t,e){return H(t,e)}function lt(t){return K("redirectionItem",t)}function pt(){return K("redirectionItem",{})}function ft(t){return K("hasRedirect",t)}var dt=document.createElement("div");function ht(t){return t&&"string"==typeof t&&(t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"").replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),dt.innerHTML=t,t=dt.textContent,dt.textContent=""),t}var mt=function(t,e){return t=(t=u.Helpers.cleanText(t)).replace(/\r?\n|\r/g," "),e?(0,o.truncate)(t,{length:e,separator:" "}):t},yt=function(t){if((0,o.isEmpty)(t))return"";t=u.Helpers.stripScript(t),t=u.Helpers.stripStyle(t),t=(0,o.unescape)(t).replace(/\[caption[^\]]*\](.*)\[\/caption\]/g,"");var e=(0,o.filter)(u.Helpers.matchParagraphs(t,!0,!0),(function(t){return""!==t.trim()}));if(!e.length)return"";var r=rankMathEditor.getPrimaryKeyword();if(""!==r){var n=(0,o.filter)(e,(function(t){return(0,o.includes)(t.toLowerCase(),r.toLowerCase())}));if(0<n.length)return mt(n[0],160)}return mt(e[0],160)};function gt(t){return t=L.swap(""!==t?t:rankMath.assessor.serpData.titleTemplate),rankMathEditor.refresh("title"),K("serpTitle",ht(t))}function vt(t){return t=""!==t?t:rankMathEditor.assessor.dataCollector.getSlug(),rankMathEditor.refresh("permalink"),K("serpSlug",t)}function bt(t){return t=L.swap(function(t){var e=rankMathEditor.assessor.dataCollector.getData(),r=e.excerpt,n=yt(e.content),a=(0,o.isUndefined)(r)||(0,o.isEmpty)(r)?n:(0,o.unescape)(r);if(L.setVariable("excerpt",a),L.setVariable("seo_description",a),""!==(t=ht((0,c.applyFilters)("rankMath/description",t))))return u.Helpers.cleanText(t);if(!(0,o.isUndefined)(r)&&!(0,o.isEmpty)(r))return u.Helpers.cleanText(r);var i=(0,o.unescape)(rankMath.assessor.serpData.descriptionTemplate);return(0,o.isUndefined)(i)||""===i?n:u.Helpers.cleanText(i)}(t)),rankMathEditor.refresh("description"),K("serpDescription",t)}function kt(t){return K("isSnippetEditorOpen",t)}function wt(t){return K("snippetPreviewType",t)}function _t(t){return H("twitterUseFacebook",t,"rank_math_twitter_use_facebook",!0===t?"on":"off")}function St(t){return H("twitterCardType",t,"rank_math_twitter_card_type")}function Tt(t){return H("twitterTitle",t,"rank_math_twitter_title")}function Pt(t){return H("twitterDescription",t,"rank_math_twitter_description")}function Dt(t){return H("twitterAuthor",t,"rank_math_twitter_author")}function It(t){return H("twitterImageID",t,"rank_math_twitter_image_id")}function Et(t){return H("twitterImage",t,"rank_math_twitter_image")}function Ot(t){return H("twitterHasOverlay",t,"rank_math_twitter_enable_image_overlay",!0===t?"on":"off")}function jt(t){return H("twitterImageOverlay",t,"rank_math_twitter_image_overlay")}function At(t){return H("twitterPlayerUrl",t,"rank_math_twitter_player_url")}function Ct(t){return H("twitterPlayerSize",t,"rank_math_twitter_player_size")}function Mt(t){return H("twitterPlayerStream",t,"rank_math_twitter_player_stream")}function xt(t){return H("twitterPlayerStreamCtype",t,"rank_math_twitter_player_stream_ctype")}function Rt(t){return H("twitterAppDescription",t,"rank_math_twitter_app_description")}function Ut(t){return H("twitterAppIphoneID",t,"rank_math_twitter_app_iphone_id")}function Nt(t){return H("twitterAppIphoneName",t,"rank_math_twitter_app_iphone_name")}function Ft(t){return H("twitterAppIphoneUrl",t,"rank_math_twitter_app_iphone_url")}function Lt(t){return H("twitterAppIpadID",t,"rank_math_twitter_app_ipad_id")}function Ht(t){return H("twitterAppIpadName",t,"rank_math_twitter_app_ipad_name")}function Kt(t){return H("twitterAppIpadUrl",t,"rank_math_twitter_app_ipad_url")}function zt(t){return H("twitterAppGoogleplayID",t,"rank_math_twitter_app_googleplay_id")}function Gt(t){return H("twitterAppGoogleplayName",t,"rank_math_twitter_app_googleplay_name")}function Bt(t){return H("twitterAppGoogleplayUrl",t,"rank_math_twitter_app_googleplay_url")}function Vt(t){return H("twitterAppCountry",t,"rank_math_twitter_app_country")}function Wt(t){return K("isLoaded",t)}function Jt(t){return K("selectedKeyword",t)}function $t(t){return K("socialTab",t)}function qt(){return K("refreshResults",Date.now())}function Yt(){return K("isPro",!0)}function Qt(t){return K("isDiviPageSettingsBarActive",t)}function Xt(t){return K("isDiviRankMathModalActive",t)}function Zt(t){return K("highlightedParagraphs",t)}function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(r),!0).forEach((function(e){ne(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ne(t,e,r){var n;return n=function(t,e){if("object"!=te(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==te(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ae(t){return K("isSchemaEditorOpen",t)}function ie(t){return K("isSchemaTemplatesOpen",t)}function oe(t){return K("schemaUpdated",t)}function ue(t){return K("editingSchemaId",t)}function ce(t){return K("editorTab",t)}function se(t){return K("templateTab",t)}function le(t){return K("editSchemas",t)}function pe(t){return H("schemas",t)}function fe(t,e){var r=re({},(0,s.select)("rank-math").getEditSchemas());return r[t]=e,K("editSchemas",r)}function de(t,e){var r=re({},(0,s.select)("rank-math").getSchemas());return r[t]=e,H("schemas",r)}function he(t){var e=re({},(0,s.select)("rank-math").getSchemas());return delete e[t],(0,c.doAction)("rank_math_schema_trash",t),H("schemas",e,"rank_math_delete_"+t,"")}function me(t,e,r){return d()({method:"POST",path:"rankmath/v1/saveTemplate",data:{schema:t,postId:r}}).then((function(r){e({loading:!1,showNotice:!0,postId:r.id}),setTimeout((function(){e({showNotice:!1}),(0,o.get)(rankMath,"isTemplateScreen",!1)&&(document.title=(0,p.__)("Edit Schema","rank-math"),window.history.pushState(null,"",r.link.replace(/&amp;/g,"&")))}),2e3),rankMath.schemaTemplates.push({schema:t,title:t.metadata.title,type:t["@type"]})})),e({loading:!0}),{type:"DONT_WANT_TO_DO_SOMETHING"}}function ye(t){return K("keywordsData",t)}function ge(t){return H("contentAIScore",t,"rank_math_contentai_score")}function ve(t){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ve(t)}function be(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ke(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?be(Object(r),!0).forEach((function(e){we(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function we(t,e,r){var n;return n=function(t,e){if("object"!=ve(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==ve(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _e=rankMath.assessor.serpData,Se=rankMath.assessor.hasRedirection,Te={postID:null,title:_e.title?_e.title:_e.titleTemplate,description:_e.description,keywords:_e.focusKeywords,pillarContent:_e.pillarContent,featuredImage:"",permalink:!1,primaryTerm:_e.primaryTerm,robots:_e.robots,advancedRobots:_e.advancedRobots,canonicalUrl:_e.canonicalUrl,breadcrumbTitle:_e.breadcrumbTitle,showScoreFrontend:_e.showScoreFrontend,redirectionID:Se?(0,o.get)(rankMath.assessor,"redirection.id",""):"",redirectionType:Se?(0,o.get)(rankMath.assessor,"redirection.header_code",""):"",redirectionUrl:Se?(0,o.get)(rankMath.assessor,"redirection.url_to",""):"",facebookTitle:_e.facebookTitle,facebookImage:_e.facebookImage,facebookImageID:_e.facebookImageID,facebookAuthor:_e.facebookAuthor,facebookDescription:_e.facebookDescription,facebookHasOverlay:_e.facebookHasOverlay,facebookImageOverlay:_e.facebookImageOverlay,twitterTitle:_e.twitterTitle,twitterImage:_e.twitterImage,twitterAuthor:_e.twitterAuthor,twitterImageID:_e.twitterImageID,twitterCardType:_e.twitterCardType,twitterUseFacebook:_e.twitterUseFacebook,twitterDescription:_e.twitterDescription,twitterHasOverlay:_e.twitterHasOverlay,twitterImageOverlay:_e.twitterImageOverlay,twitterPlayerUrl:_e.twitterPlayerUrl,twitterPlayerSize:_e.twitterPlayerSize,twitterPlayerStream:_e.twitterPlayerStream,twitterPlayerStreamCtype:_e.twitterPlayerStreamCtype,twitterAppDescription:_e.twitterAppDescription,twitterAppIphoneName:_e.twitterAppIphoneName,twitterAppIphoneID:_e.twitterAppIphoneID,twitterAppIphoneUrl:_e.twitterAppIphoneUrl,twitterAppIpadName:_e.twitterAppIpadName,twitterAppIpadID:_e.twitterAppIpadID,twitterAppIpadUrl:_e.twitterAppIpadUrl,twitterAppGoogleplayName:_e.twitterAppGoogleplayName,twitterAppGoogleplayID:_e.twitterAppGoogleplayID,twitterAppGoogleplayUrl:_e.twitterAppGoogleplayUrl,twitterAppCountry:_e.twitterAppCountry,schemas:(0,o.get)(rankMath,"schemas",{}),score:0,contentAIScore:{},dirtyMetadata:{}};function Pe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,e=arguments.length>1?arguments[1]:void 0,r=ke({},t.dirtyMetadata);return!1!==e.metaKey&&(r[e.metaKey]=e.metaValue),"RANK_MATH_APP_DATA"===e.type?"dirtyMetadata"===e.key?ke(ke({},t),{},{dirtyMetadata:e.value}):ke(ke({},t),{},we(we({},e.key,e.value),"dirtyMetadata",r)):t}function De(t){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(t)}function Ie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(r),!0).forEach((function(e){Oe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Oe(t,e,r){var n;return n=function(t,e){if("object"!=De(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==De(n)?n:n+"")in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var je={isLoaded:!1,isPro:!1,selectedKeyword:{tag:"",index:0,data:{value:""}},hasRedirect:rankMath.assessor.hasRedirection&&!(0,o.isEmpty)((0,o.get)(rankMath.assessor,"redirection.id",""))&&!(0,o.isEmpty)((0,o.get)(rankMath.assessor,"redirection.url_to","")),serpTitle:"",serpSlug:"",serpDescription:"",isSnippetEditorOpen:!1,snippetPreviewType:"",refreshResults:"",redirectionItem:{},socialTab:"facebook",highlightedParagraphs:[],editorTab:"",templateTab:"",editSchemas:{},editingSchemaId:"",isSchemaEditorOpen:!1,isSchemaTemplatesOpen:!1,schemaUpdated:!1,isDiviRankMathModalActive:!1,isDiviPageSettingsBarActive:!1,keywordsData:(0,o.get)(rankMath,"ca_data",[])};function Ae(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,e=arguments.length>1?arguments[1]:void 0;return"RANK_MATH_APP_UI"===e.type?Ee(Ee({},t),{},Oe({},e.key,e.value)):t}function Ce(t){return t.appData}function Me(t){return t.appData.dirtyMetadata}function xe(t){return t.appData.score}function Re(t){return t.appData.keywords}function Ue(t){return t.appData.pillarContent}function Ne(t){return t.appData.robots}function Fe(t){return t.appData.advancedRobots}function Le(t){return t.appData.canonicalUrl}function He(t){return t.appData.breadcrumbTitle}function Ke(t){return"todo"}function ze(t){return t.appData.showScoreFrontend}function Ge(t){return t.appUi.isLoaded}function Be(t){return t.appUi.selectedKeyword}function Ve(t){return t.appUi.socialTab}function We(t){return t.appUi.refreshResults}function Je(t){return t.appUi.isPro}function $e(t){return t.appUi.isDiviPageSettingsBarActive}function qe(t){return t.appUi.isDiviRankMathModalActive}function Ye(t){return t.appUi.highlightedParagraphs}function Qe(t){return t.appData.facebookTitle}function Xe(t){return t.appData.facebookDescription}function Ze(t){return t.appData.facebookAuthor}function tr(t){return t.appData.facebookImageID}function er(t){return t.appData.facebookImage}function rr(t){return t.appData.facebookHasOverlay}function nr(t){return""!==t.appData.facebookImageOverlay?t.appData.facebookImageOverlay:"play"}function ar(t){return t.appData.postID}function ir(t){return t.appData.title}function or(t){return t.appData.permalink}function ur(t){return t.appData.description}function cr(t){return t.appData.featuredImage}function sr(t){var e=t.appData.featuredImage;return'<img src="'.concat(e.source_url,'" alt="').concat(e.alt_text,'" >')}function lr(t){return t.appData.primaryTerm}function pr(t){return t.appData.redirectionID}function fr(t){return t.appData.redirectionType}function dr(t){return t.appData.redirectionUrl}function hr(t){return t.appUi.redirectionItem}function mr(t){return t.appUi.hasRedirect}var yr=wp.url;function gr(t){return ht(t.appUi.serpTitle)}function vr(t){return(0,yr.safeDecodeURIComponent)(t.appUi.serpSlug)}function br(t){return t.appUi.serpDescription}function kr(t){return t.appUi.isSnippetEditorOpen}function wr(t){return t.appUi.snippetPreviewType}function _r(t){return t.appUi.isSchemaEditorOpen}function Sr(t){return t.appUi.isSchemaTemplatesOpen}function Tr(t){return t.appUi.schemaUpdated}function Pr(t){return t.appData.schemas}function Dr(t){return t.appUi.editSchemas}function Ir(t){return{id:t.appUi.editingSchemaId,data:t.appUi.editSchemas[t.appUi.editingSchemaId]}}function Er(t){return t.appData.schemas[t.appUi.editingSchemaId]}function Or(t){return t.appUi.editorTab}function jr(t){return t.appUi.templateTab}function Ar(t){return t.appData.twitterUseFacebook}function Cr(t){return t.appData.twitterCardType}function Mr(t){return t.appData.twitterTitle}function xr(t){return t.appData.twitterDescription}function Rr(t){return t.appData.twitterAuthor}function Ur(t){return t.appData.twitterImageID}function Nr(t){return t.appData.twitterImage}function Fr(t){return t.appData.twitterHasOverlay}function Lr(t){return""!==t.appData.twitterImageOverlay?t.appData.twitterImageOverlay:"play"}function Hr(t){return t.appData.twitterAppDescription}function Kr(t){return t.appData.twitterAppIphoneID}function zr(t){return t.appData.twitterAppIphoneName}function Gr(t){return t.appData.twitterAppIphoneUrl}function Br(t){return t.appData.twitterAppIpadID}function Vr(t){return t.appData.twitterAppIpadName}function Wr(t){return t.appData.twitterAppIpadUrl}function Jr(t){return t.appData.twitterAppGoogleplayID}function $r(t){return t.appData.twitterAppGoogleplayName}function qr(t){return t.appData.twitterAppGoogleplayUrl}function Yr(t){return t.appData.twitterAppCountry}function Qr(t){return t.appData.twitterPlayerUrl}function Xr(t){return t.appData.twitterPlayerSize}function Zr(t){return t.appData.twitterPlayerStream}function tn(t){return t.appData.twitterPlayerStreamCtype}function en(t){return t.appUi.keywordsData}function rn(t){return t.appData.contentAIScore}(0,s.registerStore)("rank-math",{reducer:(0,s.combineReducers)(r),selectors:n,actions:e});function nn(t){return nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nn(t)}function an(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,on(n.key),n)}}function on(t){var e=function(t,e){if("object"!=nn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=nn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nn(e)?e:e+""}var un=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.updateBtn=i()("#publish"),this.form=i()("#post"),this._data={id:!1,slug:!1,permalink:!1,content:!1,title:!1,excerpt:!1,featuredImage:!1,description:""},this.refresh=this.refresh.bind(this),(0,c.addAction)("rank_math_loaded","rank-math",this.refresh),this.setup(),this.init()},e=[{key:"init",value:function(){var t=this;this.elemTitle.on("input",(0,o.debounce)((function(){t.handleTitleChange(t.elemTitle.val())}),500)).trigger("input"),this.elemDescription.on("input",(0,o.debounce)((function(){t.handleExcerptChange(t.elemDescription.val())}),500)).trigger("input"),this.elemSlug.on("input",(0,o.debounce)((function(){rankMathEditor.updatePermalink(t.elemSlug.val())}),500))}},{key:"collectData",value:function(){this._data={id:this.getPostID(),slug:this.getSlug(),permalink:this.getPermalink(),content:this.getContent(),title:this.getTitle(),excerpt:this.getExcerpt(),featuredImage:this.getFeaturedImage()}}},{key:"getPostID",value:function(){return rankMath.objectID}},{key:"getTitle",value:function(){return this.elemTitle.val()}},{key:"getExcerpt",value:function(){var t=this.elemDescription.val();return L.setVariable("excerpt",t),L.setVariable("excerpt_only",t),L.setVariable("wc_shortdesc",t),L.setVariable("seo_description",t),t}},{key:"getPermalink",value:function(){return this.getSlug()?rankMath.permalinkFormat.replace(/%(postname|pagename|term|author)%/,this.getSlug()):""}},{key:"getSlug",value:function(){return this.elemSlug.val()}},{key:"getFeaturedImage",value:function(){return this.featuredImage}},{key:"refresh",value:function(){this.collectData(),(0,s.dispatch)("rank-math").toggleLoaded(!0),rankMathEditor.refresh("init")}},{key:"handleSlugChange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];("auto-draft"!==this.getStatus()||e)&&this.elemSlug.val(t),i()("#editable-post-name").text(t),i()("#editable-post-name-full").text(t),this._data.slug=this.getSlug(),this._data.permalink=this.getPermalink(),(0,s.dispatch)("rank-math").updateSerpSlug(t),rankMathEditor.refresh("permalink")}},{key:"handleTitleChange",value:function(t){L.setVariable("title",t),L.setVariable("term",t),L.setVariable("author",t),(0,s.dispatch)("rank-math").updateSerpTitle((0,s.select)("rank-math").getTitle()),rankMathEditor.refresh("title")}},{key:"handleExcerptChange",value:function(){this._data.excerpt=this.getExcerpt(),(0,s.dispatch)("rank-math").updateSerpDescription((0,s.select)("rank-math").getDescription()),rankMathEditor.refresh("content")}},{key:"handleFeaturedImageChange",value:function(){this._data.featuredImage=this.getFeaturedImage(),(0,s.dispatch)("rank-math").updateFeaturedImage(this.getFeaturedImage()),rankMathEditor.refresh("featuredImage")}},{key:"handleContentChange",value:function(){this._data.excerpt=this.getExcerpt(),this._data.content=this.getContent(),(0,s.dispatch)("rank-math").updateSerpDescription((0,s.select)("rank-math").getDescription()),rankMathEditor.refresh("content")}},{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?this._data[t]:this._data}},{key:"updateData",value:function(t,e){this._data[t]=e}},{key:"isTinymce",value:function(){return"undefined"!=typeof tinymce}},{key:"getStatus",value:function(){var t=!(0,o.isUndefined)(this.postStatus)&&this.postStatus.length?this.postStatus.val():"";return(0,o.isUndefined)(t)?"":t}}],e&&an(t.prototype,e),r&&an(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),cn=un;function sn(t){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(t)}function ln(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pn(n.key),n)}}function pn(t){var e=function(t,e){if("object"!=sn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sn(e)?e:e+""}function fn(t,e,r){return e=hn(e),function(t,e){if(e&&("object"===sn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dn()?Reflect.construct(e,r||[],hn(t).constructor):e.apply(t,r))}function dn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(dn=function(){return!!t})()}function hn(t){return hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hn(t)}function mn(t,e){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mn(t,e)}var yn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),fn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mn(t,e)}(e,t),r=e,(n=[{key:"setup",value:function(){this.elemSlug=i()("#post_name"),this.elemTitle=i()("#title"),this.elemDescription=i()("#excerpt"),this.elemContent=i()("#content"),this.saveDraft=i()("#save-post"),this.postStatus=i()("#original_post_status"),this.assessThumbnail=this.assessThumbnail.bind(this),(0,c.addAction)("rank_math_updated_featured_image","rank-math",this.assessThumbnail),this.events()}},{key:"getContent",value:function(){if(null!==this.elemContent&&0!==this.elemContent.length)return this.isTinymce()&&tinymce.activeEditor&&"content"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():this.elemContent.val()}},{key:"getSlug",value:function(){var t=""===this.elemSlug.val()&&i()("#editable-post-name-full").length?i()("#editable-post-name-full").text():this.elemSlug.val();return(0,o.isUndefined)(t)?"":t}},{key:"events",value:function(){var t=this;this.elemContent.on("input change",(0,o.debounce)((function(){t.handleContentChange()}),500)).trigger("change"),i()(window).on("load",(function(){t.isTinymce()&&(tinymce.activeEditor&&!(0,o.isUndefined)(tinymce.editors.content)&&tinymce.editors.content.on("keyup change",(0,o.debounce)((function(){t.handleContentChange()}),500)),tinymce.editors&&!(0,o.isUndefined)(tinymce.editors.excerpt)&&tinymce.editors.excerpt.on("keyup change",(0,o.debounce)((function(){tinymce.editors.excerpt.save(),t.handleExcerptChange()}),500)))})),i()(document).on("ajaxComplete",(function(e,r,n){var a="/admin-ajax.php";if(a===n.url.substr(-15)){var o="";"string"==typeof n.data&&-1!==n.data.indexOf("action=sample-permalink")&&(o=""===r.responseText?t.elemTitle.val():i()("<div>"+r.responseText+"</div>").find("#editable-post-name-full").text(),rankMathEditor.updatePermalink(o))}})),this.saveDraft.on("click",(function(){t.updateBtn.attr("data-disable","true")}))}},{key:"assessThumbnail",value:function(t){this.featuredImage={source_url:t.src,alt_text:t.alt},this.handleFeaturedImageChange(t)}}])&&ln(r.prototype,n),a&&ln(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(cn),gn=yn;function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}function bn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kn(n.key),n)}}function kn(t){var e=function(t,e){if("object"!=vn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vn(e)?e:e+""}function wn(t,e,r){return e=Sn(e),function(t,e){if(e&&("object"===vn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_n()?Reflect.construct(e,r||[],Sn(t).constructor):e.apply(t,r))}function _n(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_n=function(){return!!t})()}function Sn(t){return Sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sn(t)}function Tn(t,e){return Tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tn(t,e)}var Pn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),wn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tn(t,e)}(e,t),r=e,(n=[{key:"setup",value:function(){this.updateBtn=i()('.edit-tag-actions input[type="submit"]'),this.form=i()("#edittag"),this.elemSlug=i()("#slug"),this.elemTitle=i()("#name"),this.elemDescription=i()("#rank_math_description_editor"),this.events()}},{key:"getContent",value:function(){return null===this.elemDescription||0===this.elemDescription.length?"":this.isTinymce()&&tinymce.activeEditor&&"rank_math_description_editor"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():this.elemDescription.val()}},{key:"events",value:function(){var t=this;i()(window).on("load",(function(){t.isTinymce()&&tinymce.activeEditor&&!(0,o.isUndefined)(tinymce.editors.rank_math_description_editor)&&tinymce.editors.rank_math_description_editor.on("keyup change",(0,o.debounce)((function(){t.handleContentChange()}),500))}))}}])&&bn(r.prototype,n),a&&bn(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(cn),Dn=Pn;function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function En(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,On(n.key),n)}}function On(t){var e=function(t,e){if("object"!=In(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==In(e)?e:e+""}function jn(t,e,r){return e=Cn(e),function(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,An()?Reflect.construct(e,r||[],Cn(t).constructor):e.apply(t,r))}function An(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(An=function(){return!!t})()}function Cn(t){return Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(t)}function Mn(t,e){return Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mn(t,e)}var xn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),jn(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mn(t,e)}(e,t),r=e,(n=[{key:"setup",value:function(){this.updateBtn=i()("#submit"),this.form=i()("#your-profile"),this.elemSlug=i()("#user_login"),this.elemTitle=i()("#display_name"),this.elemDescription=i()("#description")}},{key:"getContent",value:function(){return this.elemDescription.val()}}])&&En(r.prototype,n),a&&En(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(cn),Rn=xn;function Un(t){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(t)}function Nn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Fn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(r),!0).forEach((function(e){Ln(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ln(t,e,r){return(e=Kn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kn(n.key),n)}}function Kn(t){var e=function(t,e){if("object"!=Un(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Un(e)?e:e+""}var zn=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initialize=!1,this.isSavingRedirection=!1,this.isSavingSchemas=!1,this.oldSlug=!1,this._data={id:!1,slug:!1,permalink:!1,content:!1,title:!1,excerpt:!1,featuredImage:!1},this.refresh=this.refresh.bind(this),this.isSavingPost=this.isSavingPost.bind(this),this.getPostAttribute=this.getPostAttribute.bind(this),this.subscribeToGutenberg()},(e=[{key:"collectGutenbergData",value:function(){if(D())return this._coreEditorSelect||(this._coreEditorSelect=(0,s.select)("core/editor")),!1===this.oldSlug&&""!==this.getSlug()&&(this.oldSlug=this.getSlug()),{id:this.getPostID(),slug:this.getSlug(),permalink:this.getPermalink(),content:this.getPostAttribute("content"),title:this.getPostAttribute("title"),excerpt:this.getPostAttribute("excerpt"),featuredImage:this.getFeaturedImage()}}},{key:"getPostID",value:function(){return this._coreEditorSelect.getCurrentPostId()}},{key:"getPermalink",value:function(){if("auto-draft"===this.getPostAttribute("status"))return"";var t=this.getPostAttribute("generated_slug");return"auto-draft"!==t&&"en"===rankMath.locale||(t=""),(0,yr.safeDecodeURIComponent)(this._coreEditorSelect.getPermalink())}},{key:"getSlug",value:function(){var t=this.getPostAttribute("generated_slug");return"auto-draft"!==t&&"en"===rankMath.locale||(t=""),(0,yr.safeDecodeURIComponent)(this.getPostAttribute("slug")||t)}},{key:"getFeaturedImage",value:function(){var t=this.getPostAttribute("featured_media");if(this.isValidMediaId(t)){var e=(0,s.select)("core").getMedia(t);if(!(0,o.isUndefined)(e))return e}}},{key:"isValidMediaId",value:function(t){return"number"==typeof t&&0<t}},{key:"getPostAttribute",value:function(t){return D()?(this._coreEditorSelect||(this._coreEditorSelect=(0,s.select)("core/editor")),this._coreEditorSelect.getEditedPostAttribute(t)):""}},{key:"subscribeToGutenberg",value:function(){this.subscriber=(0,o.debounce)(this.refresh,500),(0,s.subscribe)(this.subscriber),(0,s.subscribe)(this.isSavingPost)}},{key:"refresh",value:function(){var t=Fn({},this._data);this._data=this.collectGutenbergData(),this.handleEditorChange(t)}},{key:"isSavingPost",value:function(){var t=(0,s.select)("core/editor");if(!t.isAutosavingPost()&&t.isSavingPost()){var e=(0,s.select)("rank-math").getDirtyMetadata();(0,o.isEmpty)(e)||(d()({method:"POST",path:"rankmath/v1/updateMeta",data:{objectID:rankMath.objectID,objectType:rankMath.objectType,meta:e,content:this.getPostAttribute("content")}}).then((function(t){(0,c.doAction)("rank_math_metadata_updated",t)})),(0,s.dispatch)("rank-math").resetDirtyMetadata()),"publish"===this.getPostAttribute("status")&&(this.saveRedirection(),this.autoCreateRedirectionNotice()),this.saveSchemas()}}},{key:"saveSchemas",value:function(){var t=this;if(!this.isSavingSchemas){var e=(0,s.select)("rank-math").getSchemas();if(!(0,o.isEmpty)(e)&&(0,s.select)("rank-math").hasSchemaUpdated()){this.isSavingSchemas=!0;var r=(0,s.select)("rank-math").getEditSchemas();d()({method:"POST",path:"rankmath/v1/updateSchemas",data:{objectID:this.getPostID(),objectType:rankMath.objectType,schemas:e}}).then((function(n){var a=Fn({},e),i=Fn({},r);(0,o.isEmpty)(n)||(0,o.map)(n,(function(t,e){a["schema-"+t]=Fn({},a[e]),i["schema-"+t]=Fn({},i[e]),delete a[e],delete i[e]})),(0,s.dispatch)("rank-math").updateSchemas(a),(0,s.dispatch)("rank-math").updateEditSchemas(i),setTimeout((function(){(0,s.dispatch)("rank-math").schemaUpdated(!1),(0,c.doAction)("rank_math_schema_changed"),t.isSavingSchemas=!1}),2e3)}))}}}},{key:"saveRedirection",value:function(){var t=this;if(!this.isSavingRedirection){var e=(0,s.select)("rank-math").getRedirectionItem();if(!(0,o.isEmpty)(e)){this.isSavingRedirection=!0,e.objectID=this.getPostID(),e.redirectionSources=this.getPermalink();var r=(0,s.dispatch)("rank-math"),n=(0,s.dispatch)("core/notices");r.resetRedirection(),d()({method:"POST",path:"rankmath/v1/updateRedirection",data:e}).then((function(e){"delete"===e.action?(n.createInfoNotice(e.message,{id:"redirectionNotice"}),r.updateRedirection("redirectionID",0)):"update"===e.action?n.createInfoNotice(e.message,{id:"redirectionNotice"}):"new"===e.action&&(r.updateRedirection("redirectionID",e.id),n.createSuccessNotice(e.message,{id:"redirectionNotice"})),setTimeout((function(){t.isSavingRedirection=!1,n.removeNotice("redirectionNotice")}),2e3)}))}}}},{key:"autoCreateRedirectionNotice",value:function(){if(rankMath.assessor.hasRedirection&&(0,o.get)(rankMath,["assessor","autoCreateRedirection"],!1)&&!(0,s.select)("core/editor").isEditedPostNew()&&!1!==this.oldSlug){var t=this.getSlug();if(this.oldSlug!==t){var e=(0,s.dispatch)("core/notices");this.oldSlug=t,e.createSuccessNotice((0,p.__)("Auto redirection created.","rank-math"),{id:"redirectionAutoCreationNotice"}),setTimeout((function(){e.removeNotice("redirectionAutoCreationNotice")}),2e3)}}}},{key:"handleEditorChange",value:function(t){var e=this,r={id:"handleIDChange",slug:"handleSlugChange",title:"handleTitleChange",excerpt:"handleExcerptChange",content:"handleContentChange",featuredImage:"handleFeaturedImageChange"};if((0,o.isInteger)(t.id))return this.initialize?void(0,o.forEach)(r,(function(r,n){e._data[n]!==t[n]&&e[r](e._data[n])})):(this.initialize=!0,(0,o.forEach)(r,(function(t,r){e[t](e._data[r])})),void rankMathEditor.refresh("init"));(0,s.dispatch)("rank-math").refreshResults()}},{key:"handleIDChange",value:function(t){(0,s.dispatch)("rank-math").updatePostID(t),(0,s.dispatch)("rank-math").toggleLoaded(!0)}},{key:"handleSlugChange",value:function(){""!==this.getSlug()&&!1===this.oldSlug&&(this.oldSlug=this.getSlug()),rankMathEditor.refresh("permalink")}},{key:"handleTitleChange",value:function(t){L.setVariable("title",t),L.setVariable("term",t),L.setVariable("author",t),(0,s.dispatch)("rank-math").updateSerpTitle((0,s.select)("rank-math").getTitle()),rankMathEditor.refresh("title")}},{key:"handleExcerptChange",value:function(t){L.setVariable("excerpt",t),L.setVariable("excerpt_only",t),L.setVariable("wc_shortdesc",t),L.setVariable("seo_description",t),(0,s.dispatch)("rank-math").updateSerpDescription((0,s.select)("rank-math").getDescription())}},{key:"handleFeaturedImageChange",value:function(t){(0,s.dispatch)("rank-math").updateFeaturedImage(t),rankMathEditor.refresh("featuredImage")}},{key:"handleContentChange",value:function(){(0,s.dispatch)("rank-math").updateSerpDescription((0,s.select)("rank-math").getDescription()),rankMathEditor.refresh("content")}},{key:"getData",value:function(){return this._data}}])&&Hn(t.prototype,e),r&&Hn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),Gn=zn;function Bn(t){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bn(t)}function Vn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jn(n.key),n)}}function Wn(t,e,r){return e&&Vn(t.prototype,e),r&&Vn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jn(t){var e=function(t,e){if("object"!=Bn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bn(e)?e:e+""}var $n=Wn((function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"post"===rankMath.objectType&&rankMath.postSettings.linkSuggestions){i().fn.extend({insertLink:function(t,e){var r=this[0],n="";if(r.selectionStart||"0"===r.selectionStart){var a=r.selectionStart,i=r.selectionEnd,o=r.scrollTop;n='<a href="'+t+'">'+r.value.substring(a,i)+"</a>",a===i&&(n='<a href="'+t+'">'+e+"</a>"),r.value=r.value.substring(0,a)+n+r.value.substring(i,r.value.length),r.focus(),r.selectionStart=a+n.length,r.selectionEnd=a+n.length,r.scrollTop=o}else n='<a href="'+t+'">'+e+"</a>",r.value+=n,r.focus()}});if("function"==typeof ClipboardJS&&i()(".suggestion-copy").on("click",(function(t){t.preventDefault(),new ClipboardJS(".suggestion-copy");var e=i()(this).parent().next(".suggestion-title"),r=e.html();e.text("Link Copied"),setTimeout((function(){e.html(r)}),1500)})),"object"!==("undefined"==typeof tinymce?"undefined":Bn(tinymce)))return!0;var e=null,r=null;i()(".suggestion-insert").on("click",(function(t){t.preventDefault();var n,a,o,u,c=i()(this);if(c.hasClass("clicked"))return!0;if(null!==tinymce.activeEditor&&!0!==tinymce.activeEditor.isHidden()&&"content"===tinymce.activeEditor.id){e=tinymce.activeEditor,r=i()(e.getBody());var l=e.selection.getContent()||"";if(r.find("a[data-mce-selected]").length){var p=(n="",a="",o=e.selection.getStart(),(u=e.dom.getParent(o,"a[href]"))||(a=e.selection.getContent({format:"raw"}))&&-1!==a.indexOf("</a>")&&((n=a.match(/href="([^">]+)"/))&&n[1]&&(u=e.$('a[href="'+n[1]+'"]',o)[0]),u&&e.selection.select(u)),u);e.dom.setAttribs(p,{href:c.data("url")}),i()(p).text()!==l&&e.insertContent(l)}else l.length?e.insertContent('<a href="'+c.data("url")+'">'+l+"</a>"):e.insertContent('<a href="'+c.data("url")+'">'+c.data("text")+"</a>")}else if(D()){var f=(0,s.select)("core/block-editor").getSelectedBlock().clientId,d=(0,s.select)("core/block-editor").getSelectionStart().offset,h=(0,s.select)("core/block-editor").getSelectionEnd().offset;if(document.getSelection){var m=document.getSelection();if(m.rangeCount){var y=m.getRangeAt(0),g=i()("#block-"+f).text().substring(d,h),v=document.createElement("a");v.href=c.data("url"),v.innerText=""!==g?g:c.data("text"),y.deleteContents(),y.insertNode(v);var b=m.focusNode.innerHTML;(0,s.dispatch)("core/block-editor").updateBlock(f,{attributes:{content:b}})}}}var k=c.closest(".suggestion-item").find(".suggestion-title"),w=k.html();k.text("Link Inserted"),c.addClass("clicked"),setTimeout((function(){var t,e,r,n;k.html(w),c.removeClass("clicked"),!0===rankMath.postSettings.useFocusKeyword&&(e=c,r=(t=k).data("fkcount")||0,n=t.data("fk"),(r+=1)===n.length&&(r=0),t.find(">a").text(n[r]),t.data("fkcount",r),e.data("text",n[r]))}),1500)})),i()("#rank_math_metabox_link_suggestions").find("h2").append(i()("#rank-math-link-suggestions-tooltip").html())}}));function qn(t){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(t)}function Yn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xn(n.key),n)}}function Qn(t,e,r){return e&&Yn(t.prototype,e),r&&Yn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xn(t){var e=function(t,e){if("object"!=qn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qn(e)?e:e+""}var Zn=Qn((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"post"===rankMath.objectType&&!1!==rankMath.assessor.primaryTaxonomy&&i()("[data-primary-term]").each((function(){var t=i()(this),e=t.val(),r=t.data("primary-term"),n=i()("#"+r+"div"),a=i()("#"+r+"checklist"),o=a.find("li"),u=a.find('input[type="checkbox"]:checked');o.addClass("rank-math-primary-term-li"),o.find("input").each((function(){var t=i()(this);t.parent().append('<span class="rank-math-tooltip"><input class="rank-math-make-primary" value="'+t.val()+'" type="radio" name="rank_math_primary_'+r+'"><span>Make Term Primary</span></span>')})),u.each((function(){var t=i()(this).closest("li");t.addClass("term-checked"),r+"-"+e===t.attr("id")&&(t.addClass("term-marked-primary"),t.find(">label .rank-math-make-primary").prop("checked",!0))})),n.on("click",'input[type="checkbox"]',(function(){var e=i()(this).closest("li");if(e.toggleClass("term-checked"),1===a.find("li.term-checked").length||e.hasClass("term-marked-primary")&&!e.hasClass("term-checked")){var r=a.find("li.term-checked:first > label .rank-math-make-primary");0<r.length?r.trigger("click"):(o.removeClass("term-marked-primary"),o.find('input[type="radio"]').prop("checked",!1),t.val(""))}})),n.on("click",".rank-math-make-primary",(function(){var e=i()(this),r=e.closest("li");o.removeClass("term-marked-primary"),r.addClass("term-marked-primary"),t.val(e.val())})),a.on("wpListAddEnd",(function(){a.find("li:not(.rank-math-primary-term-li)").addClass("rank-math-primary-term-li term-checked").find("input").each((function(){var t=i()(this);t.parent().append('<span class="rank-math-tooltip"><input class="rank-math-make-primary" value="'+t.val()+'" type="radio" name="rank_math_primary_'+r+'"><span>Make Term Primary</span></span>')}))}))}))}));function ta(t){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(t)}function ea(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ra(n.key),n)}}function ra(t){var e=function(t,e){if("object"!=ta(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ta(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ta(e)?e:e+""}var na=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.image_src="",this.image_alt="",this.getFeaturedImage(),this.setImage(),this.removeImage(),D()&&this.gutenbergImage()},(e=[{key:"setImage",value:function(){var t=this;if(!(0,o.isUndefined)(wp.media)){var e=wp.media.featuredImage.frame();e.on("select",(function(){var r=i()("#rank_math_post_thumbnail"),n=e.state().get("selection").first().toJSON();t.sizeWarning(n),1>r.length&&(r=i()('<img id="rank_math_post_thumbnail" />'),i()(".facebook-thumbnail",".rank-math-social-preview-image").before(r)),"large"in n.sizes?r.attr("src",n.sizes.large.url):r.attr("src",n.sizes.full.url),t.setFeaturedImage(n)}))}}},{key:"removeImage",value:function(){var t=this;i()("#postimagediv").on("click","#remove-post-thumbnail",(function(){i()("#rank_math_image_warning").remove(),i()("#rank_math_post_thumbnail").remove(),t.setFeaturedImage("")}))}},{key:"gutenbergImage",value:function(){var t,e,r=this;wp.data.subscribe((function(){var n=wp.data.select("core/editor").getEditedPostAttribute("featured_media");r.isValidMediaId(n)&&(t=wp.data.select("core").getMedia(n),(0,o.isUndefined)(t)||t!==e&&(e=t,r.setFeaturedImage({url:t.guid.rendered,alt:t.alt_text})))}))}},{key:"setFeaturedImage",value:function(t){var e={src:(0,o.get)(t,"url",""),alt:(0,o.get)(t,"alt","")};(0,c.doAction)("rank_math_updated_featured_image",e)}},{key:"sizeWarning",value:function(t){if(i()("#rank_math_image_warning").remove(),!(200<t.width&&200<t.height)){var e=i()("#postimagediv").find(".hndle");i()('<div id="rank_math_image_warning" class="notice notice-error notice-alt"><p>'+rankMath.featuredImageNotice+"</p></div>").insertAfter(e)}}},{key:"getFeaturedImage",value:function(){var t=i()("#postimagediv img");if(!t||t.length){var e={url:t[0].src,alt:t[0].alt};this.setFeaturedImage(e)}}},{key:"isValidMediaId",value:function(t){return"number"==typeof t&&0<t}}])&&ea(t.prototype,e),r&&ea(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}(),aa=wp.components,ia=(0,aa.createSlotFill)("RankMathAfterEditor"),oa=ia.Fill,ua=ia.Slot,ca=function(t){var e=t.children,r=t.className;return wp.element.createElement(oa,null,wp.element.createElement(aa.PanelRow,{className:r},e))};ca.Slot=ua;var sa=ca,la=(0,aa.createSlotFill)("RankMathAdvancedTab"),pa=la.Fill,fa=la.Slot,da=function(t){var e=t.children,r=t.className;return wp.element.createElement(pa,null,wp.element.createElement(aa.PanelRow,{className:r},e))};da.Slot=fa;var ha=da,ma=(0,aa.createSlotFill)("RankMathAfterFocusKeyword"),ya=ma.Fill,ga=ma.Slot,va=function(t){var e=t.children,r=t.className;return wp.element.createElement(ya,null,wp.element.createElement("div",{className:r},e))};va.Slot=ga;var ba=va;function ka(t){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(t)}function wa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_a(n.key),n)}}function _a(t){var e=function(t,e){if("object"!=ka(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ka(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ka(e)?e:e+""}var Sa=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"setup",value:function(){this.registerSlots=this.registerSlots.bind(this),(0,c.addAction)("rank_math_loaded","rank-math",this.registerSlots,0),this.resultManager=new u.ResultManager,this.assessor=new P(this.getCollector()),new j,this.registerComponents=this.registerComponents.bind(this),(0,c.addAction)("rank_math_loaded","rank-math",this.registerComponents,11)}},{key:"registerSlots",value:function(){this.RankMathAfterEditor=sa,this.RankMathAfterFocusKeyword=ba,this.RankMathAdvancedTab=ha,this.slots={AfterEditor:sa,AfterFocusKeyword:ba,AdvancedTab:ha}}},{key:"registerComponents",value:function(){this.components={},this.components.linkSuggestions=new $n,this.components.primaryTerm=new Zn,this.components.featuredImage=new na,rankMathAdmin.variableInserter(!1),setTimeout((function(){(0,l.render)((0,l.createElement)((0,c.applyFilters)("rank_math_app",{})),document.getElementById("rank-math-metabox-wrapper"))}),1e3)}},{key:"refresh",value:function(t){this.assessor.refresh(t)}},{key:"updatePermalink",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.assessor.dataCollector.handleSlugChange(t,e),(0,s.dispatch)("rank-math").updatePermalink(t)}},{key:"updatePermalinkSanitize",value:function(t){t=this.assessor.getResearch("slugify")(t),(0,s.dispatch)("rank-math").updatePermalink(t)}},{key:"getPrimaryKeyword",value:function(){return u.Helpers.removeDiacritics(this.assessor.getPrimaryKeyword())}},{key:"getSelectedKeyword",value:function(){var t=this.assessor.getSelectedKeyword();return(0,o.isUndefined)(t)?"":u.Helpers.removeDiacritics(t)}},{key:"getCollector",value:function(){return"post"===rankMath.objectType?D()?new Gn:new gn(this):"term"===rankMath.objectType?new Dn:"user"===rankMath.objectType?new Rn:void 0}}],e&&wa(t.prototype,e),r&&wa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}();i()((function(){window.rankMathEditor=new Sa,window.rankMathEditor.setup(),window.RankMathApp=new R})),i()(window).on("load",(function(){i().when(i().ready).then((function(){(0,c.doAction)("rank_math_loaded")}))}))}();