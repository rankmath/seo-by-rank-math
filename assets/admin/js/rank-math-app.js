!function(){var e={124:function(e,t,n){var a=n(9325);e.exports=function(){return a.Date.now()}},346:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},659:function(e,t,n){var a=n(1873),r=Object.prototype,i=r.hasOwnProperty,o=r.toString,l=a?a.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var a=!0}catch(e){}var r=o.call(e);return a&&(t?e[l]=n:delete e[l]),r}},1800:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1873:function(e,t,n){var a=n(9325).Symbol;e.exports=a},2552:function(e,t,n){var a=n(1873),r=n(659),i=n(9350),o=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):i(e)}},3805:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},4128:function(e,t,n){var a=n(1800),r=/^\s+/;e.exports=function(e){return e?e.slice(0,a(e)+1).replace(r,""):e}},4394:function(e,t,n){var a=n(2552),r=n(346);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==a(e)}},4840:function(e,t,n){var a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=a},6942:function(e,t){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},8221:function(e,t,n){var a=n(3805),r=n(124),i=n(9374),o=Math.max,l=Math.min;e.exports=function(e,t,n){var s,c,u,p,d,m,h=0,g=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function w(t){var n=s,a=c;return s=c=void 0,h=t,p=e.apply(a,n)}function y(e){var n=e-m;return void 0===m||n>=t||n<0||f&&e-h>=u}function b(){var e=r();if(y(e))return k(e);d=setTimeout(b,function(e){var n=t-(e-m);return f?l(n,u-(e-h)):n}(e))}function k(e){return d=void 0,v&&s?w(e):(s=c=void 0,p)}function E(){var e=r(),n=y(e);if(s=arguments,c=this,m=e,n){if(void 0===d)return function(e){return h=e,d=setTimeout(b,t),g?w(e):p}(m);if(f)return clearTimeout(d),d=setTimeout(b,t),w(m)}return void 0===d&&(d=setTimeout(b,t)),p}return t=i(t)||0,a(n)&&(g=!!n.leading,u=(f="maxWait"in n)?o(i(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==d&&clearTimeout(d),h=0,s=m=c=d=void 0},E.flush=function(){return void 0===d?p:k(r())},E}},9325:function(e,t,n){var a=n(4840),r="object"==typeof self&&self&&self.Object===Object&&self,i=a||r||Function("return this")();e.exports=i},9350:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9374:function(e,t,n){var a=n(4128),r=n(3805),i=n(4394),o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var n=l.test(e);return n||s.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{__experimentalGetAllAnnotationsForBlock:function(){return lt},__experimentalGetAnnotations:function(){return ct},__experimentalGetAnnotationsForBlock:function(){return ot},__experimentalGetAnnotationsForRichText:function(){return st}});var t={};n.r(t),n.d(t,{__experimentalAddAnnotation:function(){return vt},__experimentalRemoveAnnotation:function(){return wt},__experimentalRemoveAnnotationsBySource:function(){return bt},__experimentalUpdateAnnotationRange:function(){return yt}});var a=wp.hooks,r=wp.i18n,i=wp.data,o=wp.element,l=n(6942),s=n.n(l),c=lodash,u=wp.compose,p=wp.components;function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var m=["tabId","onClick","children","selected"];function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,b(a.key),a)}}function g(e,t,n){return t=v(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f()?Reflect.construct(t,n||[],v(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function y(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=d(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},k.apply(null,arguments)}var E=function(e){var t=e.tabId,n=e.onClick,a=e.children,r=e.selected,i=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,m);return wp.element.createElement(p.Button,k({role:"tab",tabIndex:r?null:-1,"aria-selected":r,id:t,onClick:n},i),a)},_=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(e=g(this,t,arguments),"handleClick",(function(t){var n=e.props.onSelect,a=void 0===n?c.noop:n;e.setState({selected:t}),a(t)})),y(e,"onNavigate",(function(e,t){t.click()}));var n=e.props,a=n.tabs,r=n.initialTabName;return e.state={selected:r||(a.length>0?a[0].name:null)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(t,e),function(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this,t=this.state.selected,n=this.props,a=n.activeClass,r=void 0===a?"is-active":a,i=n.className,o=n.instanceId,l=n.orientation,u=void 0===l?"horizontal":l,d=n.tabs,m=(0,c.find)(d,{name:t}),h=o+"-"+m.name,g=d.slice(4);return wp.element.createElement("div",{className:i},wp.element.createElement(p.NavigableMenu,{role:"tablist",orientation:u,onNavigate:this.onNavigate,className:"components-tab-panel__tabs "+t},d.slice(0,4).map((function(n){return wp.element.createElement(E,{className:s()("components-tab-panel__tabs-item",n.className,y({},r,n.name===t)),tabId:o+"-"+n.name,"aria-controls":o+"-"+n.name+"-view",selected:n.name===t,key:n.name,onClick:(0,c.partial)(e.handleClick,n.name)},n.title)})),g.map((function(n){return wp.element.createElement(E,{className:s()("components-tab-panel__tabs-item",n.className,y({},r,n.name===t)),tabId:o+"-"+n.name,"aria-controls":o+"-"+n.name+"-view",selected:n.name===t,key:n.name,onClick:(0,c.partial)(e.handleClick,n.name)},n.title)}))),m&&wp.element.createElement("div",{"aria-labelledby":h,role:"tabpanel",id:h+"-view",className:"components-tab-panel__tab-content"},this.props.children(m)))}}])}(o.Component),T=(0,u.withInstanceId)(_),O=document.createElement("div");function S(e){return e&&"string"==typeof e&&(e=e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"").replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),O.innerHTML=e,e=O.textContent,O.textContent=""),e}function x(e,t,n){var a=0;return!1!==(0,c.get)(n,"pixelWidth",!1)&&(a=Math.min(100,Math.floor(t/n.pixelWidth*100))),Math.max(Math.min(100,Math.floor(e/n.max*100)),a)+"%"}function C(e,t){return e<=t.min||e>t.max}function I(e,t){return e<=t.minWidth||e>t.pixelWidth}var N=function(e){var t=function(e,t){var n=S(e).length,a=0,r=!1;if(!1!==(0,c.get)(t,"pixelWidth",!1)){r=!0;var i=document.createTextNode(e),o=document.createElement("span");o.appendChild(i),o.id="rank-math-width-tester",o.className=t.widthCheckerClass;var l=document.body.appendChild(o);a=document.getElementById("rank-math-width-tester").offsetWidth,l.outerHTML=""}return{left:x(n,a,t),isInvalid:C(n,t),isInvalidWidth:!!r&&I(a,t),count:n+" / "+t.max,pixelWidth:r?a+"px / "+t.pixelWidth+"px":""}}(e.source,e),n=t.pixelWidth?" (".concat(t.pixelWidth,")"):"";return wp.element.createElement("span",{className:s()("length-indicator-wrapper",{invalid:t.isInvalid||t.isInvalidWidth})},wp.element.createElement("span",{className:"length-count"},t.count,n),wp.element.createElement("span",{className:"length-indicator"},wp.element.createElement("span",{style:{left:t.left}})))},D=wp.htmlEntities,A=React;function M(e){return e.startsWith("{{/")?{type:"componentClose",value:e.replace(/\W/g,"")}:e.endsWith("/}}")?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.startsWith("{{")?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}function P(e,t){let n,a,r=[];for(let i=0;i<e.length;i++){const o=e[i];if("string"!==o.type){if(void 0===t[o.value])throw new Error(`Invalid interpolation, missing component node: \`${o.value}\``);if("object"!=typeof t[o.value])throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \`${o.value}\``);if("componentClose"===o.type)throw new Error(`Missing opening component token: \`${o.value}\``);if("componentOpen"===o.type){n=t[o.value],a=i;break}r.push(t[o.value])}else r.push(o.value)}if(n){const i=function(e,t){const n=t[e];let a=0;for(let r=e+1;r<t.length;r++){const e=t[r];if(e.value===n.value){if("componentOpen"===e.type){a++;continue}if("componentClose"===e.type){if(0===a)return r;a--}}}throw new Error("Missing closing component token `"+n.value+"`")}(a,e),o=P(e.slice(a+1,i),t),l=(0,A.cloneElement)(n,{},o);if(r.push(l),i<e.length-1){const n=P(e.slice(i+1),t);r=r.concat(n)}}return r=r.filter(Boolean),0===r.length?null:1===r.length?r[0]:(0,A.createElement)(A.Fragment,null,...r)}function j(e){const{mixedString:t,components:n,throwErrors:a}=e;if(!n)return t;if("object"!=typeof n){if(a)throw new Error(`Interpolation Error: unable to process \`${t}\` because components is not an object`);return t}const r=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(M)}(t);try{return P(r,n)}catch(e){if(a)throw new Error(`Interpolation Error: unable to process \`${t}\` because of error \`${e.message}\``);return t}}var R=function(e){var t=e.tags,n=e.components,a=e.children;return n=n||{},!1===(0,c.isUndefined)(t)&&(t=t.split(",")).forEach((function(e){var t=e;n[e]=wp.element.createElement(t,null)})),j({mixedString:a,components:n})};function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function F(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,z(a.key),a)}}function U(e,t,n){return t=V(t),function(e,t){if(t&&("object"==L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,B()?Reflect.construct(t,n||[],V(e).constructor):t.apply(e,n))}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(B=function(){return!!e})()}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function z(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=L(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}var W=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){(t=z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(n=U(this,t,[e]),"state",{}),n.state.variables=n.getFiltered(),n.state.filtered=n.state.variables,n.state.display="none",n.state.isOpen=!1,n.handleOutsideClick=n.handleOutsideClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(t,e),function(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"getFiltered",value:function(){var e=this.props.exclude,t=Object.values(rankMath.variables);return(0,c.isUndefined)(e)?t:t.filter((function(t){return!e.includes(t.variable)}))}},{key:"render",value:function(){var e=this;return wp.element.createElement(o.Fragment,null,wp.element.createElement("div",{className:"rank-math-variables-dropdown",style:{display:this.state.display},ref:function(t){e.node=t}},wp.element.createElement(p.TextControl,{autoComplete:"off",placeholder:(0,D.decodeEntities)((0,r.__)("Search &hellip;","rank-math")),onChange:function(t){e.handleSearch(t)}}),wp.element.createElement("ul",null,this.state.filtered.map((function(t,n){return wp.element.createElement("li",{key:n,"data-var":t.variable,role:"presentation",onClick:function(){e.props.onClick(t)}},wp.element.createElement("strong",null,t.name),wp.element.createElement("span",null,wp.element.createElement(R,{tags:"strong"},t.description.replace("<strong>","{{strong}}").replace("</strong>","{{/strong}}"))))}),this))),wp.element.createElement(p.Button,{icon:"arrow-down-alt2",onClick:function(){e.toggle()}}))}},{key:"toggle",value:function(){this.state.isOpen?document.removeEventListener("click",this.handleOutsideClick,!0):document.addEventListener("click",this.handleOutsideClick,!0),this.setState({display:this.state.isOpen?"none":"block",isOpen:!this.state.isOpen})}},{key:"handleOutsideClick",value:function(e){this.node.contains(e.target)||this.toggle()}},{key:"handleSearch",value:function(e){var t=e.toLowerCase();2>t.length?this.setState({filtered:this.state.variables}):this.setState({filtered:this.state.variables.filter((function(e){return-1!==Object.values(e).join(" ").toLowerCase().indexOf(t)}))})}}])}(o.Component),G=W,K=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math");return{title:t.getTitle(),serpTitle:t.getSerpTitle()}})),(0,i.withDispatch)((function(e){return{updateTitle:function(t){e("rank-math").updateSerpTitle(t),e("rank-math").updateTitle(t)}}})))((function(e){var t=e.title,n=e.serpTitle,a=e.updateTitle;return wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-editor-title"},(0,r.__)("Title","rank-math")),wp.element.createElement(N,{source:n,min:15,max:60,pixelWidth:580,widthCheckerClass:"title"}),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextControl,{id:"rank-math-editor-title",value:t,placeholder:rankMath.assessor.serpData.titleTemplate,help:(0,r.__)("This is what will appear in the first line when this post shows up in the search results.","rank-math"),onChange:a}),wp.element.createElement(G,{exclude:["seo_title","seo_description"],onClick:function(e){return a(t+" %"+e.variable+"%")}})))})),q=wp.url,Y=function(e){return e.replace(/<\/?[a-z][^>]*?>/gi,"\n")},$=function(e){return e.replace(/<style[^>]*>([\S\s]*?)<\/style>/gim,"")},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,t)},J=function(e){return e.replace(/<!--[\s\S]*?-->/g,"")};function Z(e){return e.replace(/&nbsp;|&#160;/gi," ").replace(/\s{2,}/g," ").replace(/\s\./g,".").replace(/(\r\n|\n|\r)/gm,"")}function Q(e){return(0,c.isUndefined)(e)?"":(0,c.flow)([$,X,Y,J,Z])(e)}var ee={};(0,c.isUndefined)(rankMath.assessor)||(0,c.forEach)(rankMath.assessor.diacritics,(function(e,t){return ee[t]=new RegExp(e,"g")}));var te=function(e){if((0,c.isUndefined)(e))return e;for(var t in ee)e=e.replace(ee[t],t);return e};var ne=function(){return!(0,c.isNull)(document.getElementById("site-editor"))&&(0,c.endsWith)(wp.data.select("core/edit-site").getEditedPostId(),"//home")},ae=(0,u.compose)((0,i.withSelect)((function(e){var t=rankMathEditor.assessor.dataCollector,n=e("rank-math").getSerpSlug();return{permalink:n||t.getSlug(),serpPermalink:t.getPermalink()}})),(0,i.withDispatch)((function(){return{updatePermalink:function(e){rankMathEditor.updatePermalink(Q(e),!0)},updatePermalinkSanitize:function(e){rankMathEditor.updatePermalinkSanitize(function(e){return e=e.replace(/,/g,""),Q(e=te(e))}(e))}}})))((function(e){var t=e.permalink,n=e.serpPermalink,a=e.updatePermalink,i=e.updatePermalinkSanitize;return wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-editor-permalink"},(0,r.__)("Permalink","rank-math")),wp.element.createElement(N,{source:(0,q.safeDecodeURIComponent)(n),min:5,max:75}),wp.element.createElement(p.TextControl,{id:"rank-math-editor-permalink",value:rankMath.is_front_page||ne()?"/":(0,q.safeDecodeURIComponent)(t),onChange:a,help:rankMath.is_front_page||ne()?(0,r.__)("Editing Homepage permalink is not possible.","rank-math"):(0,r.__)("This is the unique URL of this page, displayed below the post title in the search results.","rank-math"),disabled:rankMath.is_front_page||ne()?"disabled":"",onBlur:function(e){i(e.target.value)}}))})),re=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math");return{description:t.getDescription(),serpDescription:t.getSerpDescription()}})),(0,i.withDispatch)((function(e){return{updateDescription:function(t){e("rank-math").updateSerpDescription(t),e("rank-math").updateDescription(t)}}})))((function(e){var t=e.description,n=e.serpDescription,a=e.updateDescription;return wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-editor-description"},(0,r.__)("Description","rank-math")),wp.element.createElement(N,{source:n,min:80,max:160,pixelWidth:920,widthCheckerClass:"description"}),wp.element.createElement("div",{className:"variable-group rank-math-description-variables"},wp.element.createElement(p.TextareaControl,{id:"rank-math-editor-description",value:S(t),placeholder:n||(0,c.unescape)(rankMath.assessor.serpData.descriptionTemplate),help:(0,r.__)("This is what will appear as the description when this post shows up in the search results.","rank-math"),onChange:a}),wp.element.createElement(G,{exclude:["seo_title","seo_description"],onClick:function(e){return a(t+" %"+e.variable+"%")}})))})),ie=(0,u.compose)((0,i.withSelect)((function(e){return{type:e("rank-math").getSnippetPreviewType()}})),(0,i.withDispatch)((function(e,t){return{updatePreviewType:function(n){e("rank-math").updateSnippetPreviewType(n===t.type?"":n)}}})))((function(e){var t=e.type,n=e.updatePreviewType,r=s()("button button-secondary button-small",{active:"desktop"===t}),i=s()("button button-secondary button-small",{active:"mobile"===t});return wp.element.createElement("div",{className:"rank-math-button-devices alignright"},(0,a.applyFilters)("rank_math_before_serp_devices",""),wp.element.createElement("div",{onClick:function(){return n("desktop")},className:r},wp.element.createElement("i",{className:"rm-icon rm-icon-desktop"})),wp.element.createElement("div",{onClick:function(){return n("mobile")},className:i},wp.element.createElement("i",{className:"rm-icon rm-icon-mobile"})))}));function oe(e){return 100<e?"bad-fk dark":80<e?"good-fk":50<e?"ok-fk":"bad-fk"}var le=(0,i.withSelect)((function(e){var t=e("rank-math");return{score:t.getAnalysisScore(),isRefreshing:t.isRefreshing()}}))((function(e){var t=e.score;return wp.element.createElement("div",{className:"seo-score "+oe(t)},wp.element.createElement("div",{className:"score-text"},t," / 100"))}));function se(e,t,n,a){return(0,c.isUndefined)(t)?t:(t=(0,c.truncate)(t,{length:n,separator:a||" "}),""===e?t:t.replace(new RegExp(function(e){return e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}(e),"gi"),(function(e){return'<mark className="highlight">'+e+"</mark>"})))}function ce(e){return e.replace(/(^\w{1})|(\s+\w{1})/g,(function(e){return e.toUpperCase()}))}var ue=function(e,t){for(var n=[],a=1;a<=e;a++)n.push(wp.element.createElement(p.Dashicon,{key:Math.random(),size:"13",icon:"star-"+t}));return n},pe=(0,i.withSelect)((function(e){var t=e("rank-math").getSchemas();return{schema:(0,c.find)(t,(function(e){return!(0,c.isEmpty)(e.metadata.isPrimary)}))}}))((function(e){var t=e.schema;if((0,c.isEmpty)(t))return null;var n=(0,c.get)(t,"review.reviewRating",{}),a=n.ratingValue;if((0,c.isEmpty)(a))return null;(0,c.get)(n,"worstRating",1);var i=(0,c.get)(n,"bestRating",5);return wp.element.createElement("div",{className:"rank-math-rating-preview"},wp.element.createElement("div",{className:"serp-ratings"},ue(i,"filled"),function(e,t,n){return e*=100/n,wp.element.createElement("div",{className:"serp-result",style:{width:e+"%"}},ue(n,"filled"))}(a,0,i)),wp.element.createElement("span",{className:"serp-rating-label"},(0,r.__)("Rating: ","rank-math")),wp.element.createElement("span",{className:"serp-rating-value"},a))}));function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=de(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=(0,i.withSelect)((function(e){var t=e("rank-math"),n=t.getRobots();return{title:t.getSerpTitle(),permalink:rankMathEditor.assessor.dataCollector.getPermalink(),description:t.getSerpDescription(),previewType:t.getSnippetPreviewType(),isNoIndex:"noindex"in n,keyword:t.getSelectedKeyword().data.value}}))((function(e){var t=e.title,n=e.permalink,a=e.description,i=e.previewType,o=void 0===i?"desktop":i,l=e.isNoIndex,c=e.keyword,u=e.onClick,p=e.showScore,d=void 0===p||p,m=e.showDevices,h=void 0!==m&&m,g=s()("serp-preview",me(me({"expanded-preview":""!==o},"".concat(o,"-preview"),""!==o&&h),"noindex-preview",l)),f=rankMath.capitalizeTitle?ce(t):t,v=rankMathEditor.assessor.getResearch("slugify")(c);return wp.element.createElement("div",{className:g},wp.element.createElement("div",{className:"serp-preview-title","data-title":(0,r.__)("Preview","rank-math"),"data-desktop":(0,r.__)("Desktop Preview","rank-math"),"data-mobile":(0,r.__)("Mobile Preview","rank-math")},d&&wp.element.createElement(le,null)," ",h&&wp.element.createElement(ie,null)),wp.element.createElement("div",{className:"serp-preview-wrapper"},wp.element.createElement("div",{className:"serp-preview-bg"},wp.element.createElement("div",{className:"serp-preview-input"},wp.element.createElement("input",{type:"text",value:c||(0,r.__)("Rank Math","rank-math"),disabled:!0}),wp.element.createElement("span",{className:"serp-icon-search"},wp.element.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},wp.element.createElement("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))),wp.element.createElement("span",{className:"serp-icon-mic"})),wp.element.createElement("div",{className:"serp-preview-menus"},wp.element.createElement("ul",null,wp.element.createElement("li",{className:"current"},wp.element.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgweiIvPjxwYXRoIGZpbGw9IiMzNEE4NTMiIGQ9Ik0xMCAydjJhNiA2IDAgMCAxIDYgNmgyYTggOCAwIDAgMC04LTh6Ii8+PHBhdGggZmlsbD0iI0VBNDMzNSIgZD0iTTEwIDRWMmE4IDggMCAwIDAtOCA4aDJjMC0zLjMgMi43LTYgNi02eiIvPjxwYXRoIGZpbGw9IiNGQkJDMDQiIGQ9Ik00IDEwSDJhOCA4IDAgMCAwIDggOHYtMmMtMy4zIDAtNi0yLjY5LTYtNnoiLz48cGF0aCBmaWxsPSIjNDI4NUY0IiBkPSJNMjIgMjAuNTlsLTUuNjktNS42OUE3Ljk2IDcuOTYgMCAwIDAgMTggMTBoLTJhNiA2IDAgMCAxLTYgNnYyYzEuODUgMCAzLjUyLS42NCA0Ljg4LTEuNjhsNS42OSA1LjY5TDIyIDIwLjU5eiIvPjwvc3ZnPgo=",alt:"","data-atf":"1"}),(0,r.__)("All","rank-math")),wp.element.createElement("li",null,wp.element.createElement("svg",{focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),wp.element.createElement("path",{d:"M14 13l4 5H6l4-4 1.79 1.78L14 13zm-6.01-2.99A2 2 0 0 0 8 6a2 2 0 0 0-.01 4.01zM22 5v14a3 3 0 0 1-3 2.99H5c-1.64 0-3-1.36-3-3V5c0-1.64 1.36-3 3-3h14c1.65 0 3 1.36 3 3zm-2.01 0a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h7v-.01h7a1 1 0 0 0 1-1V5z"}))," ",(0,r.__)("Images","rank-math")),wp.element.createElement("li",null,wp.element.createElement("svg",{focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{clipRule:"evenodd",d:"M0 0h24v24H0z",fill:"none"}),wp.element.createElement("path",{clipRule:"evenodd",d:"M10 16.5l6-4.5-6-4.5v9zM5 20h14a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1zm14.5 2H5a3 3 0 0 1-3-3V4.4A2.4 2.4 0 0 1 4.4 2h15.2A2.4 2.4 0 0 1 22 4.4v15.1a2.5 2.5 0 0 1-2.5 2.5z",fillRule:"evenodd"}))," ",(0,r.__)("Videos","rank-math")),wp.element.createElement("li",null,wp.element.createElement("svg",{focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),wp.element.createElement("path",{d:"M12 11h6v2h-6v-2zm-6 6h12v-2H6v2zm0-4h4V7H6v6zm16-7.22v12.44c0 1.54-1.34 2.78-3 2.78H5c-1.64 0-3-1.25-3-2.78V5.78C2 4.26 3.36 3 5 3h14c1.64 0 3 1.25 3 2.78zM19.99 12V5.78c0-.42-.46-.78-1-.78H5c-.54 0-1 .36-1 .78v12.44c0 .42.46.78 1 .78h14c.54 0 1-.36 1-.78V12zM12 9h6V7h-6v2z"}))," ",(0,r.__)("News","rank-math")),wp.element.createElement("li",null,wp.element.createElement("svg",{focusable:"false",viewBox:"0 0 16 16"},wp.element.createElement("path",{d:"M7.503 0c3.09 0 5.502 2.487 5.502 5.427 0 2.337-1.13 3.694-2.26 5.05-.454.528-.906 1.13-1.358 1.734-.452.603-.754 1.508-.98 1.96-.226.452-.377.829-.904.829-.528 0-.678-.377-.905-.83-.226-.451-.527-1.356-.98-1.959-.452-.603-.904-1.206-1.356-1.734C3.132 9.121 2 7.764 2 5.427 2 2.487 4.412 0 7.503 0zm0 1.364c-2.283 0-4.14 1.822-4.14 4.063 0 1.843.86 2.873 1.946 4.177.468.547.942 1.178 1.4 1.79.34.452.596.99.794 1.444.198-.455.453-.992.793-1.445.459-.61.931-1.242 1.413-1.803 1.074-1.29 1.933-2.32 1.933-4.163 0-2.24-1.858-4.063-4.139-4.063zm0 2.734a1.33 1.33 0 11-.001 2.658 1.33 1.33 0 010-2.658"}))," ",(0,r.__)("Maps","rank-math")),wp.element.createElement("li",null,wp.element.createElement("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},wp.element.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))," ",(0,r.__)("More","rank-math"))),wp.element.createElement("ul",{className:"menus-right"},wp.element.createElement("li",null,(0,r.__)("Settings","rank-math")),wp.element.createElement("li",null,(0,r.__)("Tools","rank-math")))),wp.element.createElement("div",{className:"serp-preview-result-stats"},(0,r.__)("About 43,700,000 results (0.32 seconds) ","rank-math"))),wp.element.createElement("div",{className:"serp-preview-body",role:"button",tabIndex:0,onClick:function(){u&&u()}},wp.element.createElement("div",{className:"group"},wp.element.createElement("img",{src:rankMath.siteFavIcon,width:"16",height:"16",className:"serp-preview-favicon",alt:""}),wp.element.createElement("div",{className:"serp-url",dangerouslySetInnerHTML:{__html:se(v,Q((0,q.safeDecodeURIComponent)(n)),75,/-? +/)}})),wp.element.createElement("div",{className:"group"},wp.element.createElement("h5",{className:"serp-title",dangerouslySetInnerHTML:{__html:se(c,Q(f),60)}})),wp.element.createElement(pe,null),wp.element.createElement("div",{className:"group"},wp.element.createElement("div",{className:"serp-description",dangerouslySetInnerHTML:{__html:se(c,Q(a),160)}}))),wp.element.createElement("div",{className:"serp-preview-noindex"},wp.element.createElement("h3",null,(0,r.__)("Noindex robots meta is enabled","rank-math")),wp.element.createElement("p",null,(0,r.__)("This page will not appear in search results. You can disable noindex in the Advanced tab.","rank-math")))))})),ge=(0,i.withSelect)((function(e){return{isNoIndex:"noindex"in e("rank-math").getRobots()}}))((function(){return wp.element.createElement("div",{className:"rank-math-editor-general"},wp.element.createElement(he,{showScore:!1,showDevices:!0}),wp.element.createElement(K,null),wp.element.createElement(ae,null),wp.element.createElement(re,null))}));function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=rankMath.links[e]||"";if(!n)return"#";if(!t)return n;var a={utm_source:"Plugin",utm_medium:encodeURIComponent(t),utm_campaign:"WP"};return n+"?"+Object.keys(a).map((function(e){return"".concat(e,"=").concat(a[e])})).join("&")}var ve=jQuery,we=n.n(ve);function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function be(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,ke(a.key),a)}}function ke(e){var t=function(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=ye(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ye(t)?t:t+""}var Ee=function(){return function(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){(t=ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"map",null)}),[{key:"swap",value:function(e,t){var n=this;if(!(e=e||""))return"";var a=new RegExp(/%(([a-z0-9_-]+)\(([^)]*)\)|[^\s]+)%/,"giu");return e.replace(" %page%","").replace("%sep% %sep%","%sep%").replace(a,(function(e){return n.replace(t,e)})).trim()}},{key:"replace",value:function(e,t){var n=t.toLowerCase().slice(1,-1);return["term_description","user_description"].includes(n)?"undefined"!=typeof tinymce&&tinymce.activeEditor&&"rank_math_description_editor"===tinymce.activeEditor.id?tinymce.activeEditor.getContent():we()("#description").val():n.includes("customfield(")?(n=n.replace("customfield(","").replace(")",""))in rankMath.customFields?rankMath.customFields[n]:"":(e=e||this.getMap(),(n="seo_description"===(n="seo_title"===(n=n.includes("(")?n.split("(")[0]:n)?"title":n)?"excerpt":n)in e?e[n]:"")}},{key:"getMap",value:function(){var e=this;return null!==this.map||(this.map={},we().each(rankMath.variables,(function(t,n){t=t.toLowerCase().replace(/%+/g,"").split("(")[0],e.map[t]=n.example}))),this.map}},{key:"setVariable",value:function(e,t){null!==this.map?this.map[e]=t:void 0!==rankMath.variables[e]&&(rankMath.variables[e].example=t)}}])}(),_e=new Ee;function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}var Oe=function(e){var t=s()("rank-math-social-preview","rank-math-social-preview-"+e.network,e.cardType),n=e.title?_e.swap(e.title):e.serpTitle,a=rankMath.capitalizeTitle?ce(n):n;return wp.element.createElement("div",{className:t},wp.element.createElement("div",{className:"rank-math-social-preview-item"},wp.element.createElement("div",{className:"rank-math-social-preview-meta"},wp.element.createElement("div",{className:"social-profile-image"}),e.children),wp.element.createElement("div",{className:"rank-math-social-preview-item-wrapper"},wp.element.createElement("div",{className:"rank-math-social-preview-image"},wp.element.createElement("img",{className:"rank-math-social-image-thumbnail",src:e.image,alt:""}),e.hasOverlay&&e.imageOverlay&&"object"===Te(rankMath.overlayImages[e.imageOverlay])&&wp.element.createElement("img",{src:rankMath.overlayImages[e.imageOverlay].url,className:"rank-math-social-preview-image-overlay overlay-position-"+rankMath.overlayImages[e.imageOverlay].position,alt:""})),wp.element.createElement("div",{className:"rank-math-social-preview-caption"},"facebook"===e.network&&wp.element.createElement("h4",{className:"rank-math-social-preview-publisher"},e.siteurl),wp.element.createElement("h3",{className:"rank-math-social-preview-title"},a),wp.element.createElement("p",{className:"rank-math-social-preview-description"},e.description?_e.swap(e.description):e.serpDescription),"twitter"===e.network&&wp.element.createElement(o.Fragment,null,wp.element.createElement("h4",{className:"rank-math-social-preview-publisher"},wp.element.createElement(p.Dashicon,{icon:"admin-links"}),e.siteurl))))))},Se=wp.mediaUtils,xe=function(e){return wp.element.createElement("div",{className:"components-base-control field-group"},wp.element.createElement(Se.MediaUpload,{allowedTypes:["image"],multiple:!1,value:e.imageID,render:function(t){var n=t.open;return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.Button,{onClick:n,className:"button",isPrimary:!0},e.imageID>0?(0,r.__)("Replace Image","rank-math"):(0,r.__)("Add Image","rank-math")),e.imageID>0&&wp.element.createElement(p.Button,{className:"button",isDestructive:!0,isLink:!0,onClick:e.removeImage},(0,r.__)("Remove Image","rank-math")))},onSelect:e.updateImage}),wp.element.createElement("p",{className:"components-base-control__help"},(0,r.__)("Upload at least 600x315px image. Recommended size is 1200x630px.","rank-math")),wp.element.createElement("div",{className:"notice notice-warning inline hidden"},wp.element.createElement("p",null,(0,r.__)("Image is smaller than the minimum size, please select a different image.","rank-math"))))};function Ce(){var e=rankMath.overlayImages,t=[];return Object.keys(e).forEach((function(n){t.push({label:e[n].name,value:n})})),t}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ie.apply(null,arguments)}var Ne=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math"),n=function(){if(t.getFacebookImage())return t.getFacebookImage();var e=t.getFeaturedImage();return(0,c.isUndefined)(e)||""===e?rankMath.defautOgImage:t.getFeaturedImage().source_url}();return{title:t.getFacebookTitle(),description:t.getFacebookDescription(),serpTitle:t.getSerpTitle(),serpDescription:t.getSerpDescription(),author:t.getFacebookAuthor(),image:n,imageID:t.getFacebookImageID(),hasOverlay:t.getFacebookHasOverlay(),imageOverlay:t.getFacebookImageOverlay()}})),(0,i.withDispatch)((function(e){return{removeImage:function(){e("rank-math").updateFacebookImage(""),e("rank-math").updateFacebookImageID(0),e("rank-math").updateFacebookHasOverlay(!1)},updateImage:function(t){e("rank-math").updateFacebookImage(t.url),e("rank-math").updateFacebookImageID(t.id)},updateTitle:function(t){e("rank-math").updateFacebookTitle(t)},updateDescription:function(t){e("rank-math").updateFacebookDescription(t)},updateImageOverlay:function(t){e("rank-math").updateFacebookImageOverlay(t)},toggleOverlay:function(t){e("rank-math").updateFacebookHasOverlay(t)}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(Oe,Ie({},e,{network:"facebook",siteurl:rankMath.parentDomain}),wp.element.createElement("div",{className:"social-name"},rankMath.assessor.serpData.authorName),wp.element.createElement("div",{className:"social-time"},wp.element.createElement("span",null,(0,r.__)("2 hrs","rank-math")),wp.element.createElement("span",null,wp.element.createElement(p.Dashicon,{icon:"admin-site",size:"12"})))),wp.element.createElement("div",{className:"notice notice-alt notice-info components-base-control"},wp.element.createElement("p",null,(0,r.__)("Customize the title, description and images of your post used while sharing on Facebook and Twitter.","rank-math")," ",wp.element.createElement("a",{href:fe("meta-box-social-tab","Gutenberg Social Tab"),target:"_blank",rel:"noreferrer noopener"},(0,r.__)("Read more","rank-math")))),wp.element.createElement(xe,e),(0,a.applyFilters)("rank_math_before_serp_devices","","Opengraph"),wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-facebook-title"},(0,r.__)("Title","rank-math")),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextControl,{id:"rank-math-facebook-title",value:e.title,placeholder:e.serpTitle,onChange:e.updateTitle}),wp.element.createElement(G,{onClick:function(t){return e.updateTitle(e.title+" %"+t.variable+"%")}}))),wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-facebook-description"},(0,r.__)("Description","rank-math")),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextareaControl,{id:"rank-math-facebook-description",value:e.description,placeholder:e.serpDescription,onChange:e.updateDescription}),wp.element.createElement(G,{onClick:function(t){return e.updateDescription(e.description+" %"+t.variable+"%")}}))),!ne()&&wp.element.createElement("div",{className:"field-group"},wp.element.createElement(p.ToggleControl,{label:(0,r.__)("Add icon overlay to thumbnail","rank-math"),checked:e.hasOverlay,onChange:e.toggleOverlay}),wp.element.createElement("div",{className:e.hasOverlay?"components-base-control":"hidden"},wp.element.createElement(p.SelectControl,{value:e.imageOverlay,label:(0,r.__)("Icon overlay","rank-math"),options:Ce(),onChange:e.updateImageOverlay}),!rankMath.isPro&&wp.element.createElement("div",{className:"notice notice-alt notice-warning"},wp.element.createElement("p",null,wp.element.createElement(R,{components:{link:wp.element.createElement("a",{href:fe("pro","Gutenberg Social Tab"),target:"_blank",rel:"noopener noreferrer"})}},(0,r.__)("You can add custom thumbnail overlays with {{link}}Rank Math Pro{{/link}}.","rank-math")))))))})),De=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math");return{country:t.getTwitterAppCountry(),description:t.getTwitterAppDescription(),iphoneName:t.getTwitterAppIphoneName(),iphoneID:t.getTwitterAppIphoneID(),iphoneUrl:t.getTwitterAppIphoneUrl(),ipadName:t.getTwitterAppIpadName(),ipadID:t.getTwitterAppIpadID(),ipadUrl:t.getTwitterAppIpadUrl(),googleplayName:t.getTwitterAppGoogleplayName(),googleplayID:t.getTwitterAppGoogleplayID(),googleplayUrl:t.getTwitterAppGoogleplayUrl()}})),(0,i.withDispatch)((function(e){return{updateAppIphoneName:function(t){e("rank-math").updateTwitterAppIphoneName(t)},updateAppIphoneID:function(t){e("rank-math").updateTwitterAppIphoneID(t)},updateAppIphoneUrl:function(t){e("rank-math").updateTwitterAppIphoneUrl(t)},updateAppIpadName:function(t){e("rank-math").updateTwitterAppIpadName(t)},updateAppIpadID:function(t){e("rank-math").updateTwitterAppIpadID(t)},updateAppIpadUrl:function(t){e("rank-math").updateTwitterAppIpadUrl(t)},updateAppGoogleplayName:function(t){e("rank-math").updateTwitterAppGoogleplayName(t)},updateAppGoogleplayID:function(t){e("rank-math").updateTwitterAppGoogleplayID(t)},updateAppGoogleplayUrl:function(t){e("rank-math").updateTwitterAppGoogleplayUrl(t)},updateAppDescription:function(t){e("rank-math").updateTwitterAppDescription(t)},updateAppCountry:function(t){e("rank-math").updateTwitterAppCountry(t)}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.description,label:(0,r.__)("App Description","rank-math"),help:(0,r.__)("You can use this as a more concise description than what you may have on the app store. This field has a maximum of 200 characters. (optional)","rank-math"),onChange:e.updateAppDescription}),function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.iphoneName,label:(0,r.__)("iPhone App Name","rank-math"),help:(0,r.__)("The name of your app to show.","rank-math"),onChange:e.updateAppIphoneName}),wp.element.createElement(p.TextControl,{value:e.iphoneID,label:(0,r.__)("iPhone App ID","rank-math"),help:(0,r.__)("The numeric representation of your app ID in the App Store.","rank-math"),onChange:e.updateAppIphoneID}),wp.element.createElement(p.TextControl,{value:e.iphoneUrl,label:(0,r.__)("iPhone App URL","rank-math"),help:(0,r.__)("Your app's custom URL scheme (must include ://).","rank-math"),onChange:e.updateAppIphoneUrl}))}(e),function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.ipadName,label:(0,r.__)("iPad App Name","rank-math"),help:(0,r.__)("The name of your app to show.","rank-math"),onChange:e.updateAppIpadName}),wp.element.createElement(p.TextControl,{value:e.ipadID,label:(0,r.__)("iPad App ID","rank-math"),help:(0,r.__)("The numeric representation of your app ID in the App Store.","rank-math"),onChange:e.updateAppIpadID}),wp.element.createElement(p.TextControl,{value:e.ipadUrl,label:(0,r.__)("iPad App URL","rank-math"),help:(0,r.__)("Your app's custom URL scheme (must include ://).","rank-math"),onChange:e.updateAppIpadUrl}))}(e),function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.googleplayName,label:(0,r.__)("Google Play App Name","rank-math"),help:(0,r.__)("The name of your app to show.","rank-math"),onChange:e.updateAppGoogleplayName}),wp.element.createElement(p.TextControl,{value:e.googleplayID,label:(0,r.__)("Google Play App ID","rank-math"),help:(0,r.__)("Your app ID in the Google Play (.i.e. com.android.app)","rank-math"),onChange:e.updateAppGoogleplayID}),wp.element.createElement(p.TextControl,{value:e.googleplayUrl,label:(0,r.__)("Google Play App URL","rank-math"),help:(0,r.__)("Your app's custom URL scheme (must include ://).","rank-math"),onChange:e.updateAppGoogleplayUrl}))}(e),wp.element.createElement(p.TextControl,{value:e.country,label:(0,r.__)("App Country","rank-math"),help:(0,r.__)("If your application is not available in the US App Store, you must set this value to the two-letter country code for the App Store that contains your application.","rank-math"),onChange:e.updateAppCountry}))})),Ae=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math");return{url:t.getTwitterPlayerUrl(),size:t.getTwitterPlayerSize(),stream:t.getTwitterPlayerStream(),ctype:t.getTwitterPlayerStreamCtype()}})),(0,i.withDispatch)((function(e){return{updatePlayerUrl:function(t){e("rank-math").updateTwitterPlayerUrl(t)},updatePlayerSize:function(t){e("rank-math").updateTwitterPlayerSize(t)},updatePlayerStreamUrl:function(t){e("rank-math").updateTwitterPlayerStreamUrl(t)},updatePlayerStreamCtype:function(t){e("rank-math").updateTwitterPlayerStreamCtype(t)}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TextControl,{value:e.url,label:(0,r.__)("Player URL","rank-math"),help:(0,r.__)("HTTPS URL to iFrame player. This must be a HTTPS URL which does not generate active mixed content warnings in a web browser. The audio or video player must not require plugins such as Adobe Flash.","rank-math"),onChange:e.updatePlayerUrl}),wp.element.createElement(p.TextControl,{value:e.size,label:(0,r.__)("Player Size","rank-math"),help:(0,r.__)("iFrame width and height, specified in pixels in the following format: 600x400.","rank-math"),onChange:e.updatePlayerSize}),wp.element.createElement(p.TextControl,{value:e.stream,label:(0,r.__)("Stream URL","rank-math"),help:(0,r.__)("Optional URL to raw stream that will be rendered in Twitterâ€™s mobile applications directly. If provided, the stream must be delivered in the MPEG-4 container format (the .mp4 extension). The container can store a mix of audio and video with the following codecs: Video: H.264, Baseline Profile (BP), Level 3.0, up to 640 x 480 at 30 fps. Audio: AAC, Low Complexity Profile (LC).","rank-math"),onChange:e.updatePlayerStreamUrl}),wp.element.createElement(p.TextControl,{value:e.ctype,label:(0,r.__)("Stream Content Type","rank-math"),help:(0,r.__)("The MIME type/subtype combination that describes the content contained in twitter:player:stream. Takes the form specified in RFC 6381. Currently supported content_type values are those defined in RFC 4337 (MIME Type Registration for MP4).","rank-math"),onChange:e.updatePlayerStreamCtype}))}));function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Me.apply(null,arguments)}var Pe=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math"),n=!!ne()||t.getTwitterUseFacebook(),a=function(){if(n&&t.getFacebookImage())return t.getFacebookImage();if(t.getTwitterImage())return t.getTwitterImage();var e=t.getFeaturedImage();return(0,c.isUndefined)(e)||""===e?rankMath.defautOgImage:t.getFeaturedImage().source_url}();return{useFacebook:n,cardType:t.getTwitterCardType(),title:n?t.getFacebookTitle():t.getTwitterTitle(),description:n?t.getFacebookDescription():t.getTwitterDescription(),serpTitle:t.getSerpTitle(),serpDescription:t.getSerpDescription(),author:t.getTwitterAuthor(),image:a,imageID:n?t.getFacebookImageID():t.getTwitterImageID(),hasOverlay:n?t.getFacebookHasOverlay():t.getTwitterHasOverlay(),imageOverlay:n?t.getFacebookImageOverlay():t.getTwitterImageOverlay()}})),(0,i.withDispatch)((function(e){return{removeImage:function(){e("rank-math").updateTwitterImage(""),e("rank-math").updateTwitterImageID(0),e("rank-math").updateTwitterHasOverlay(!1)},updateImage:function(t){e("rank-math").updateTwitterImage(t.url),e("rank-math").updateTwitterImageID(t.id)},updateTitle:function(t){e("rank-math").updateTwitterTitle(t)},updateDescription:function(t){e("rank-math").updateTwitterDescription(t)},updateImageOverlay:function(t){e("rank-math").updateTwitterImageOverlay(t)},toggleUseFacebook:function(t){e("rank-math").updateTwitterUseFacebook(t)},updateCardType:function(t){e("rank-math").updateTwitterCardType(t)},toggleOverlay:function(t){e("rank-math").updateTwitterHasOverlay(t)}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(Oe,Me({},e,{network:"twitter",siteurl:rankMath.parentDomain,classes:e.cardType,description:(0,c.truncate)(e.description?e.description:e.serpDescription,{length:240,separator:" "})}),wp.element.createElement("div",{className:"social-name"},rankMath.assessor.serpData.authorName,wp.element.createElement("span",{className:"social-username"},"@",e.author),wp.element.createElement("span",{className:"social-time"},(0,r.__)("2h","rank-math"))),wp.element.createElement("div",{className:"social-text"},(0,r.__)("The card for your website will look little something like this!","rank-math"))),wp.element.createElement("div",{className:"field-group"},wp.element.createElement(p.ToggleControl,{label:(0,r.__)("Use Data from Facebook Tab","rank-math"),checked:e.useFacebook,onChange:e.toggleUseFacebook})),wp.element.createElement("div",{className:"field-group"},wp.element.createElement(p.SelectControl,{value:e.cardType,label:(0,r.__)("Card Type","rank-math"),options:[{value:"summary_large_image",label:(0,r.__)("Summary Card with Large Image","rank-math")},{value:"summary_card",label:(0,r.__)("Summary Card","rank-math")},{value:"app",label:(0,r.__)("App Card","rank-math")},{value:"player",label:(0,r.__)("Player Card","rank-math")}],onChange:e.updateCardType})),"player"===e.cardType&&wp.element.createElement("div",{className:"notice notice-alt notice-info"},wp.element.createElement("p",null,(0,r.__)("Video clips and audio streams have a special place on the Twitter platform thanks to the Player Card. Player Cards must be submitted for approval before they can be used. More information: ","rank-math"),wp.element.createElement("a",{href:"https://dev.twitter.com/cards/types/player",target:"blank"},"https://dev.twitter.com/cards/types/player"))),"app"===e.cardType&&wp.element.createElement("div",{className:"notice notice-alt notice-info"},wp.element.createElement("p",null,(0,r.__)("The App Card is a great way to represent mobile applications on Twitter and to drive installs. More information: ","rank-math"),wp.element.createElement("a",{href:"https://dev.twitter.com/cards/types/app",target:"blank"}," https://dev.twitter.com/cards/types/app"))),!e.useFacebook&&"app"!==e.cardType&&wp.element.createElement(xe,e),!e.useFacebook&&(0,a.applyFilters)("rank_math_before_serp_devices","","Opengraph"),!e.useFacebook&&"app"!==e.cardType&&wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-twitter-title"},(0,r.__)("Title","rank-math")),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextControl,{id:"rank-math-twitter-title",value:e.title,placeholder:e.serpTitle,onChange:e.updateTitle}),wp.element.createElement(G,{onClick:function(t){return e.updateTitle(e.title+" %"+t.variable+"%")}}))),!e.useFacebook&&"app"!==e.cardType&&wp.element.createElement("div",{className:"field-group"},wp.element.createElement("label",{htmlFor:"rank-math-twitter-description"},(0,r.__)("Description","rank-math")),wp.element.createElement("div",{className:"variable-group"},wp.element.createElement(p.TextareaControl,{id:"rank-math-twitter-description",value:e.description,placeholder:e.serpDescription,onChange:e.updateDescription}),wp.element.createElement(G,{onClick:function(t){return e.updateDescription(e.description+" %"+t.variable+"%")}}))),!e.useFacebook&&"app"!==e.cardType&&!ne()&&wp.element.createElement("div",{className:"field-group"},wp.element.createElement(p.ToggleControl,{label:(0,r.__)("Add icon overlay to thumbnail","rank-math"),checked:e.hasOverlay,onChange:e.toggleOverlay}),wp.element.createElement("div",{className:e.hasOverlay?"components-base-control":"hidden"},wp.element.createElement(p.SelectControl,{value:e.imageOverlay,label:(0,r.__)("Icon overlay","rank-math"),options:Ce(),onChange:e.updateImageOverlay}),!rankMath.isPro&&wp.element.createElement("div",{className:"notice notice-alt notice-warning"},wp.element.createElement("p",null,wp.element.createElement(R,{components:{link:wp.element.createElement("a",{href:fe("pro","Gutenberg Social Tab"),target:"_blank",rel:"noopener noreferrer"})}},(0,r.__)("You can add custom thumbnail overlays with {{link}}Rank Math Pro{{/link}}.","rank-math")))))),"player"===e.cardType&&wp.element.createElement(Ae,null),"app"===e.cardType&&wp.element.createElement(De,null))})),je=function(){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.TabPanel,{className:"rank-math-editor-social",activeClass:"is-active",tabs:[{name:"facebook",title:wp.element.createElement(o.Fragment,null,wp.element.createElement(p.Dashicon,{icon:"facebook-alt"}),(0,r.__)("Facebook","rank-math")),view:Ne,className:"button-facebook"},{name:"twitter",title:wp.element.createElement(o.Fragment,null,wp.element.createElement(p.Dashicon,{icon:"twitter"}),(0,r.__)("Twitter","rank-math")),view:Pe,className:"button-twitter"}],onSelect:function(e){wp.data.dispatch("rank-math").updateSocialTab(e)}},(function(e){return(0,o.createElement)(e.view)})))};function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Le(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Fe(a.key),a)}}function Fe(e){var t=function(e,t){if("object"!=Re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Re(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Re(t)?t:t+""}function Ue(e,t,n){return t=Ve(t),function(e,t){if(t&&("object"==Re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Be()?Reflect.construct(t,n||[],Ve(e).constructor):t.apply(e,n))}function Be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Be=function(){return!!e})()}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}function He(e,t){return He=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},He(e,t)}var ze=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ue(this,t))._handleRef=e._handleRef.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&He(e,t)}(t,e),function(e,t,n){return t&&Le(e.prototype,t),n&&Le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){var e=we()(this.component),t=e.find(".stars a"),n=e.find(".smiley");t.on("mouseenter",(function(){var e=we()(this).index();t.removeClass("highlighted"),t.slice(0,e+1).addClass("highlighted"),e<2?n.removeClass("normal happy").addClass("angry"):e>3?n.removeClass("normal angry").addClass("happy"):n.removeClass("happy angry").addClass("normal")}))}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_handleRef",value:function(e){this.component=e}},{key:"render",value:function(){for(var e=this,t=[],n=1;n<=5;n++)t.push(wp.element.createElement("a",{key:n,href:"https://wordpress.org/support/plugin/seo-by-rank-math/reviews/?filter=5#new-post",target:"_blank",rel:"noopener noreferrer"},wp.element.createElement("span",{className:"dashicons dashicons-star-filled"})));return wp.element.createElement("div",{className:"ask-review",ref:this._handleRef},wp.element.createElement("h3",null,(0,r.__)("Rate Rank Math SEO","rank-math")),wp.element.createElement("p",null,wp.element.createElement(R,{tags:"em"},(0,r.__)("Hey, we noticed you are using Rank Math SEO plugin for more than a week now â€“{{em}}that's awesome!{{/em}} Could you please do us a BIG favor and give it a 5-star rating on WordPress to help us spread the word and boost our motivation?","rank-math"))),wp.element.createElement("div",{className:"stars-wrapper"},wp.element.createElement("div",{className:"face"},wp.element.createElement("div",{className:"smiley happy"},wp.element.createElement("div",{className:"eyes"},wp.element.createElement("div",{className:"eye"}),wp.element.createElement("div",{className:"eye"})),wp.element.createElement("div",{className:"mouth"}))),wp.element.createElement("div",{className:"stars"},t)),wp.element.createElement(p.CheckboxControl,{label:wp.element.createElement(o.Fragment,null,wp.element.createElement("span",null,(0,r.__)("I already did. Please don't show this message again.","rank-math"))),onChange:function(){return e.alreadyReviewed()}}))}},{key:"alreadyReviewed",value:function(){we().ajax({url:rankMath.ajaxurl,data:{action:"rank_math_already_reviewed",security:rankMath.security}}),rankMath.pluginReviewed=!0,we()(this.component).animate({opacity:.01},1500,(function(){var e=we()(".rank-math-editor > .components-tab-panel__tabs > button");e.first().click(),e.last().remove()}))}}])}(o.Component),We=ze,Ge=(0,p.withFilters)("rankMath.analytics.reportButton")((function(){return null})),Ke=(0,u.compose)((0,i.withSelect)((function(e){return{isOpen:e("rank-math").isSnippetEditorOpen()}})),(0,i.withDispatch)((function(e,t){return{toggleEditor:function(){e("rank-math").toggleSnippetEditor(!t.isOpen)}}})))((function(e){var t=e.isOpen,n=e.initialTab,a=void 0===n?"":n,i=e.toggleEditor,l=[{name:"general",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-settings"}),wp.element.createElement("span",null,(0,r.__)("General","rank-math"))),view:ge}];return rankMath.canUser.social&&l.push({name:"social",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-social"}),wp.element.createElement("span",null,(0,r.__)("Social","rank-math"))),view:je}),rankMath.showReviewTab&&!1===rankMath.pluginReviewed&&l.push({name:"review",className:"review-tab",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-heart-filled"})),view:We}),wp.element.createElement(o.Fragment,null,wp.element.createElement(p.Button,{isPrimary:!0,className:"rank-math-edit-snippet",onClick:i},(0,r.__)("Edit Snippet","rank-math")),""===a&&wp.element.createElement(Ge,null),t&&wp.element.createElement(p.Modal,{title:(0,r.__)("Preview Snippet Editor","rank-math"),closeButtonLabel:(0,r.__)("Close","rank-math"),shouldCloseOnClickOutside:!1,onRequestClose:function(e){void 0!==e&&(document.body.classList.remove("modal-open"),i())},className:"rank-math-modal",overlayClassName:"rank-math-modal-overlay"},wp.element.createElement(p.TabPanel,{className:"rank-math-tabs rank-math-editor",activeClass:"is-active",initialTabName:a,tabs:l},(function(e){return(0,o.createElement)(e.view)}))))})),qe=function(){return wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(p.BaseControl,{className:"rank-math-social"},wp.element.createElement("span",{className:"components-base-control__label"},(0,r.__)("Social Media Preview","rank-math")),wp.element.createElement("p",{className:"cmb2-metabox-description"},(0,r.__)("Here you can view and edit the thumbnail, title and description that will be displayed when your site is shared on social media.","rank-math")),wp.element.createElement("p",{className:"cmb2-metabox-description"},(0,r.__)("Click on the button below to view and edit the preview.","rank-math")),wp.element.createElement(Ke,{buttonLabel:(0,r.__)("Preview & Edit Social Media","rank-math"),initialTab:"social"})))},Ye=wp.wordcount,$e=wp.richText;const Xe="core/annotations",Je="core/annotation",Ze="annotation-text-";const Qe={name:Je,title:(0,r.__)("Annotation"),tagName:"mark",className:"annotation-text",attributes:{className:"class",id:"id"},edit(){return null},__experimentalGetPropsForEditableTreePreparation(e,{richTextIdentifier:t,blockClientId:n}){return{annotations:e(Xe).__experimentalGetAnnotationsForRichText(n,t)}},__experimentalCreatePrepareEditableTree({annotations:e}){return(t,n)=>{if(0===e.length)return t;let a={formats:t,text:n};return a=function(e,t=[]){return t.forEach((t=>{let{start:n,end:a}=t;n>e.text.length&&(n=e.text.length),a>e.text.length&&(a=e.text.length);const r=Ze+t.source,i=Ze+t.id;e=(0,$e.applyFormat)(e,{type:Je,attributes:{className:r,id:i}},n,a)})),e}(a,e),a.formats}},__experimentalGetPropsForEditableTreeChangeHandler(e){return{removeAnnotation:e(Xe).__experimentalRemoveAnnotation,updateAnnotationRange:e(Xe).__experimentalUpdateAnnotationRange}},__experimentalCreateOnChangeEditableValue(e){return t=>{const n=function(e){const t={};return e.forEach(((e,n)=>{(e=(e=e||[]).filter((e=>e.type===Je))).forEach((e=>{let{id:a}=e.attributes;a=a.replace(Ze,""),t.hasOwnProperty(a)||(t[a]={start:n}),t[a].end=n+1}))})),t}(t),{removeAnnotation:a,updateAnnotationRange:r,annotations:i}=e;!function(e,t,{removeAnnotation:n,updateAnnotationRange:a}){e.forEach((e=>{const r=t[e.id];if(!r)return void n(e.id);const{start:i,end:o}=e;i===r.start&&o===r.end||a(e.id,r.start,r.end)}))}(i,n,{removeAnnotation:a,updateAnnotationRange:r})}}},{name:et,...tt}=Qe;(0,$e.registerFormatType)(et,tt);function nt(e,t){const n=e.filter(t);return e.length===n.length?e:n}(0,a.addFilter)("editor.BlockListBlock","core/annotations",(e=>(0,i.withSelect)(((e,{clientId:t,className:n})=>({className:e(Xe).__experimentalGetAnnotationsForBlock(t).map((e=>"is-annotated-by-"+e.source)).concat(n).filter(Boolean).join(" ")})))(e)));const at=(e,t)=>Object.entries(e).reduce(((e,[n,a])=>({...e,[n]:t(a)})),{});var rt=function(e={},t){var n;switch(t.type){case"ANNOTATION_ADD":const a=t.blockClientId,r={id:t.id,blockClientId:a,richTextIdentifier:t.richTextIdentifier,source:t.source,selector:t.selector,range:t.range};if("range"===r.selector&&!function(e){return"number"==typeof e.start&&"number"==typeof e.end&&e.start<=e.end}(r.range))return e;const i=null!==(n=e?.[a])&&void 0!==n?n:[];return{...e,[a]:[...i,r]};case"ANNOTATION_REMOVE":return at(e,(e=>nt(e,(e=>e.id!==t.annotationId))));case"ANNOTATION_UPDATE_RANGE":return at(e,(e=>{let n=!1;const a=e.map((e=>e.id===t.annotationId?(n=!0,{...e,range:{start:t.start,end:t.end}}):e));return n?a:e}));case"ANNOTATION_REMOVE_SOURCE":return at(e,(e=>nt(e,(e=>e.source!==t.source))))}return e};const it=[],ot=(0,i.createSelector)(((e,t)=>{var n;return(null!==(n=e?.[t])&&void 0!==n?n:[]).filter((e=>"block"===e.selector))}),((e,t)=>{var n;return[null!==(n=e?.[t])&&void 0!==n?n:it]}));function lt(e,t){var n;return null!==(n=e?.[t])&&void 0!==n?n:it}const st=(0,i.createSelector)(((e,t,n)=>{var a;return(null!==(a=e?.[t])&&void 0!==a?a:[]).filter((e=>"range"===e.selector&&n===e.richTextIdentifier)).map((e=>{const{range:t,...n}=e;return{...t,...n}}))}),((e,t)=>{var n;return[null!==(n=e?.[t])&&void 0!==n?n:it]}));function ct(e){return Object.values(e).flat()}var ut={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let pt;const dt=new Uint8Array(16);function mt(){if(!pt&&(pt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pt(dt)}const ht=[];for(let e=0;e<256;++e)ht.push((e+256).toString(16).slice(1));function gt(e,t=0){return ht[e[t+0]]+ht[e[t+1]]+ht[e[t+2]]+ht[e[t+3]]+"-"+ht[e[t+4]]+ht[e[t+5]]+"-"+ht[e[t+6]]+ht[e[t+7]]+"-"+ht[e[t+8]]+ht[e[t+9]]+"-"+ht[e[t+10]]+ht[e[t+11]]+ht[e[t+12]]+ht[e[t+13]]+ht[e[t+14]]+ht[e[t+15]]}var ft=function(e,t,n){if(ut.randomUUID&&!t&&!e)return ut.randomUUID();const a=(e=e||{}).random||(e.rng||mt)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return gt(a)};function vt({blockClientId:e,richTextIdentifier:t=null,range:n=null,selector:a="range",source:r="default",id:i=ft()}){const o={type:"ANNOTATION_ADD",id:i,blockClientId:e,richTextIdentifier:t,source:r,selector:a};return"range"===a&&(o.range=n),o}function wt(e){return{type:"ANNOTATION_REMOVE",annotationId:e}}function yt(e,t,n){return{type:"ANNOTATION_UPDATE_RANGE",annotationId:e,start:t,end:n}}function bt(e){return{type:"ANNOTATION_REMOVE_SOURCE",source:e}}const kt=(0,i.createReduxStore)(Xe,{reducer:rt,selectors:e,actions:t});function Et(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _t(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}(0,i.register)(kt);var Tt="core/annotations",Ot="rank-math-annotations",St=function(e,t){var n,a=Et(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;if("div"===r.localName&&r.children&&St(r.children,t),"p"===r.localName)if((0,Ye.count)(r.innerText,"words")<120)t.annotator.remove(Ot),r.getElementsByClassName("rank-math-content-ai-tooltip").length&&r.getElementsByClassName("rank-math-content-ai-tooltip")[0].remove();else{var i=t.selection.win.getSelection();i.selectAllChildren(r),t.annotator.annotate(Ot,{uid:"rank-math-annotation"}),i.empty()}}}catch(e){a.e(e)}finally{a.f()}},xt=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if("classic"!==rankMath.currentEditor){if(!e)return(0,i.dispatch)(Tt).__experimentalRemoveAnnotationsBySource(Ot),void n([]);var r=(0,i.select)("core/block-editor").getBlocks();(0,c.forEach)(r,(function(e){if("core/paragraph"===e.name){var a=e.clientId;(0,Ye.count)(e.attributes.content,"words")<120?(0,c.includes)(t,a)&&((0,i.dispatch)(Tt).__experimentalRemoveAnnotation(a),t=(0,c.remove)(t,a),n(t)):(t.push(a),n(t),(0,i.dispatch)(Tt).__experimentalAddAnnotation({id:a,blockClientId:a,source:Ot,richTextIdentifier:"content",range:{start:0,end:e.attributes.content.length}}))}}))}else!function(e){var t=window.tinymce.get(window.wpActiveEditor);if(!t)return!1;if(!e)return t.focus(),t.annotator.remove(Ot),void(0,a.doAction)("rank_math_annotations_removed");var n=t.getBody().children||[];St(n,t)}(e)},Ct=(0,p.withFilters)("rankMath.checklists.FixWithAI")((function(){return null}));function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Dt(a.key),a)}}function Dt(e){var t=function(e,t){if("object"!=It(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=It(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==It(t)?t:t+""}function At(e,t,n){return t=Pt(t),function(e,t){if(t&&("object"==It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mt()?Reflect.construct(t,n||[],Pt(e).constructor):t.apply(e,n))}function Mt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mt=function(){return!!e})()}function Pt(e){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pt(e)}function jt(e,t){return jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jt(e,t)}var Rt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=At(this,t)).state={highlightText:!0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jt(e,t)}(t,e),function(e,t,n){return t&&Nt(e.prototype,t),n&&Nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){if("classic"!==rankMath.currentEditor||(0,c.isUndefined)(window.tinymce))return!1;var e=window.tinymce.get(window.wpActiveEditor);if(!e)return!1;e.annotator.register("rank-math-annotations",{persistent:!1,decorate:function(){return{classes:["rank-math-annotations"]}}}),e.dom.addStyle('\n\t\t.rank-math-annotations.mce-annotation {\n\t\t\tbackground-color: mark !important;\n\t\t\tposition: relative;\n\t\t}\n\t\t.rank-math-annotations.mce-annotation .rank-math-content-ai-tooltip {\n\t\t\tdisplay: none;\n\t\t\tbackground-color: #2271b1;\n\t\t\tborder-color: #2271b1;\n\t\t\tcolor: #fff;\n\t\t\tcursor: pointer;\n\t\t\tposition: absolute;\n\t\t\ttop: -30px;\n\t\t\tleft: 0px;\n\t\t}\n\t\t.rank-math-annotations.mce-annotation[data-mce-selected="inline-boundary"] .rank-math-content-ai-tooltip {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t\t')}},{key:"shouldComponentUpdate",value:function(e,t){return e.isLoaded!==this.props.isLoaded||(e.selectedKeyword.index!==this.props.selectedKeyword.index||(e.isRefreshing!==this.props.isRefreshing||t.highlightText!==this.state.highlightText))}},{key:"render",value:function(){var e=this,t=rankMathEditor.getSelectedKeyword();return this.results=rankMathEditor.resultManager.getResult(t),this.isPrimary=0===this.props.selectedKeyword.index,(0,c.isUndefined)(this.results)?null:Object.keys(this.getGroups()).map((function(t){return e.renderGroup(t)}))}},{key:"renderGroup",value:function(e){this.errors=0;var t=this.renderGroupItems(e);return wp.element.createElement(p.PanelBody,{key:"panel-"+e,title:wp.element.createElement(o.Fragment,null,this.getGroupTitle(e),0===this.errors?wp.element.createElement("span",{className:"rank-math-group-score test-ok"},(0,r.__)("All Good","rank-math")):wp.element.createElement("span",{className:"rank-math-group-score test-fail"},this.errors," ",(0,r.__)("Errors","rank-math"))),initialOpen:"basic"===e,className:"rank-math-checklist"},wp.element.createElement("ul",null,t))}},{key:"renderGroupItems",value:function(e){var t=this,n=this.results.results,a=this.getGroupItems(e);return Object.keys(a).map((function(e){if((0,c.isUndefined)(n[e])||!t.isPrimary&&a[e])return!1;var r=n[e],i=s()("seo-check-"+e,{"test-ok":r.hasScore(),"test-fail":!r.hasScore()});r.hasScore()&&["contentHasAssets","lengthContent","keywordDensity"].includes(e)&&(i+=" "+function(e,t){var n=(0,c.round)(e/t*100);if(!(100<=n))return 49<n?"test-check-good":30<n?"test-check-ok":"test-check-bad"}(r.getScore(),r.getMaxScore())),!1===r.hasScore()&&(t.errors+=1);var o=t.getLink(e);return"contentHasShortParagraphs"===e&&(0,c.includes)(["classic","gutenberg"],rankMath.currentEditor)&&!t.state.highlightText&&xt(!0,t.props.highlightedParagraphs,t.props.updateHighlightedParagraphs),wp.element.createElement("li",{key:e,className:i},wp.element.createElement("span",null,wp.element.createElement("span",{dangerouslySetInnerHTML:{__html:r.getText()}}),!r.hasScore()&&"contentHasShortParagraphs"===e&&!(0,c.isEmpty)(r.text)&&(0,c.includes)(["classic","gutenberg"],rankMath.currentEditor)&&wp.element.createElement(p.Button,{className:"rank-math-highlight-button",onClick:function(){xt(t.state.highlightText,t.props.highlightedParagraphs,t.props.updateHighlightedParagraphs),t.setState({highlightText:!t.state.highlightText})}},t.state.highlightText&&wp.element.createElement("i",{className:"dashicons dashicons-visibility"}),!t.state.highlightText&&wp.element.createElement("i",{className:"dashicons dashicons-hidden"})),wp.element.createElement(Ct,{id:e,result:r})),o&&wp.element.createElement("a",{href:fe("score-100","Content Analysis Single Test KB")+o,rel:"noreferrer",target:"_blank",className:"dashicons-before dashicons-editor-help rank-math-help-icon"}))}))}},{key:"getGroupItems",value:function(e){return("post"===rankMath.objectType?{basic:{keywordInTitle:!0,keywordInMetaDescription:!0,keywordInPermalink:!0,keywordIn10Percent:!0,keywordInContent:!1,lengthContent:!1,hasProductSchema:!0},advanced:{keywordInSubheadings:!1,keywordInImageAlt:!0,keywordDensity:!1,lengthPermalink:!1,linksHasExternals:!1,linksNotAllExternals:!1,linksHasInternal:!1,keywordNotUsed:!0,hasContentAI:!0,isReviewEnabled:!0},"title-readability":{titleStartWithKeyword:!0,titleSentiment:!1,titleHasPowerWords:!1,titleHasNumber:!1},"content-readability":{contentHasTOC:!1,contentHasShortParagraphs:!1,contentHasAssets:!1}}:{basic:{keywordInTitle:!0,keywordInMetaDescription:!0,keywordInPermalink:!0},advanced:{titleStartWithKeyword:!0,keywordNotUsed:!0}})[e]}},{key:"getGroupTitle",value:function(e){return this.getGroups()[e]}},{key:"getGroups",value:function(){return"post"===rankMath.objectType?{basic:(0,r.__)("Basic SEO","rank-math"),advanced:(0,r.__)("Additional","rank-math"),"title-readability":(0,r.__)("Title Readability","rank-math"),"content-readability":(0,r.__)("Content Readability","rank-math")}:{basic:(0,r.__)("Basic SEO","rank-math"),advanced:(0,r.__)("Additional","rank-math")}}},{key:"getLink",value:function(e){var t={keywordInTitle:"#focus-keyword-in-the-seo-title-primary-focus-keyword-only",keywordInMetaDescription:"#focus-keyword-in-the-meta-description-primary-focus-keyword-only",keywordInPermalink:"#focus-keyword-in-the-url-primary-focus-keyword-only",keywordIn10Percent:"#focus-keyword-at-the-beginning-of-the-content",keywordInContent:"#focus-keyword-in-the-content-runs-of-all-focus-keywords",lengthContent:"#overall-content-length",keywordInSubheadings:"#focus-keyword-in-subheading-primary-and-secondary-focus-keywords",keywordInImageAlt:"#focus-keyword-in-image-alt-attributes-primary-focus-keyword-only",keywordDensity:"#keyword-density-primary-and-secondary-focus-keywords",lengthPermalink:"#url-length",linksHasExternals:"#linking-to-external-sources",linksNotAllExternals:"#linking-to-external-content-with-a-followed-link",linksHasInternal:"#linking-to-internal-resources",keywordNotUsed:"#focus-keyword-uniqueness-primary-focus-keyword-only",titleStartWithKeyword:"#focus-keyword-at-the-beginning-of-the-seo-title-only-for-primary-keyword",titleSentiment:"#sentiment-in-a-title",titleHasPowerWords:"#use-of-power-word-in-title",titleHasNumber:"#number-in-title",contentHasTOC:"#table-of-contents",contentHasShortParagraphs:"#use-of-short-paragraphs",contentHasAssets:"#use-of-media-in-your-posts",hasContentAI:"#used-content-ai",hasProductSchema:"#has-product-schema",isReviewEnabled:"#is-review-enabled"};return(0,c.has)(t,e)?t[e]:""}}])}(o.Component),Lt=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math");return{isLoaded:t.isLoaded(),isRefreshing:t.isRefreshing(),selectedKeyword:t.getSelectedKeyword(),highlightedParagraphs:t.getHighlightedParagraphs()}})),(0,i.withDispatch)((function(e){return{updateHighlightedParagraphs:function(t){e("rank-math").updateHighlightedParagraphs(t)}}})))(Rt),Ft=(0,p.createSlotFill)("RankMathAfterFocusKeyword"),Ut=Ft.Fill,Bt=Ft.Slot,Vt=function(e){var t=e.children,n=e.className;return wp.element.createElement(Ut,null,wp.element.createElement("div",{className:n},t))};Vt.Slot=Bt;var Ht=Vt,zt=(0,i.withSelect)((function(e){return{isPro:e("rank-math").isPro()}}))((function(e){return e.isPro?rankMath.isUserRegistered?wp.element.createElement(p.Notice,{status:"warning",isDismissible:!1},wp.element.createElement(R,{components:{link:wp.element.createElement("a",{href:fe("score-100","General Tab Score Notice"),target:"_blank",rel:"noopener noreferrer"})}},(0,r.__)("Read here to {{link}}Score 100/100{{/link}} ","rank-math"))):wp.element.createElement(p.Notice,{status:"warning",isDismissible:!1},wp.element.createElement(R,{components:{link:wp.element.createElement("a",{href:rankMath.adminurl+"?page=rank-math&view=help",target:"_blank",rel:"noopener noreferrer"})}},(0,r.__)("Activate your account by {{link}}connecting to Rank Math!{{/link}} ","rank-math"))):wp.element.createElement(p.Notice,{status:"warning",isDismissible:!1},wp.element.createElement(R,{components:{link:wp.element.createElement("a",{href:fe("pro","Gutenberg General Tab Notice"),target:"_blank",rel:"noopener noreferrer"}),strong:wp.element.createElement("strong",null)}},(0,r.__)("Want more? {{link}}{{strong}}Upgrade today to the PRO{{/strong}}{{/link}} version.","rank-math")))})),Wt=(0,u.withInstanceId)((function(e){var t=e.className,n=e.instanceId,a=e.children,r="rank-math-tooltip-"+n,i=s()("rank-math-tooltip",t);return wp.element.createElement("span",{className:i},wp.element.createElement("input",{id:r,type:"checkbox"}),wp.element.createElement("label",{htmlFor:r,className:"dashicons-before dashicons-editor-help"}),wp.element.createElement("div",{className:"rank-math-tooltip-content"},a))})),Gt="&#8203;";function Kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function qt(e){return function(e){if(Array.isArray(e))return Kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yt={isEnabled:function(){var e;return null===(e=window.TAGIFY_DEBUG)||void 0===e||e},log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a;this.isEnabled()&&(a=console).log.apply(a,["[Tagify]:"].concat(qt(t)))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a;this.isEnabled()&&(a=console).warn.apply(a,["[Tagify]:"].concat(qt(t)))}},$t=function(e,t,n,a){return e=""+e,t=""+t,a&&(e=e.trim(),t=t.trim()),n?e==t:e.toLowerCase()==t.toLowerCase()},Xt=function(e,t){return e&&Array.isArray(e)&&e.map((function(e){return Jt(e,t)}))};function Jt(e,t){var n,a={};for(n in e)t.indexOf(n)<0&&(a[n]=e[n]);return a}function Zt(e){return(new DOMParser).parseFromString(e.trim(),"text/html").body.firstElementChild}function Qt(e,t){for(t=t||"previous";e=e[t+"Sibling"];)if(3==e.nodeType)return e}function en(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):e}function tn(e){var t=Object.prototype.toString.call(e).split(" ")[1].slice(0,-1);return e===Object(e)&&"Array"!=t&&"Function"!=t&&"RegExp"!=t&&"HTMLUnknownElement"!=t}function nn(e,t,n){var a,r;function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){if(tn(t[n])){tn(e[n])?i(e[n],t[n]):e[n]=Object.assign({},t[n]);continue}if(Array.isArray(t[n])){e[n]=Object.assign([],t[n]);continue}e[n]=t[n]}}return a=e,(null!=(r=Object)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](a):a instanceof r)||(e={}),i(e,t),n&&i(e,n),e}function an(){var e=[],t={},n=!0,a=!1,r=void 0;try{for(var i,o=arguments[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value,s=!0,c=!1,u=void 0;try{for(var p,d=l[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){var m=p.value;tn(m)?t[m.value]||(e.push(m),t[m.value]=1):e.includes(m)||e.push(m)}}catch(e){c=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw u}}}}catch(e){a=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return e}function rn(e){return String.prototype.normalize?"string"==typeof e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:e}var on=function(){return/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent)};function ln(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function sn(e){var t,n=un.call(this,e),a=null==e||null===(t=e.classList)||void 0===t?void 0:t.contains(this.settings.classNames.tag);return n&&a}function cn(e){return un.call(this,e)&&(null==e?void 0:e.closest(this.settings.classNames.tagSelector))}function un(e){var t;return(null==e||null===(t=e.closest)||void 0===t?void 0:t.call(e,this.settings.classNames.namespaceSelector))===this.DOM.scope}function pn(e,t){var n=window.getSelection();return t=t||n.getRangeAt(0),"string"==typeof e&&(e=document.createTextNode(e)),t&&(t.deleteContents(),t.insertNode(e)),e}function dn(e,t,n){return e?(t&&(e.__tagifyTagData=n?t:nn({},e.__tagifyTagData||{},t)),e.__tagifyTagData):(Yt.warn("tag element doesn't exist",{tagElm:e,data:t}),t)}function mn(e){if(e&&e.parentNode){var t=e,n=window.getSelection(),a=n.getRangeAt(0);n.rangeCount&&(a.setStartAfter(t),a.collapse(!0),n.removeAllRanges(),n.addRange(a))}}function hn(e,t){e.forEach((function(e){if(dn(e.previousSibling)||!e.previousSibling){var n=document.createTextNode("â€‹");e.before(n),t&&mn(n)}}))}var gn={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,addTagOn:["blur","tab","enter"],onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,focusable:!0,focusInputOnRemove:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:function(){},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:"Â "},autoComplete:{enabled:!0,rightKey:!1,tabKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownItemSelected:"tagify__dropdown__item--selected",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,escapeHTML:!0,highlightFirst:!0,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:function(){return Promise.resolve()},beforePaste:function(){return Promise.resolve()},suggestionClick:function(){return Promise.resolve()},beforeKeyDown:function(){return Promise.resolve()}}};function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){fn(e,t,n[t])}))}return e}function wn(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(){for(var e in this.dropdown={},this._dropdown)this.dropdown[e]="function"==typeof this._dropdown[e]?this._dropdown[e].bind(this):this._dropdown[e];this.dropdown.refs(),this.DOM.dropdown.__tagify=this}var En,_n,Tn=(En=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){bn(e,t,n[t])}))}return e}({},{events:{binding:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.dropdown.events.callbacks,n=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:t.onKeyDown.bind(this),onMouseOver:t.onMouseOver.bind(this),onMouseLeave:t.onMouseLeave.bind(this),onClick:t.onClick.bind(this),onScroll:t.onScroll.bind(this)},a=e?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(document[a]("scroll",n.position,!0),window[a]("resize",n.position),window[a]("keydown",n.onKeyDown)),this.DOM.dropdown[a]("mouseover",n.onMouseOver),this.DOM.dropdown[a]("mouseleave",n.onMouseLeave),this.DOM.dropdown[a]("mousedown",n.onClick),this.DOM.dropdown.content[a]("scroll",n.onScroll)},callbacks:{onKeyDown:function(e){var t=this;if(this.state.hasFocus&&!this.state.composing){var n=this.settings,a=n.dropdown.includeSelectedTags,r=this.DOM.dropdown.querySelector(n.classNames.dropdownItemActiveSelector),i=this.dropdown.getSuggestionDataByNode(r),o="mix"==n.mode,l="select"==n.mode;n.hooks.beforeKeyDown(e,{tagify:this}).then((function(s){switch(e.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":e.preventDefault();var c=t.dropdown.getAllSuggestionsRefs(),u="ArrowUp"==e.key||"Up"==e.key;r&&(r=t.dropdown.getNextOrPrevOption(r,!u)),r&&r.matches(n.classNames.dropdownItemSelector)||(r=c[u?c.length-1:0]),t.dropdown.highlightOption(r,!0);break;case"PageUp":case"PageDown":var p;e.preventDefault();var d=t.dropdown.getAllSuggestionsRefs(),m=Math.floor(t.DOM.dropdown.content.clientHeight/(null===(p=d[0])||void 0===p?void 0:p.offsetHeight))||1,h="PageUp"===e.key;if(r){var g=d.indexOf(r),f=h?Math.max(0,g-m):Math.min(d.length-1,g+m);r=d[f]}else r=d[0];t.dropdown.highlightOption(r,!0);break;case"Home":case"End":e.preventDefault();var v=t.dropdown.getAllSuggestionsRefs();r=v["Home"===e.key?0:v.length-1],t.dropdown.highlightOption(r,!0);break;case"Escape":case"Esc":t.dropdown.hide();break;case"ArrowRight":if(t.state.actions.ArrowLeft||n.autoComplete.rightKey)return;case"Tab":var w=!n.autoComplete.rightKey||!n.autoComplete.tabKey;if(!o&&!l&&r&&w&&!t.state.editing&&i){e.preventDefault();var y=t.dropdown.getMappedValue(i);return t.state.autoCompleteData=i,t.input.autocomplete.set.call(t,y),!1}return!0;case"Enter":e.preventDefault(),t.state.actions.selectOption=!0,setTimeout((function(){return t.state.actions.selectOption=!1}),100),n.hooks.suggestionClick(e,{tagify:t,tagData:i,suggestionElm:r}).then((function(){if(r){var n=a?r:t.dropdown.getNextOrPrevOption(r,!u);t.dropdown.selectOption(r,e,(function(){if(n){var e=n.getAttribute("value");n=t.dropdown.getSuggestionNodeByValue(e),t.dropdown.highlightOption(n)}}))}else t.dropdown.hide(),o||t.addTags(t.state.inputText.trim(),!0)})).catch((function(e){return Yt.warn(e)}));break;case"Backspace":if(o||t.state.editing.scope)return;var b=t.input.raw.call(t);""!=b&&8203!=b.charCodeAt(0)||(!0===n.backspace?t.removeTags():"edit"==n.backspace&&setTimeout(t.editTag.bind(t),0))}}))}},onMouseOver:function(e){var t=e.target.closest(this.settings.classNames.dropdownItemSelector);this.dropdown.highlightOption(t)},onMouseLeave:function(e){this.dropdown.highlightOption()},onClick:function(e){var t=this;if(0==e.button&&e.target!=this.DOM.dropdown&&e.target!=this.DOM.dropdown.content){var n=e.target.closest(this.settings.classNames.dropdownItemSelector),a=this.dropdown.getSuggestionDataByNode(n);this.state.actions.selectOption=!0,setTimeout((function(){return t.state.actions.selectOption=!1}),100),this.settings.hooks.suggestionClick(e,{tagify:this,tagData:a,suggestionElm:n}).then((function(){n?t.dropdown.selectOption(n,e):t.dropdown.hide()})).catch((function(e){return Yt.warn(e)}))}},onScroll:function(e){var t=e.target,n=t.scrollTop/(t.scrollHeight-t.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(n)})}}},refilter:function(e){e=e||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(e),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},getSuggestionDataByNode:function(e){for(var t,n=e&&e.getAttribute("value"),a=this.suggestedListItems.length;a--;){if(tn(t=this.suggestedListItems[a])&&t.value==n)return t;if(t==n)return{value:t}}},getSuggestionNodeByValue:function(e){return this.dropdown.getAllSuggestionsRefs().find((function(t){return t.getAttribute("value")===e}))},getNextOrPrevOption:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.dropdown.getAllSuggestionsRefs(),a=n.findIndex((function(t){return t===e}));return t?n[a+1]:n[a-1]},highlightOption:function(e,t){var n,a=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(a),this.state.ddItemElm.removeAttribute("aria-selected")),!e)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.dropdown.getSuggestionDataByNode(e),this.state.ddItemData=n,this.state.ddItemElm=e,e.classList.add(a),e.setAttribute("aria-selected",!0),t&&(e.parentNode.scrollTop=e.clientHeight+e.offsetTop-e.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),this.dropdown.position())},selectOption:function(e,t,n){var a=this,r=this.settings,i=r.dropdown.includeSelectedTags,o=r.dropdown,l=o.clearOnSelect,s=o.closeOnSelect;if(!e)return this.addTags(this.state.inputText,!0),void(s&&this.dropdown.hide());t=t||{};var c=e.getAttribute("value"),u="noMatch"==c,p="mix"==r.mode,d=this.suggestedListItems.find((function(e){var t;return(null!==(t=e.value)&&void 0!==t?t:e)==c}));if(this.trigger("dropdown:select",{data:d,elm:e,event:t}),d||u){if(this.state.editing){var m=this.normalizeTags([d])[0];d=r.transformTag.call(this,m)||m,this.onEditTagDone(null,nn({__isValid:!0},d))}else this[p?"addMixTags":"addTags"]([d||this.input.raw.call(this)],l);(p||this.DOM.input.parentNode)&&(setTimeout((function(){a.DOM.input.focus(),a.toggleFocusClass(!0)})),s&&setTimeout(this.dropdown.hide.bind(this)),i?n&&n():(e.addEventListener("transitionend",(function(){a.dropdown.fillHeaderFooter(),setTimeout((function(){e.remove(),a.dropdown.refilter(),n&&n()}),100)}),{once:!0}),e.classList.add(this.settings.classNames.dropdownItemHidden)))}else s&&setTimeout(this.dropdown.hide.bind(this))},selectAll:function(e){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var t=this.dropdown.filterListItems("");return e||(t=this.state.dropdown.suggestions),this.addTags(t,!0),this},filterListItems:function(e,t){var n,a,r,i,o,l,s=function(){var e,s,c=void 0,u=void 0;e=h[y],a=(null!=(s=Object)&&"undefined"!=typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](e):e instanceof s)?h[y]:{value:h[y]};var g,f=Object.keys(a).some((function(e){return w.includes(e)}))?w:["value"];p.fuzzySearch&&!t.exact?(i=f.reduce((function(e,t){return e+" "+(a[t]||"")}),"").toLowerCase().trim(),p.accentedSearch&&(i=rn(i),l=rn(l)),c=0==i.indexOf(l),u=i===l,g=i,r=l.toLowerCase().split(" ").every((function(e){return g.includes(e.toLowerCase())}))):(c=!0,r=f.some((function(e){var n=""+(a[e]||"");return p.accentedSearch&&(n=rn(n),l=rn(l)),p.caseSensitive||(n=n.toLowerCase()),u=n===l,t.exact?n===l:0==n.indexOf(l)}))),o=!p.includeSelectedTags&&n.isTagDuplicate(tn(a)?a.value:a),r&&!o&&(u&&c?m.push(a):"startsWith"==p.sortby&&c?d.unshift(a):d.push(a))},c=this,u=this.settings,p=u.dropdown,d=(t=t||{},[]),m=[],h=u.whitelist,g=p.maxItems>=0?p.maxItems:1/0,f=p.includeSelectedTags,v="function"==typeof p.sortby,w=p.searchKeys,y=0;if(!(e="select"==u.mode&&this.value.length&&this.value[0][u.tagTextProp]==e?"":e)||!w.length){d=f?h:h.filter((function(e){return!c.isTagDuplicate(tn(e)?e.value:e)}));var b=v?p.sortby(d,l):d.slice(0,g);return this.state.dropdown.suggestions=b,b}for(l=p.caseSensitive?""+e:(""+e).toLowerCase();y<h.length;y++)n=this,s();return this.state.dropdown.suggestions=m.concat(d),b=v?p.sortby(m.concat(d),l):m.concat(d).slice(0,g),this.state.dropdown.suggestions=b,b},getMappedValue:function(e){var t=this.settings.dropdown.mapValueTo;return t?"function"==typeof t?t(e):e[t]||e.value:e.value},createListHTML:function(e){var t=this;return nn([],e).map((function(e,n){"string"!=typeof e&&"number"!=typeof e||(e={value:e});var a=t.dropdown.getMappedValue(e);return a="string"==typeof a&&t.settings.dropdown.escapeHTML?en(a):a,t.settings.templates.dropdownItem.apply(t,[wn(vn({},e),{mappedValue:a}),t])})).join("")}}),_n=null!=(_n={refs:function(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef:function(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef:function(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs:function(){return function(e){return function(e){if(Array.isArray(e))return yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector))},show:function(e){var t,n,a,r=this,i=this.settings,o="mix"==i.mode&&!i.enforceWhitelist,l=!i.whitelist||!i.whitelist.length,s="manual"==i.dropdown.position;if(e=void 0===e?this.state.inputText:e,!(l&&!o&&!i.templates.dropdownItemNoMatch||!1===i.dropdown.enabled||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(e),e&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",e),i.templates.dropdownItemNoMatch&&(a=i.templates.dropdownItemNoMatch.call(this,{value:e}))),!a){if(this.suggestedListItems.length)e&&o&&!this.state.editing.scope&&!$t(this.suggestedListItems[0].value,e)&&this.suggestedListItems.unshift({value:e});else{if(!e||!o||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:e}]}n=""+(tn(t=this.suggestedListItems[0])?t.value:t),i.autoComplete&&n&&0==n.indexOf(e)&&this.input.autocomplete.suggest.call(this,t)}this.dropdown.fill(a),i.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(i.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=e||!0,this.state.dropdown.query=e,this.setStateSelection(),s||setTimeout((function(){r.dropdown.position(),r.dropdown.render()})),setTimeout((function(){r.trigger("dropdown:show",r.DOM.dropdown)}))}},hide:function(e){var t=this,n=this.DOM,a=n.scope,r=n.dropdown,i="manual"==this.settings.dropdown.position&&!e;if(r&&document.body.contains(r)&&!i)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),a.setAttribute("aria-expanded",!1),r.parentNode.removeChild(r),setTimeout((function(){t.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",r),this},toggle:function(e){this.dropdown[this.state.dropdown.visible&&!e?"hide":"show"]()},getAppendTarget:function(){var e=this.settings.dropdown;return"function"==typeof e.appendTarget?e.appendTarget():e.appendTarget},render:function(){var e,t,n=this,a=((t=this.DOM.dropdown.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(t),e=t.clientHeight,t.parentNode.removeChild(t),e),r=this.settings,i=this.dropdown.getAppendTarget();return!1===r.dropdown.enabled||(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(r.classNames.dropdownInital),this.dropdown.position(a),i.appendChild(this.DOM.dropdown),setTimeout((function(){return n.DOM.dropdown.classList.remove(r.classNames.dropdownInital)})))),this},fill:function(e){e="string"==typeof e?e:this.dropdown.createListHTML(e||this.suggestedListItems);var t,n=this.settings.templates.dropdownContent.call(this,e);this.DOM.dropdown.content.innerHTML=(t=n)?t.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""},fillHeaderFooter:function(){var e=this.dropdown.filterListItems(this.state.dropdown.query),t=this.parseTemplate("dropdownHeader",[e]),n=this.parseTemplate("dropdownFooter",[e]),a=this.dropdown.getHeaderRef(),r=this.dropdown.getFooterRef();t&&(null==a||a.parentNode.replaceChild(t,a)),n&&(null==r||r.parentNode.replaceChild(n,r))},position:function(e){var t=this.settings.dropdown,n=this.dropdown.getAppendTarget();if("manual"!=t.position&&n){var a,r,i,o,l,s,c,u,p,d,m=this.DOM.dropdown,h=t.RTL,g=n===document.body,f=n===this.DOM.scope,v=g?window.pageYOffset:n.scrollTop,w=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,y=w.clientHeight,b=Math.max(w.clientWidth||0,window.innerWidth||0),k=b>480?t.position:"all",E=this.DOM["input"==k?"input":"scope"];if(e=e||m.clientHeight,this.state.dropdown.visible){if("text"==k?(i=(a=function(){var e=document.getSelection();if(e.rangeCount){var t,n,a=e.getRangeAt(0),r=a.startContainer,i=a.startOffset;if(i>0)return(n=document.createRange()).setStart(r,i-1),n.setEnd(r,i),{left:(t=n.getBoundingClientRect()).right,top:t.top,bottom:t.bottom};if(r.getBoundingClientRect)return r.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,r=a.top,o=a.left,l="auto"):(s=function(e){var t=0,n=0;for(e=e.parentNode;e&&e!=w;)t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.parentNode;return{top:t,left:n}}(n),a=E.getBoundingClientRect(),r=f?-1:a.top-s.top,i=(f?a.height:a.bottom-s.top)-1,o=f?-1:a.left-s.left,l=a.width+"px"),!g){var _=function(){for(var e=0,n=t.appendTarget.parentNode;n;)e+=n.scrollTop||0,n=n.parentNode;return e}();r+=_,i+=_}var T;r=Math.floor(r),i=Math.ceil(i),u=b-o<120,p=((c=null!==(T=t.placeAbove)&&void 0!==T?T:y-a.bottom<e)?r:i)+v,d=o+(h&&a.width||0)+window.pageXOffset,d="text"==k&&u?"right: 0;":"left: ".concat(d,"px;"),m.style.cssText="".concat(d," top: ").concat(p,"px; min-width: ").concat(l,"; max-width: ").concat(l),m.setAttribute("placement",c?"top":"bottom"),m.setAttribute("position",k)}}}})?_n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(En,Object.getOwnPropertyDescriptors(_n)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(_n)).forEach((function(e){Object.defineProperty(En,e,Object.getOwnPropertyDescriptor(_n,e))})),En),On="@yaireo/tagify/",Sn={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},xn={wrapper:function(e,t){return'<tags class="'.concat(t.classNames.namespace," ").concat(t.mode?"".concat(t.classNames[t.mode+"Mode"]):""," ").concat(e.className,'"\n                    ').concat(t.readonly?"readonly":"","\n                    ").concat(t.disabled?"disabled":"","\n                    ").concat(t.required?"required":"","\n                    ").concat("select"===t.mode?"spellcheck='false'":"",'\n                    tabIndex="-1">\n                    ').concat(this.settings.templates.input.call(this),"\n                ").concat(Gt,"\n        </tags>")},input:function(){var e=this.settings,t=e.placeholder||Gt;return"<span ".concat(!e.readonly&&e.userInput?"contenteditable":"",' data-can-editable tabIndex="0" data-placeholder="').concat(t,'" aria-placeholder="').concat(e.placeholder||"",'"\n                    class="').concat(e.classNames.input,'"\n                    role="textbox"\n                    autocapitalize="false"\n                    autocorrect="off"\n                    aria-autocomplete="both"\n                    aria-multiline="').concat("mix"==e.mode,'"></span>')},tag:function(e,t){var n=t.settings;return'<tag title="'.concat(e.title||e.value,"\"\n                    contenteditable='false'\n                    tabIndex=\"").concat(n.a11y.focusableTags?0:-1,'"\n                    class="').concat(n.classNames.tag," ").concat(e.class||"",'"\n                    ').concat(this.getAttributes(e),">\n            <x title='' tabIndex=\"").concat(n.a11y.focusableTags?0:-1,'" class="').concat(n.classNames.tagX,"\" role='button' aria-label='remove tag'></x>\n            <div>\n                <span ").concat("select"===n.mode&&n.userInput?"contenteditable='true'":"",' autocapitalize="false" autocorrect="off" spellcheck=\'false\' class="').concat(n.classNames.tagText,'">').concat(e[n.tagTextProp]||e.value,"</span>\n            </div>\n        </tag>")},dropdown:function(e){var t=e.dropdown,n="manual"==t.position;return'<div class="'.concat(n?"":e.classNames.dropdown," ").concat(t.classname,'" role="listbox" aria-labelledby="dropdown" dir="').concat(t.RTL?"rtl":"","\">\n                    <div data-selector='tagify-suggestions-wrapper' class=\"").concat(e.classNames.dropdownWrapper,'"></div>\n                </div>')},dropdownContent:function(e){var t=this.settings.templates,n=this.state.dropdown.suggestions;return"\n            ".concat(t.dropdownHeader.call(this,n),"\n            ").concat(e,"\n            ").concat(t.dropdownFooter.call(this,n),"\n        ")},dropdownItem:function(e){return"<div ".concat(this.getAttributes(e),"\n                    class='").concat(this.settings.classNames.dropdownItem," ").concat(this.isTagDuplicate(e.value)?this.settings.classNames.dropdownItemSelected:""," ").concat(e.class||"",'\'\n                    tabindex="0"\n                    role="option">').concat(e.mappedValue||e.value,"</div>")},dropdownHeader:function(e){return"<header data-selector='tagify-suggestions-header' class=\"".concat(this.settings.classNames.dropdownHeader,'"></header>')},dropdownFooter:function(e){var t=e.length-this.settings.dropdown.maxItems;return t>0?"<footer data-selector='tagify-suggestions-footer' class=\"".concat(this.settings.classNames.dropdownFooter,'">\n                ').concat(t," more items. Refine your search.\n            </footer>"):""},dropdownItemNoMatch:null};function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function In(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Mn(e){return function(e){if(Array.isArray(e))return Nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Pn={customBinding:function(){var e=this;this.customEventsList.forEach((function(t){e.on(t,e.settings.callbacks[t])}))},binding:function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.settings,a=this.events.callbacks,r=t?"addEventListener":"removeEventListener";if(!(this.state.mainEvents&&t||n.disabled||n.readonly)){for(var i in this.state.mainEvents=t,t&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{keydown:["input",a.onKeydown.bind(this)],click:["scope",a.onClickScope.bind(this)],dblclick:"select"!=n.mode&&["scope",a.onDoubleClickScope.bind(this)],paste:["input",a.onPaste.bind(this)],drop:["input",a.onDrop.bind(this)],compositionstart:["input",a.onCompositionStart.bind(this)],compositionend:["input",a.onCompositionEnd.bind(this)]})e[i]&&this.DOM[e[i][0]][r](i,e[i][1]);var o=this.listeners.main.inputMutationObserver||new MutationObserver(a.onInputDOMChange.bind(this));o.disconnect(),"mix"==n.mode&&o.observe(this.DOM.input,{childList:!0}),this.events.bindOriginaInputListener.call(this)}},bindOriginaInputListener:function(e){var t=(e||0)+500;this.listeners.main&&(clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(this.events.callbacks.observeOriginalInputValue.bind(this),t))},bindGlobal:function(e){var t,n=this.events.callbacks,a=e?"removeEventListener":"addEventListener";if(this.listeners&&(e||!this.listeners.global)){this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:n[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:n.onWindowKeyDown.bind(this)},{type:"focusin",target:this.DOM.scope,cb:n.onFocusBlur.bind(this)},{type:"focusout",target:this.DOM.scope,cb:n.onFocusBlur.bind(this)},{type:"click",target:document,cb:n.onClickAnywhere.bind(this),useCapture:!0}];var r=!0,i=!1,o=void 0;try{for(var l,s=this.listeners.global[Symbol.iterator]();!(r=(l=s.next()).done);r=!0)(t=l.value).target[a](t.type,t.cb,!!t.useCapture)}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},unbindGlobal:function(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur:function(e){var t,n,a=this.settings,r=cn.call(this,e.relatedTarget),i=sn.call(this,e.target),o=e.target.classList.contains(a.classNames.tagX),l="focusin"==e.type,s="focusout"==e.type;o&&"mix"!=a.mode&&a.focusInputOnRemove&&this.DOM.input.focus(),r&&l&&!i&&!o&&this.toggleFocusClass(this.state.hasFocus=+new Date);var c=e.target?this.trim(this.DOM.input.textContent):"",u=null===(n=this.value)||void 0===n||null===(t=n[0])||void 0===t?void 0:t[a.tagTextProp],p=a.dropdown.enabled>=0,d={relatedTarget:e.relatedTarget},m=this.state.actions.selectOption&&(p||!a.dropdown.closeOnSelect),h=this.state.actions.addNew&&p;if(s){if(e.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),a.onChangeAfterBlur&&this.triggerChangeEvent()}if(!(m||h||o))if(this.state.hasFocus=!(!l&&!r)&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=a.mode){if(l){if(!a.focusable)return;var g=0===a.dropdown.enabled&&!this.state.dropdown.visible,f=this.DOM.scope.querySelector(this.settings.classNames.tagTextSelector);return this.trigger("focus",d),void(g&&!i&&(this.dropdown.show(this.value.length?"":void 0),"select"===a.mode&&this.setRangeAtStartEnd(!1,f)))}if(s){if(this.trigger("blur",d),this.loading(!1),"select"==a.mode){if(this.value.length){var v=this.getTagElms()[0];c=this.trim(v.textContent)}u===c&&(c="")}c&&!this.state.actions.selectOption&&a.addTagOnBlur&&a.addTagOn.includes("blur")&&this.addTags(c,!0)}r||(this.DOM.input.removeAttribute("style"),this.dropdown.hide())}else l?this.trigger("focus",d):s&&(this.trigger("blur",d),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart:function(e){this.state.composing=!0},onCompositionEnd:function(e){this.state.composing=!1},onWindowKeyDown:function(e){var t,n=this.settings,a=document.activeElement,r=cn.call(this,a)&&this.DOM.scope.contains(a),i=a===this.DOM.input,o=r&&a.hasAttribute("readonly"),l=this.DOM.scope.querySelector(this.settings.classNames.tagTextSelector),s=this.state.dropdown.visible;if(("Tab"===e.key&&s||this.state.hasFocus||r&&!o)&&!i){t=a.nextElementSibling;var c=e.target.classList.contains(n.classNames.tagX);switch(e.key){case"Backspace":n.readonly||this.state.editing||(this.removeTags(a),(t||this.DOM.input).focus());break;case"Enter":if(c)return void this.removeTags(e.target.parentNode);n.a11y.focusableTags&&sn.call(this,a)&&setTimeout(this.editTag.bind(this),0,a);break;case"ArrowDown":this.state.dropdown.visible||"mix"==n.mode||this.dropdown.show();break;case"Tab":null==l||l.focus()}}},onKeydown:function(e){var t=this,n=this.settings;if(!this.state.composing&&n.userInput){"select"==n.mode&&n.enforceWhitelist&&this.value.length&&"Tab"!=e.key&&e.preventDefault();var a=this.trim(e.target.textContent);this.trigger("keydown",{event:e}),n.hooks.beforeKeyDown(e,{tagify:this}).then((function(r){if("mix"==n.mode){switch(e.key){case"Left":case"ArrowLeft":t.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(t.state.editing)return;var i=document.getSelection(),o="Delete"==e.key&&i.anchorOffset==(i.anchorNode.length||0),l=i.anchorNode.previousSibling,s=1==i.anchorNode.nodeType||!i.anchorOffset&&l&&1==l.nodeType&&i.anchorNode.previousSibling;!function(e){var t=document.createElement("div");e.replace(/\&#?[0-9a-z]+;/gi,(function(e){return t.innerHTML=e,t.innerText}))}(t.DOM.input.innerHTML);var c,u,p,d=t.getTagElms(),m=1===i.anchorNode.length&&i.anchorNode.nodeValue==String.fromCharCode(8203);if("edit"==n.backspace&&s)return c=1==i.anchorNode.nodeType?null:i.anchorNode.previousElementSibling,setTimeout(t.editTag.bind(t),0,c),void e.preventDefault();if(on()&&An(s,Element))return p=Qt(s),s.hasAttribute("readonly")||s.remove(),t.DOM.input.focus(),void setTimeout((function(){mn(p),t.DOM.input.click()}));if("BR"==i.anchorNode.nodeName)return;if((o||s)&&1==i.anchorNode.nodeType?u=0==i.anchorOffset?o?d[0]:null:d[Math.min(d.length,i.anchorOffset)-1]:o?u=i.anchorNode.nextElementSibling:An(s,Element)&&(u=s),3==i.anchorNode.nodeType&&!i.anchorNode.nodeValue&&i.anchorNode.previousElementSibling&&e.preventDefault(),(s||o)&&!n.backspace)return void e.preventDefault();if("Range"!=i.type&&!i.anchorOffset&&i.anchorNode==t.DOM.input&&"Delete"!=e.key)return void e.preventDefault();if("Range"!=i.type&&u&&u.hasAttribute("readonly"))return void mn(Qt(u));"Delete"==e.key&&m&&dn(i.anchorNode.nextSibling)&&t.removeTags(i.anchorNode.nextSibling)}return!0}var h="manual"==n.dropdown.position;switch(e.key){case"Backspace":"select"==n.mode&&n.enforceWhitelist&&t.value.length?t.removeTags():t.state.dropdown.visible&&"manual"!=n.dropdown.position||""!=e.target.textContent&&8203!=a.charCodeAt(0)||(!0===n.backspace?t.removeTags():"edit"==n.backspace&&setTimeout(t.editTag.bind(t),0));break;case"Esc":case"Escape":if(t.state.dropdown.visible)return;e.target.blur();break;case"Down":case"ArrowDown":t.state.dropdown.visible||t.dropdown.show();break;case"ArrowRight":var g=t.state.inputSuggestion||t.state.ddItemData;if(g&&n.autoComplete.rightKey)return void t.addTags([g],!0);break;case"Tab":return!0;case"Enter":if(t.state.dropdown.visible&&!h)return;e.preventDefault();var f=t.state.autoCompleteData||a;setTimeout((function(){t.state.dropdown.visible&&!h||t.state.actions.selectOption||!n.addTagOn.includes(e.key.toLowerCase())||(t.addTags([f],!0),t.state.autoCompleteData=null)}))}})).catch((function(e){return e}))}},onInput:function(e){this.postUpdate();var t=this.settings;if("mix"==t.mode)return this.events.callbacks.onMixTagsInput.call(this,e);var n=this.input.normalize.call(this,void 0,{trim:!1}),a=n.length>=t.dropdown.enabled,r={value:n,inputElm:this.DOM.input},i=this.validateTag({value:n});"select"==t.mode&&this.toggleScopeValidation(i),r.isValid=i,this.state.inputText!=n&&(this.input.set.call(this,n,!1),-1!=n.search(t.delimiters)?this.addTags(n)&&this.input.set.call(this):t.dropdown.enabled>=0&&this.dropdown[a?"show":"hide"](n),this.trigger("input",r))},onMixTagsInput:function(e){var t,n,a,r,i,o,l,s,c=this,u=this.settings,p=this.value.length,d=this.getTagElms(),m=document.createDocumentFragment(),h=window.getSelection().getRangeAt(0),g=[].map.call(d,(function(e){return dn(e).value}));if("deleteContentBackward"==e.inputType&&on()&&this.events.callbacks.onKeydown.call(this,{target:e.target,key:"Backspace"}),hn(this.getTagElms()),this.value.slice().forEach((function(e){e.readonly&&!g.includes(e.value)&&m.appendChild(c.createTagElem(e))})),m.childNodes.length&&(h.insertNode(m),this.setRangeAtStartEnd(!1,m.lastChild)),d.length!=p)return this.value=[].map.call(this.getTagElms(),(function(e){return dn(e)})),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(o=window.getSelection()).rangeCount>0&&3==o.anchorNode.nodeType){if((h=o.getRangeAt(0).cloneRange()).collapse(!0),h.setStart(o.focusNode,0),a=(t=h.toString().slice(0,h.endOffset)).split(u.pattern).length-1,(n=t.match(u.pattern))&&(r=t.slice(t.lastIndexOf(n[n.length-1]))),r){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:r.match(u.pattern)[0],value:r.replace(u.pattern,"")},this.state.tag.baseOffset=o.baseOffset-this.state.tag.value.length,s=this.state.tag.value.match(u.delimiters))return this.state.tag.value=this.state.tag.value.replace(u.delimiters,""),this.state.tag.delimiters=s[0],this.addTags(this.state.tag.value,u.dropdown.clearOnSelect),void this.dropdown.hide();i=this.state.tag.value.length>=u.dropdown.enabled;try{l=(l=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&l.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(e){}(l||a<this.state.mixMode.matchedPatternCount)&&(i=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=a}setTimeout((function(){c.update({withoutChangeEvent:!0}),c.trigger("input",nn({},c.state.tag,{textContent:c.DOM.input.textContent})),c.state.tag&&c.dropdown[i?"show":"hide"](c.state.tag.value)}),10)},onInputIE:function(e){var t=this;setTimeout((function(){t.events.callbacks.onInput.call(t,e)}))},observeOriginalInputValue:function(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere:function(e){if(e.target!=this.DOM.scope&&!this.DOM.scope.contains(e.target)){this.toggleFocusClass(!1),this.state.hasFocus=!1;var t=e.target.closest(this.settings.classNames.dropdownSelector);(null==t?void 0:t.__tagify)!=this&&this.dropdown.hide()}},onClickScope:function(e){var t=this.settings,n=e.target.closest("."+t.classNames.tag);e.target,this.DOM.scope;var a=+new Date-this.state.hasFocus;if(!e.target.classList.contains(t.classNames.tagX))return n&&!this.state.editing?(this.trigger("click",{tag:n,index:this.getNodeIndex(n),data:dn(n),event:e}),void(1!==t.editTags&&1!==t.editTags.clicks&&"select"!=t.mode||this.events.callbacks.onDoubleClickScope.call(this,e))):void(e.target==this.DOM.input&&("mix"==t.mode&&this.fixFirefoxLastTagNoCaret(),a>500||!t.focusable)?this.state.dropdown.visible?this.dropdown.hide():0===t.dropdown.enabled&&"mix"!=t.mode&&this.dropdown.show(this.value.length?"":void 0):"select"!=t.mode||0!==t.dropdown.enabled||this.state.dropdown.visible||(this.events.callbacks.onDoubleClickScope.call(this,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t.push.apply(t,n)}return t}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Dn(e,t,n[t])}))}return e}({},e),{target:this.getTagElms()[0]})),!t.userInput&&this.dropdown.show()));this.removeTags(e.target.parentNode)},onPaste:function(e){var t=this;e.preventDefault();var n,a,r,i=this.settings;if(!i.userInput)return!1;i.readonly||(a=e.clipboardData||window.clipboardData,r=a.getData("Text"),i.hooks.beforePaste(e,{tagify:this,pastedText:r,clipboardData:a}).then((function(i){void 0===i&&(i=r),i&&(t.injectAtCaret(i,window.getSelection().getRangeAt(0)),"mix"==t.settings.mode?t.events.callbacks.onMixTagsInput.call(t,e):t.settings.pasteAsTags?n=t.addTags(t.state.inputText+i,!0):(t.state.inputText=i,t.dropdown.show(i))),t.trigger("paste",{event:e,pastedText:r,clipboardData:a,tagsElems:n})})).catch((function(e){return e})))},onDrop:function(e){e.preventDefault()},onEditTagInput:function(e,t){var n,a=e.closest("."+this.settings.classNames.tag),r=this.getNodeIndex(a),i=dn(a),o=this.input.normalize.call(this,e),l=(Dn(n={},this.settings.tagTextProp,o),Dn(n,"__tagId",i.__tagId),n),s=this.validateTag(l);this.editTagChangeDetected(nn(i,l))||!0!==e.originalIsValid||(s=!0),a.classList.toggle(this.settings.classNames.tagInvalid,!0!==s),i.__isValid=s,a.title=!0===s?i.title||i.value:s,o.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=o),this.dropdown.show(o)),this.trigger("edit:input",{tag:a,index:r,data:nn({},this.value[r],{newValue:o}),event:t})},onEditTagPaste:function(e,t){var n=(t.clipboardData||window.clipboardData).getData("Text");t.preventDefault();var a=pn(n);this.setRangeAtStartEnd(!1,a)},onEditTagClick:function(e,t){this.events.callbacks.onClickScope.call(this,t)},onEditTagFocus:function(e){this.state.editing={scope:e,input:e.querySelector("[contenteditable]")}},onEditTagBlur:function(e,t){var n=sn.call(this,t.relatedTarget);if("select"==this.settings.mode&&n&&t.relatedTarget.contains(t.target))this.dropdown.hide();else if(this.state.editing&&(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(document.activeElement)||this.trigger("blur",{}),this.DOM.scope.contains(e))){var a,r,i,o=this.settings,l=e.closest("."+o.classNames.tag),s=dn(l),c=this.input.normalize.call(this,e),u=(Dn(a={},o.tagTextProp,c),Dn(a,"__tagId",s.__tagId),a),p=s.__originalData,d=this.editTagChangeDetected(nn(s,u)),m=this.validateTag(u);if(c)if(d){var h;if(r=this.hasMaxTags(),i=nn({},p,(Dn(h={},o.tagTextProp,this.trim(c)),Dn(h,"__isValid",m),h)),o.transformTag.call(this,i,p),!0!==(m=(!r||!0===p.__isValid)&&this.validateTag(i))){if(this.trigger("invalid",{data:i,tag:l,message:m}),o.editTags.keepInvalid)return;o.keepInvalidTags?i.__isValid=m:i=p}else o.keepInvalidTags&&(delete i.title,delete i["aria-invalid"],delete i.class);this.onEditTagDone(l,i)}else this.onEditTagDone(l,p);else this.onEditTagDone(l)}},onEditTagkeydown:function(e,t){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:e}),e.key){case"Esc":case"Escape":this.state.editing=!1,t.__tagifyTagData.__originalData.value?t.parentNode.replaceChild(t.__tagifyTagData.__originalHTML,t):t.remove();break;case"Enter":case"Tab":e.preventDefault(),setTimeout((function(){return e.target.blur()}),0)}},onDoubleClickScope:function(e){var t=e.target.closest("."+this.settings.classNames.tag);if(t){var n,a,r=dn(t),i=this.settings;!1!==(null==r?void 0:r.editable)&&(n=t.classList.contains(this.settings.classNames.tagEditing),a=t.hasAttribute("readonly"),i.readonly||n||a||!this.settings.editTags||!i.userInput||(this.events.callbacks.onEditTagFocus.call(this,t),this.editTag(t)),this.toggleFocusClass(!0),"select"!=i.mode&&this.trigger("dblclick",{tag:t,index:this.getNodeIndex(t),data:dn(t)}))}},onInputDOMChange:function(e){var t=this;e.forEach((function(e){e.addedNodes.forEach((function(e){if("<div><br></div>"==e.outerHTML)e.replaceWith(document.createElement("br"));else if(1==e.nodeType&&e.querySelector(t.settings.classNames.tagSelector)){var n,a=document.createTextNode("");3==e.childNodes[0].nodeType&&"BR"!=e.previousSibling.nodeName&&(a=document.createTextNode("\n")),(n=e).replaceWith.apply(n,Mn([a].concat(Mn(Mn(e.childNodes).slice(0,-1))))),mn(a)}else if(sn.call(t,e)){var r;if(3!=(null===(r=e.previousSibling)||void 0===r?void 0:r.nodeType)||e.previousSibling.textContent||e.previousSibling.remove(),e.previousSibling&&"BR"==e.previousSibling.nodeName){e.previousSibling.replaceWith("\nâ€‹");for(var i=e.nextSibling,o="";i;)o+=i.textContent,i=i.nextSibling;o.trim()&&mn(e.previousSibling)}else e.previousSibling&&!dn(e.previousSibling)||e.before("â€‹")}})),e.removedNodes.forEach((function(e){e&&"BR"==e.nodeName&&sn.call(t,n)&&(t.removeTags(n),t.fixFirefoxLastTagNoCaret())}))}));var n=this.DOM.input.lastChild;n&&""==n.nodeValue&&n.remove(),n&&"BR"==n.nodeName||this.DOM.input.appendChild(document.createElement("br"))}}};function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Rn(e,t,n[t])}))}return e}function Un(e){return function(e){if(Array.isArray(e))return jn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){if(!e){Yt.warn("input element not found",e);var n=new Proxy(this,{get:function(){return function(){return n}}});return n}if(e.__tagify)return Yt.warn("input element is already Tagified - Same instance is returned.",e),e.__tagify;var a;nn(this,function(e){var t=document.createTextNode(""),n={};function a(e,n,a){a&&n.split(/\s+/g).forEach((function(n){return t[e+"EventListener"].call(t,n,a)}))}return{removeAllCustomListeners:function(){Object.entries(n).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0];t[1].forEach((function(e){return a("remove",n,e)}))})),n={}},off:function(e,t){return e&&(t?a("remove",e,t):e.split(/\s+/g).forEach((function(e){var t;null===(t=n[e])||void 0===t||t.forEach((function(t){return a("remove",e,t)})),delete n[e]}))),this},on:function(e,t){return t&&"function"==typeof t&&(e.split(/\s+/g).forEach((function(e){Array.isArray(n[e])?n[e].push(t):n[e]=[t]})),a("add",e,t)),this},trigger:function(n,a,r){var i;if(r=r||{cloneData:!0},n)if(e.settings.isJQueryPlugin)"remove"==n&&(n="removeTag"),jQuery(e.DOM.originalInput).triggerHandler(n,[a]);else{try{var o="object"==typeof a?a:{value:a};if((o=r.cloneData?nn({},o):o).tagify=this,a.event&&(o.event=this.cloneEvent(a.event)),In(a,Object))for(var l in a)In(a[l],HTMLElement)&&(o[l]=a[l]);i=new CustomEvent(n,{detail:o})}catch(e){Yt.warn(e)}t.dispatchEvent(i)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,t=t||{},this.getPersistedData=(a=t.id,function(e){var t;if(a){var n,r="/"+e;if(1===(null===(t=localStorage)||void 0===t?void 0:t.getItem(On+a+"/v")))try{n=JSON.parse(localStorage[On+a+r])}catch(e){}return n}}),this.setPersistedData=function(e){var t;return e?(null===(t=localStorage)||void 0===t||t.setItem(On+e+"/v",1),function(t,n){var a,r="/"+n,i=JSON.stringify(t);t&&n&&(null===(a=localStorage)||void 0===a||a.setItem(On+e+r,i),dispatchEvent(new Event("storage")))}):function(){}}(t.id),this.clearPersistedData=function(e){return function(t){var n=On+"/"+e+"/";if(t)localStorage.removeItem(n+t);else for(var a in localStorage)a.includes(n)&&localStorage.removeItem(a)}}(t.id),this.applySettings(e,t),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(e),kn.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),e.autofocus&&this.DOM.input.focus(),e.__tagify=this}function Vn(e){return Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vn(e)}function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hn.apply(null,arguments)}function zn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Wn(a.key),a)}}function Wn(e){var t=function(e,t){if("object"!=Vn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Vn(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vn(t)?t:t+""}function Gn(e,t,n){return t=qn(t),function(e,t){if(t&&("object"==Vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kn()?Reflect.construct(t,n||[],qn(e).constructor):t.apply(e,n))}function Kn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Kn=function(){return!!e})()}function qn(e){return qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qn(e)}function Yn(e,t){return Yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yn(e,t)}Bn.prototype={_dropdown:Tn,placeCaretAfterNode:mn,getSetTagData:dn,helpers:{sameStr:$t,removeCollectionProp:Xt,omit:Jt,isObject:tn,parseHTML:Zt,escapeHTML:en,extend:nn,concatWithoutDups:an,getUID:ln,isNodeTag:sn},customEventsList:["change","add","remove","invalid","input","paste","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim:function(e){return this.settings.trim&&e&&"string"==typeof e?e.trim():e},parseHTML:Zt,templates:xn,parseTemplate:function(e,t){return Zt((e=this.settings.templates[e]||e).apply(this,t))},set whitelist(e){var t=e&&Array.isArray(e);this.settings.whitelist=t?e:[],this.setPersistedData(t?e:[],"whitelist")},get whitelist(){return this.settings.whitelist},set userInput(e){this.settings.userInput=!!e,this.setContentEditable(!!e)},get userInput(){return this.settings.userInput},generateClassSelectors:function(e){var t=function(t){var n=t;Object.defineProperty(e,n+"Selector",{get:function(){return"."+this[n].split(" ")[0]}})};for(var n in e)t(n)},applySettings:function(e,t){var n,a;gn.templates=this.templates;var r=nn({},gn,"mix"==t.mode?{dropdown:{position:"text"}}:{}),i=this.settings=nn({},r,t);if(i.disabled=e.hasAttribute("disabled"),i.readonly=i.readonly||e.hasAttribute("readonly"),i.placeholder=en(e.getAttribute("placeholder")||i.placeholder||""),i.required=e.hasAttribute("required"),this.generateClassSelectors(i.classNames),this.isIE&&(i.autoComplete=!1),["whitelist","blacklist"].forEach((function(t){var n=e.getAttribute("data-"+t);n&&Ln(n=n.split(i.delimiters),Array)&&(i[t]=n)})),"autoComplete"in t&&!tn(t.autoComplete)&&(i.autoComplete=gn.autoComplete,i.autoComplete.enabled=t.autoComplete),"mix"==i.mode&&(i.pattern=i.pattern||/@/,i.autoComplete.rightKey=!0,i.delimiters=t.delimiters||null,i.tagTextProp&&!i.dropdown.searchKeys.includes(i.tagTextProp)&&i.dropdown.searchKeys.push(i.tagTextProp)),e.pattern)try{i.pattern=new RegExp(e.pattern)}catch(e){}if(i.delimiters){i._delimiters=i.delimiters;try{i.delimiters=new RegExp(this.settings.delimiters,"g")}catch(e){}}(i.disabled||i.readonly)&&(i.userInput=!1),this.TEXTS=Fn({},Sn,i.texts||{}),"select"==i.mode&&(i.dropdown.includeSelectedTags=!0),("select"!=i.mode||(null===(n=t.dropdown)||void 0===n?void 0:n.enabled))&&i.userInput||(i.dropdown.enabled=0),i.disabled&&(i.dropdown.enabled=!1),i.dropdown.appendTarget=(null===(a=t.dropdown)||void 0===a?void 0:a.appendTarget)||document.body,void 0===i.dropdown.includeSelectedTags&&(i.dropdown.includeSelectedTags=i.duplicates);var o=this.getPersistedData("whitelist");Array.isArray(o)&&(this.whitelist=Array.isArray(i.whitelist)?an(i.whitelist,o):o)},getAttributes:function(e){var t,n=this.getCustomAttributes(e),a="";for(t in n)a+=" "+t+(void 0!==e[t]?'="'.concat(n[t],'"'):"");return a},getCustomAttributes:function(e){if(!tn(e))return"";var t,n={};for(t in e)"__"!=t.slice(0,2)&&"class"!=t&&e.hasOwnProperty(t)&&void 0!==e[t]&&(n[t]=en(e[t]));return n},setStateSelection:function(){var e=window.getSelection(),t={anchorOffset:e.anchorOffset,anchorNode:e.anchorNode,range:e.getRangeAt&&e.rangeCount&&e.getRangeAt(0)};return this.state.selection=t,t},getCSSVars:function(){var e,t,n=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(e=function(e){if(!e)return{};var t=(e=e.trim().split(" ")[0]).split(/\d+/g).filter((function(e){return e})).pop().trim();return{value:+e.split(t).filter((function(e){return e}))[0].trim(),unit:t}}(n.getPropertyValue("--tag-hide-transition")),t=e.value,"s"==e.unit?1e3*t:t)}},build:function(e){var t=this.DOM,n=e.closest("label");this.settings.mixMode.integrated?(t.originalInput=null,t.scope=e,t.input=e):(t.originalInput=e,t.originalInput_tabIndex=e.tabIndex,t.scope=this.parseTemplate("wrapper",[e,this.settings]),t.input=t.scope.querySelector(this.settings.classNames.inputSelector),e.parentNode.insertBefore(t.scope,e),e.tabIndex=-1),n&&n.setAttribute("for","")},destroy:function(){var e;this.events.unbindGlobal.call(this),null===(e=this.DOM.scope.parentNode)||void 0===e||e.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),this.removeAllCustomListeners(),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues:function(e){var t,n=this.settings;if(this.state.blockChangeEvent=!0,void 0===e){var a=this.getPersistedData("value");e=a&&!this.DOM.originalInput.value?a:n.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),e)if("mix"==n.mode)this.parseMixTags(e),(t=this.DOM.input.lastChild)&&"BR"==t.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{Ln(JSON.parse(e),Array)&&(e=JSON.parse(e))}catch(e){}this.addTags(e,!0).forEach((function(e){return e&&e.classList.add(n.classNames.tagNoAnimation)}))}else this.postUpdate();this.state.lastOriginalValueReported=n.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent:function(e){var t={};for(var n in e)"path"!=n&&(t[n]=e[n]);return t},loading:function(e){return this.state.isLoading=e,this.DOM.scope.classList[e?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading:function(e,t){return e&&e.classList[t?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass:function(e,t){"string"==typeof e&&this.DOM.scope.classList.toggle(e,t)},toggleScopeValidation:function(e){var t=!0===e||void 0===e;!this.settings.required&&e&&e===this.TEXTS.empty&&(t=!0),this.toggleClass(this.settings.classNames.tagInvalid,!t),this.DOM.scope.title=t?"":e},toggleFocusClass:function(e){this.toggleClass(this.settings.classNames.focus,!!e)},setPlaceholder:function(e){var t=this;["data","aria"].forEach((function(n){return t.DOM.input.setAttribute("".concat(n,"-placeholder"),e)}))},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var e=this.DOM.originalInput,t=this.state.lastOriginalValueReported!==e.value,n=new CustomEvent("change",{bubbles:!0});t&&(this.state.lastOriginalValueReported=e.value,n.simulated=!0,e._valueTracker&&e._valueTracker.setValue(Math.random()),e.dispatchEvent(n),this.trigger("change",this.state.lastOriginalValueReported),e.value=this.state.lastOriginalValueReported)}},events:Pn,fixFirefoxLastTagNoCaret:function(){},setRangeAtStartEnd:function(e,t){if(t){e="number"==typeof e?e:!!e,t=t.lastChild||t;var n=document.getSelection();if(Ln(n.focusNode,Element)&&!this.DOM.input.contains(n.focusNode))return!0;try{n.rangeCount>=1&&["Start","End"].forEach((function(a){return n.getRangeAt(0)["set"+a](t,e||t.length)}))}catch(e){console.warn(e)}}},insertAfterTag:function(e,t){if(t=t||this.settings.mixMode.insertAfterTag,e&&e.parentNode&&t)return t="string"==typeof t?document.createTextNode(t):t,e.parentNode.insertBefore(t,e.nextSibling),t},editTagChangeDetected:function(e){var t=e.__originalData;for(var n in t)if(!this.dataProps.includes(n)&&e[n]!=t[n])return!0;return!1},getTagTextNode:function(e){return e.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode:function(e,t){this.getTagTextNode(e).innerHTML=en(t)},editTag:function(e,t){var n=this;e=e||this.getLastTag(),t=t||{};var a=this.settings,r=this.getTagTextNode(e),i=this.getNodeIndex(e),o=dn(e),l=this.events.callbacks,s=!0,c="select"==a.mode;if(!c&&this.dropdown.hide(),r){if(!Ln(o,Object)||!("editable"in o)||o.editable)return o=dn(e,{__originalData:nn({},o),__originalHTML:e.cloneNode(!0)}),dn(o.__originalHTML,o.__originalData),r.setAttribute("contenteditable",!0),e.classList.add(a.classNames.tagEditing),this.events.callbacks.onEditTagFocus.call(this,e),r.addEventListener("click",l.onEditTagClick.bind(this,e)),r.addEventListener("blur",l.onEditTagBlur.bind(this,this.getTagTextNode(e))),r.addEventListener("input",l.onEditTagInput.bind(this,r)),r.addEventListener("paste",l.onEditTagPaste.bind(this,r)),r.addEventListener("keydown",(function(t){return l.onEditTagkeydown.call(n,t,e)})),r.addEventListener("compositionstart",l.onCompositionStart.bind(this)),r.addEventListener("compositionend",l.onCompositionEnd.bind(this)),t.skipValidation||(s=this.editTagToggleValidity(e)),r.originalIsValid=s,this.trigger("edit:start",{tag:e,index:i,data:o,isValid:s}),r.focus(),!c&&this.setRangeAtStartEnd(!1,r),0===a.dropdown.enabled&&!c&&this.dropdown.show(),this.state.hasFocus=!0,this}else Yt.warn("Cannot find element in Tag template: .",a.classNames.tagTextSelector)},editTagToggleValidity:function(e,t){var n;if(t=t||dn(e))return(n=!("__isValid"in t)||!0===t.__isValid)||this.removeTagsFromValue(e),this.update(),e.classList.toggle(this.settings.classNames.tagNotAllowed,!n),t.__isValid=n,t.__isValid;Yt.warn("tag has no data: ",e,t)},onEditTagDone:function(e,t){e=e||this.state.editing.scope,t=t||{};var n,a,r=this.settings,i={tag:e,index:this.getNodeIndex(e),previousData:dn(e),data:t};this.trigger("edit:beforeUpdate",i,{cloneData:!1}),this.state.editing=!1,delete t.__originalData,delete t.__originalHTML,e&&e.parentNode&&((void 0!==(a=t[r.tagTextProp])?null===(n=(a+="").trim)||void 0===n?void 0:n.call(a):r.tagTextProp in t?void 0:t.value)?(e=this.replaceTag(e,t),this.editTagToggleValidity(e,t),r.a11y.focusableTags?e.focus():"select"!=r.mode&&mn(e)):this.removeTags(e)),this.trigger("edit:updated",i),r.dropdown.closeOnSelect&&this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag:function(e,t){t&&""!==t.value&&void 0!==t.value||(t=e.__tagifyTagData),t.__isValid&&1!=t.__isValid&&nn(t,this.getInvalidTagAttrs(t,t.__isValid));var n=this.createTagElem(t);return e.parentNode.replaceChild(n,e),this.updateValueByDOMTags(),n},updateValueByDOMTags:function(){var e=this;this.value.length=0;var t=this.settings.classNames,n=[t.tagNotAllowed.split(" ")[0],t.tagHide];[].forEach.call(this.getTagElms(),(function(t){Un(t.classList).some((function(e){return n.includes(e)}))||e.value.push(dn(t))})),this.update(),this.dropdown.refilter()},injectAtCaret:function(e,t){var n;if(t=t||(null===(n=this.state.selection)||void 0===n?void 0:n.range),"string"==typeof e&&(e=document.createTextNode(e)),!t&&e)return this.appendMixTags(e),this;var a=pn(e,t);return this.setRangeAtStartEnd(!1,a),this.updateValueByDOMTags(),this.update(),this},input:{set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.settings,a=n.dropdown.closeOnSelect;this.state.inputText=e,t&&(this.DOM.input.innerHTML=en(""+e),e&&this.toggleClass(n.classNames.empty,!this.DOM.input.innerHTML)),!e&&a&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw:function(){return this.DOM.input.textContent},validate:function(){var e=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!e),e},normalize:function(e,t){var n=e||this.DOM.input,a=[];n.childNodes.forEach((function(e){return 3==e.nodeType&&a.push(e.nodeValue)})),a=a.join("\n");try{a=a.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch(e){}return a=a.replace(/\s/g," "),(null==t?void 0:t.trim)?this.trim(a):a},autocomplete:{suggest:function(e){if(this.settings.autoComplete.enabled){"object"!=typeof(e=e||{value:""})&&(e={value:e});var t=this.dropdown.getMappedValue(e);if("number"!=typeof t){var n=this.state.inputText.toLowerCase(),a=t.substr(0,this.state.inputText.length).toLowerCase(),r=t.substring(this.state.inputText.length);t&&this.state.inputText&&a==n?(this.DOM.input.setAttribute("data-suggest",r),this.state.inputSuggestion=e):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set:function(e){var t=this.DOM.input.getAttribute("data-suggest"),n=e||(t?this.state.inputText+t:null);return!!n&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+n)):(this.input.set.call(this,n),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx:function(e){return this.value.findIndex((function(t){return t.__tagId==(e||{}).__tagId}))},getNodeIndex:function(e){var t=0;if(e)for(;e=e.previousElementSibling;)t++;return t},getTagElms:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a="."+Un(this.settings.classNames.tag.split(" ")).concat(Un(t)).join(".");return[].slice.call(this.DOM.scope.querySelectorAll(a))},getLastTag:function(){var e=this.settings.classNames,t=this.DOM.scope.querySelectorAll("".concat(e.tagSelector,":not(.").concat(e.tagHide,"):not([readonly])"));return t[t.length-1]},isTagDuplicate:function(e,t,n){var a=0,r=!0,i=!1,o=void 0;try{for(var l,s=this.value[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;$t(this.trim(""+e),c.value,t)&&n!=c.__tagId&&a++}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return a},getTagIndexByValue:function(e){var t=this,n=[],a=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach((function(r,i){r.__tagifyTagData&&$t(t.trim(r.__tagifyTagData.value),e,a)&&n.push(i)})),n},getTagElmByValue:function(e){var t=this.getTagIndexByValue(e)[0];return this.getTagElms()[t]},flashTag:function(e){var t=this;e&&(e.classList.add(this.settings.classNames.tagFlash),setTimeout((function(){e.classList.remove(t.settings.classNames.tagFlash)}),100))},isTagBlacklisted:function(e){return e=this.trim(e.toLowerCase()),this.settings.blacklist.filter((function(t){return(""+t).toLowerCase()==e})).length},isTagWhitelisted:function(e){return!!this.getWhitelistItem(e)},getWhitelistItem:function(e,t,n){t=t||"value";var a,r=this.settings;return(n=n||r.whitelist).some((function(n){var i="object"==typeof n?n[t]||n.value:n;if($t(i,e,r.dropdown.caseSensitive,r.trim))return a="object"==typeof n?n:{value:n},!0})),a||"value"!=t||"value"==r.tagTextProp||(a=this.getWhitelistItem(e,r.tagTextProp,n)),a},validateTag:function(e){var t=this.settings,n="value"in e?"value":t.tagTextProp,a=this.trim(e[n]+"");return(e[n]+"").trim()?"mix"!=t.mode&&t.pattern&&Ln(t.pattern,RegExp)&&!t.pattern.test(a)?this.TEXTS.pattern:!t.duplicates&&this.isTagDuplicate(a,t.dropdown.caseSensitive,e.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(a)||t.enforceWhitelist&&!this.isTagWhitelisted(a)?this.TEXTS.notAllowed:!t.validate||t.validate(e):this.TEXTS.empty},getInvalidTagAttrs:function(e,t){return{"aria-invalid":!0,class:"".concat(e.class||""," ").concat(this.settings.classNames.tagNotAllowed).trim(),title:t}},hasMaxTags:function(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly:function(e,t){var n=this.settings;this.DOM.scope.contains(document.activeElement)&&document.activeElement.blur(),n[t||"readonly"]=e,this.DOM.scope[(e?"set":"remove")+"Attribute"](t||"readonly",!0),this.settings.userInput=!0,this.setContentEditable(!e)},setContentEditable:function(e){this.DOM.scope.querySelectorAll("[data-can-editable]").forEach((function(t){t.contentEditable=e,t.tabIndex=e?0:-1}))},setDisabled:function(e){this.setReadonly(e,"disabled")},normalizeTags:function(e){var t=this,n=this.settings,a=n.whitelist,r=n.delimiters,i=n.mode,o=n.tagTextProp,l=[],s=!!a&&Ln(a[0],Object),c=Array.isArray(e),u=c&&e[0].value,p=function(e){return(e+"").split(r).reduce((function(e,n){var a,r=t.trim(n);return r&&e.push((Rn(a={},o,r),Rn(a,"value",r),a)),e}),[])};if("number"==typeof e&&(e=e.toString()),"string"==typeof e){if(!e.trim())return[];e=p(e)}else c&&(e=e.reduce((function(e,n){if(tn(n)){var a=nn({},n);o in a||(o="value"),a[o]=t.trim(a[o]),(a[o]||0===a[o])&&e.push(a)}else if(null!=n&&""!==n&&void 0!==n){var r;(r=e).push.apply(r,Un(p(n)))}return e}),[]));return s&&!u&&(e.forEach((function(e){var n=l.map((function(e){return e.value})),a=t.dropdown.filterListItems.call(t,e[o],{exact:!0});t.settings.duplicates||(a=a.filter((function(e){return!n.includes(e.value)})));var r=a.length>1?t.getWhitelistItem(e[o],o,a):a[0];r&&Ln(r,Object)?l.push(r):"mix"!=i&&(null==e.value&&(e.value=e[o]),l.push(e))})),l.length&&(e=l)),e},parseMixTags:function(e){var t=this,n=this.settings,a=n.mixTagsInterpolator,r=n.duplicates,i=n.transformTag,o=n.enforceWhitelist,l=n.maxTags,s=n.tagTextProp,c=[];e=e.split(a[0]).map((function(e,n){var u,p,d,m=e.split(a[1]),h=m[0],g=c.length==l;try{if(h==+h)throw Error;p=JSON.parse(h)}catch(e){p=t.normalizeTags(h)[0]||{value:h}}if(i.call(t,p),g||!(m.length>1)||o&&!t.isTagWhitelisted(p.value)||!r&&t.isTagDuplicate(p.value)){if(e)return n?a[0]+e:e}else p[u=p[s]?s:"value"]=t.trim(p[u]),d=t.createTagElem(p),c.push(p),d.classList.add(t.settings.classNames.tagNoAnimation),m[0]=d.outerHTML,t.value.push(p);return m.join("")})).join(""),this.DOM.input.innerHTML=e,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();var u=this.getTagElms();return u.forEach((function(e,t){return dn(e,c[t])})),this.update({withoutChangeEvent:!0}),hn(u,this.state.hasFocus),e},replaceTextWithNode:function(e,t){if(this.state.tag||t){t=t||this.state.tag.prefix+this.state.tag.value;var n,a,r=this.state.selection||window.getSelection(),i=r.anchorNode,o=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return i.splitText(r.anchorOffset-o),-1==(n=i.nodeValue.lastIndexOf(t))||(a=i.splitText(n),e&&i.parentNode.replaceChild(e,a)),!0}},prepareNewTagNode:function(e,t){t=t||{};var n=this.settings,a=[],r={},i=Object.assign({},e,{value:e.value+""});if(e=Object.assign({},i),n.transformTag.call(this,e),e.__isValid=this.hasMaxTags()||this.validateTag(e),!0!==e.__isValid){if(t.skipInvalid)return;if(nn(r,this.getInvalidTagAttrs(e,e.__isValid),{__preInvalidData:i}),e.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(e.value)),!n.createInvalidTags)return void a.push(e.value)}return"readonly"in e&&(e.readonly?r["aria-readonly"]=!0:delete e.readonly),{tagElm:this.createTagElem(e,r),tagData:e,aggregatedInvalidInput:a}},postProcessNewTagNode:function(e,t){var n=this,a=this.settings,r=t.__isValid;r&&!0===r?this.value.push(t):(this.trigger("invalid",{data:t,index:this.value.length,tag:e,message:r}),a.keepInvalidTags||setTimeout((function(){return n.removeTags(e,!0)}),1e3)),this.dropdown.position()},selectTag:function(e,t){var n=this;if(!this.settings.enforceWhitelist||this.isTagWhitelisted(t.value)){this.state.actions.selectOption&&setTimeout((function(){return n.setRangeAtStartEnd(!1,n.DOM.input)}));var a=this.getLastTag();return a?this.replaceTag(a,t):this.appendTag(e),this.value[0]=t,this.update(),this.trigger("add",{tag:e,data:t}),[e]}},addEmptyTag:function(e){var t=nn({value:""},e||{}),n=this.createTagElem(t);dn(n,t),this.appendTag(n),this.editTag(n,{skipValidation:!0}),this.toggleFocusClass(!0)},addTags:function(e,t,n){var a=this,r=[],i=this.settings,o=[],l=document.createDocumentFragment(),s=[];if(!e||0==e.length)return r;switch(e=this.normalizeTags(e),i.mode){case"mix":return this.addMixTags(e);case"select":t=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),e.forEach((function(e){var t=a.prepareNewTagNode(e,{skipInvalid:n||i.skipInvalid});if(t){var c=t.tagElm;if(e=t.tagData,o=t.aggregatedInvalidInput,r.push(c),"select"==i.mode)return a.selectTag(c,e);l.appendChild(c),a.postProcessNewTagNode(c,e),s.push({tagElm:c,tagData:e})}})),this.appendTag(l),s.forEach((function(e){var t=e.tagElm,n=e.tagData;return a.trigger("add",{tag:t,index:a.getTagIdx(n),data:n})})),this.update(),e.length&&t&&(this.input.set.call(this,i.createInvalidTags?"":o.join(i._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),this.dropdown.refilter(),r},addMixTags:function(e){var t=this;if((e=this.normalizeTags(e))[0].prefix||this.state.tag)return this.prefixedTextToTag(e[0]);var n=document.createDocumentFragment();return e.forEach((function(e){var a=t.prepareNewTagNode(e);n.appendChild(a.tagElm),t.insertAfterTag(a.tagElm),t.postProcessNewTagNode(a.tagElm,a.tagData)})),this.appendMixTags(n),n.children},appendMixTags:function(e){var t=!!this.state.selection;t?this.injectAtCaret(e):(this.DOM.input.focus(),(t=this.setStateSelection()).range.setStart(this.DOM.input,t.range.endOffset),t.range.setEnd(this.DOM.input,t.range.endOffset),this.DOM.input.appendChild(e),this.updateValueByDOMTags(),this.update())},prefixedTextToTag:function(e){var t,n,a,r=this,i=this.settings,o=null===(t=this.state.tag)||void 0===t?void 0:t.delimiters;if(e.prefix=e.prefix||this.state.tag?this.state.tag.prefix:(i.pattern.source||i.pattern)[0],a=this.prepareNewTagNode(e),n=a.tagElm,this.replaceTextWithNode(n)||this.DOM.input.appendChild(n),setTimeout((function(){return n.classList.add(r.settings.classNames.tagNoAnimation)}),300),this.update(),!o){var l=this.insertAfterTag(n)||n;setTimeout(mn,0,l)}return this.state.tag=null,this.postProcessNewTagNode(n,a.tagData),n},appendTag:function(e){var t=this.DOM,n=t.input;t.scope.insertBefore(e,n)},createTagElem:function(e,t){e.__tagId=ln();var n,a=nn({},e,Fn({value:en(e.value+"")},t));return function(e){for(var t,n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,null,!1);t=n.nextNode();)t.textContent.trim()||t.parentNode.removeChild(t)}(n=this.parseTemplate("tag",[a,this])),dn(n,e),n},reCheckInvalidTags:function(){var e=this,t=this.settings;this.getTagElms(t.classNames.tagNotAllowed).forEach((function(n,a){var r=dn(n),i=e.hasMaxTags(),o=e.validateTag(r),l=!0===o&&!i;if("select"==t.mode&&e.toggleScopeValidation(o),l)return r=r.__preInvalidData?r.__preInvalidData:{value:r.value},e.replaceTag(n,r);n.title=i||o}))},removeTags:function(e,t,n){var a,r=this,i=this.settings;if(e=e&&Ln(e,HTMLElement)?[e]:Ln(e,Array)?e:e?[e]:[this.getLastTag()].filter((function(e){return e})),a=e.reduce((function(e,t){t&&"string"==typeof t&&(t=r.getTagElmByValue(t));var n=dn(t);return t&&n&&!n.readonly&&e.push({node:t,idx:r.getTagIdx(n),data:dn(t,{__removed:!0})}),e}),[]),n="number"==typeof n?n:this.CSSVars.tagHideTransition,"select"==i.mode&&(n=0,this.input.set.call(this)),1==a.length&&"select"!=i.mode&&a[0].node.classList.contains(i.classNames.tagNotAllowed)&&(t=!0),a.length)return i.hooks.beforeRemoveTag(a,{tagify:this}).then((function(){var e=function(e){e.node.parentNode&&(e.node.parentNode.removeChild(e.node),t?i.keepInvalidTags&&this.trigger("remove",{tag:e.node,index:e.idx}):(this.trigger("remove",{tag:e.node,index:e.idx,data:e.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),i.keepInvalidTags&&this.reCheckInvalidTags()))};n&&n>10&&1==a.length?function(t){t.node.style.width=parseFloat(window.getComputedStyle(t.node).width)+"px",document.body.clientTop,t.node.classList.add(i.classNames.tagHide),setTimeout(e.bind(this),n,t)}.call(r,a[0]):a.forEach(e.bind(r)),t||(r.removeTagsFromValue(a.map((function(e){return e.node}))),r.update(),"select"==i.mode&&i.userInput&&r.setContentEditable(!0))})).catch((function(e){}))},removeTagsFromDOM:function(){this.getTagElms().forEach((function(e){return e.remove()}))},removeTagsFromValue:function(e){var t=this;(e=Array.isArray(e)?e:[e]).forEach((function(e){var n=dn(e),a=t.getTagIdx(n);a>-1&&t.value.splice(a,1)}))},removeAllTags:function(e){var t=this;e=e||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout((function(){t.DOM.input.focus()})),"select"==this.settings.mode&&(this.input.set.call(this),this.settings.userInput&&this.setContentEditable(!0)),this.update(e)},postUpdate:function(){this.state.blockChangeEvent=!1;var e,t,n=this.settings,a=n.classNames,r="mix"==n.mode?n.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(a.hasMaxTags,this.value.length>=n.maxTags),this.toggleClass(a.hasNoTags,!this.value.length),this.toggleClass(a.empty,!r),"select"==n.mode&&this.toggleScopeValidation(null===(t=this.value)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.__isValid)},setOriginalInputValue:function(e){var t=this.DOM.originalInput;this.settings.mixMode.integrated||(t.value=e,t.tagifyValue=t.value,this.setPersistedData(e,"value"))},update:function(e){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout(function(){var t=this.getInputValue();this.setOriginalInputValue(t),this.settings.onChangeAfterBlur&&(e||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}.bind(this),100),this.events.bindOriginaInputListener.call(this,100)},getInputValue:function(){var e=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(e):e.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(e):JSON.stringify(e):""},getCleanValue:function(e){return Xt(e||this.value,this.dataProps)},getMixedTagsAsString:function(){var e="",t=this,n=this.settings,a=n.originalInputValueFormat||JSON.stringify,r=n.mixTagsInterpolator;return function n(i){i.childNodes.forEach((function(i){if(1==i.nodeType){var o=dn(i);if("BR"==i.tagName&&(e+="\r\n"),o&&sn.call(t,i)){if(o.__removed)return;e+=r[0]+a(Jt(o,t.dataProps))+r[1]}else i.getAttribute("style")||["B","I","U"].includes(i.tagName)?e+=i.textContent:"DIV"!=i.tagName&&"P"!=i.tagName||(e+="\r\n",n(i))}else e+=i.textContent}))}(this.DOM.input),e}},Bn.prototype.removeTag=Bn.prototype.removeTags;var $n=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Gn(this,t,[e]))._handleRef=n._handleRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yn(e,t)}(t,e),function(e,t,n){return t&&zn(e.prototype,t),n&&zn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"componentDidMount",value:function(){var e=this;this.tagify=new Bn(this.component,this.props.settings||{}),this.props.settings.callbacks.setup&&setTimeout((function(){e.props.settings.callbacks.setup.call(e.tagify),e.tagify.DOM.input.setAttribute("contenteditable",!0),e.tagify.DOM.input.addEventListener("blur",e.props.settings.callbacks.blur)}),100),this.props.settings.callbacks.dragEnd&&this.tagify.DOM.scope.addEventListener("dragend",this.props.settings.callbacks.dragEnd),(0,a.doAction)("rank_math_tagify_init",this)}},{key:"shouldComponentUpdate",value:function(e){return this.tagify.settings.whitelist=e.settings.whitelist,e.showDropdown&&this.tagify.dropdown.show.call(this.tagify,e.showDropdown),!1===e.showDropdown&&this.tagify.dropdown.hide.call(this.tagify,!0),!1}},{key:"_handleRef",value:function(e){this.component=e}},{key:"render",value:function(){var e={ref:this._handleRef,id:this.props.id,name:this.props.name,className:this.props.className,placeholder:this.props.placeholder};return"textarea"===this.props.mode?wp.element.createElement("textarea",Hn({},e,{defaultValue:this.props.initialValue})):wp.element.createElement("input",Hn({},e,{defaultValue:this.props.initialValue}))}},{key:"toArray",value:function(){return this.tagify.value.map((function(e){return e.value}))}},{key:"toString",value:function(){return this.toArray().join(",")}},{key:"queryTags",value:function(){return this.tagify.DOM.scope.querySelectorAll("tag")}}])}(o.Component),Xn=$n,Jn=function(e){return e=we()("<textarea />").html(e).text(),((new DOMParser).parseFromString(e,"text/html").body.textContent||"").replace(/["<>]/g,"")||""},Zn=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(t+="+Free+Plan");var n=new URLSearchParams({utm_source:"Plugin",utm_medium:t,utm_campaign:"WP"});return(0,c.includes)(e,"?")||(e+="?"),e+n.toString()},Qn=function(e){var t=e.width,n=void 0===t?40:t,a=e.showProNotice,i=void 0!==a&&a,o=e.isBulkEdit,l=void 0!==o&&o,s=e.isResearch,u=void 0!==s&&s,d=e.creditsRequired,m=void 0===d?0:d,h=e.isKeywordIntent,g=void 0!==h&&h;if(i)return function(e){return wp.element.createElement("div",{id:"rank-math-pro-cta",className:"center rank-math-content-ai-warning-wrapper"},wp.element.createElement("div",{className:"rank-math-cta-box blue-ticks top-20 less-padding "+e},wp.element.createElement("h3",null,(0,r.__)("ðŸ”’ This is a PRO-Only Feature","rank-math")),wp.element.createElement("p",null,(0,r.__)("We are sorry but this feature is only available to Rank Math PRO/Business/Agency Users. Unlock this feature and many more by getting a Rank Math plan.","rank-math")),wp.element.createElement("ul",null,wp.element.createElement("li",null,(0,r.__)("Bulk Edit SEO Tags","rank-math")),wp.element.createElement("li",null,(0,r.__)("Advanced Google Analytics 4 Integration","rank-math")),wp.element.createElement("li",null,(0,r.__)("Keyword Rank Tracker","rank-math")),wp.element.createElement("li",null,(0,r.__)("Free Content AI Trial","rank-math")),wp.element.createElement("li",null,(0,r.__)("SEO Performance Email Reports","rank-math"))),wp.element.createElement(p.Button,{href:rankMath.links.pro,target:"_blank",className:"button button-primary is-green"},(0,r.__)("Learn More","rank-math"))))}(n);if(g)return function(e){return wp.element.createElement("div",{id:"rank-math-pro-cta",className:"center rank-math-content-ai-warning-wrapper"},wp.element.createElement("div",{className:"rank-math-cta-box blue-ticks top-20 less-padding "+e},wp.element.createElement("h3",null,(0,r.__)("â›”ï¸ Update Required","rank-math")),wp.element.createElement("p",null,(0,r.__)("Your current plugin version does not support this feature. Please update Rank Math PRO to version 3.0.83 or later to unlock full functionality.","rank-math")),wp.element.createElement(p.Button,{href:rankMath.links.pro,target:"_blank",className:"button button-primary is-green"},(0,r.__)("Update Now","rank-math"))))}(n);var f=(0,c.isUndefined)(wp.data.select("rank-math-content-ai"))?rankMath.contentAI:wp.data.select("rank-math-content-ai").getData(),v=f.isUserRegistered,w=f.plan,y="free"===w,b=f.credits>m,k=f.isMigrating;if(b&&u&&!y&&f.credits<500&&(b=!1),v&&w&&b&&!k&&!y)return null;var E,_="width-"+n;return!v||!w||b&&y?wp.element.createElement("div",{id:"rank-math-pro-cta",className:"center rank-math-content-ai-warning-wrapper"},wp.element.createElement("div",{className:"rank-math-cta-box blue-ticks top-20 less-padding "+_},wp.element.createElement("h3",null,(0,r.__)("ðŸš€ Supercharge Your Content With AI","rank-math")),wp.element.createElement("p",null,!v&&!l&&(0,r.__)("Start using Content AI by connecting your RankMath.com Account","rank-math"),v&&!w&&!l&&!y&&(0,r.__)("To access this Content AI feature, you need to have an active subscription plan.","rank-math"),v&&!l&&y&&(0,r.__)("To access this Content AI feature, you have to purchase a Content AI Subscription.","rank-math"),l&&(0,r.__)("You are one step away from unlocking this premium feature along with many more.","rank-math")),function(e,t,n){return t?wp.element.createElement("ul",null,wp.element.createElement("li",null,(0,r.__)("1-Click Article Generation","rank-math")),wp.element.createElement("li",null,(0,r.__)("Bulk Update Your SEO Meta using AI","rank-math")),wp.element.createElement("li",null,(0,r.__)("Get Access to 40+ AI SEO Tools","rank-math")),wp.element.createElement("li",null,(0,r.__)("125+ Expert-Written Prompts","rank-math")),wp.element.createElement("li",null,(0,r.__)("1-Click Competitor Content Research","rank-math")),wp.element.createElement("li",null,(0,r.__)("1-Click WooCommerce Product Descriptions","rank-math"))):n?wp.element.createElement("ul",null,wp.element.createElement("li",null,(0,r.__)("1-Click Article Generation","rank-math")),wp.element.createElement("li",null,(0,r.__)("1-Click Competitor Research","rank-math")),wp.element.createElement("li",null,(0,r.__)("On-Page SEO Suggestions","rank-math")),wp.element.createElement("li",null,(0,r.__)("1-Click Bulk SEO Meta","rank-math")),wp.element.createElement("li",null,(0,r.__)("125+ Pre-Built Prompts","rank-math")),wp.element.createElement("li",null,(0,r.__)("Multiple RankBot Sessions","rank-math"))):40===e?wp.element.createElement("ul",null,wp.element.createElement("li",null,(0,r.__)("1-Click Article Generation","rank-math")),wp.element.createElement("li",null,(0,r.__)("1-Click SEO Content","rank-math")),wp.element.createElement("li",null,(0,r.__)("1-Click SEO Meta","rank-math")),wp.element.createElement("li",null,(0,r.__)("40+ Specialized AI Tools","rank-math")),wp.element.createElement("li",null,(0,r.__)("1-Click Competitor Research","rank-math")),wp.element.createElement("li",null,(0,r.__)("125+ Pre-Built Prompts","rank-math"))):wp.element.createElement("ul",null,wp.element.createElement("li",null,(0,r.__)("Gain access to 40+ advanced AI tools, empowering your content strategy.","rank-math")),wp.element.createElement("li",null,(0,r.__)("Experience the revolutionary AI-powered Content Editor for unparalleled efficiency.","rank-math")),wp.element.createElement("li",null,(0,r.__)("Engage with RankBot, your personal AI Chat Assistant, for real-time assistance.","rank-math")))}(n,l,y),!v&&wp.element.createElement(p.Button,{href:rankMath.contentAI.connectSiteUrl,className:"button button-primary is-green"},(0,r.__)("Connect Now","rank-math")),v&&(!w||y)&&wp.element.createElement(p.Button,{href:Zn(rankMath.links["content-ai"]+"?play-video=ioPeVIntJWw&","Buy+Plan+Button",y),className:"button button-primary is-green",target:"_blank"},(0,r.__)("Learn More","rank-math")))):k?wp.element.createElement("div",{id:"rank-math-pro-cta",className:"center rank-math-content-ai-warning-wrapper"},wp.element.createElement("div",{style:{textAlign:"center"},className:"rank-math-cta-box less-padding top-20 "+_},wp.element.createElement("h3",null,(0,r.__)("Server Maintenance Underway","rank-math")),wp.element.createElement("p",null,(0,r.__)("We are working on improving your Content AI experience. Please wait for 5 minutes and then refresh to start using the optimized Content AI. If you see this for more than 5 minutes, please ","rank-math"),wp.element.createElement("a",{href:rankMath.links.support,target:"_blank",rel:"noreferrer"},(0,r.__)("reach out to the support team.","rank-math")),(0,r.__)(" We are sorry for the inconvenience.","rank-math")))):wp.element.createElement("div",{id:"rank-math-pro-cta",className:"center rank-math-content-ai-warning-wrapper"},wp.element.createElement("div",{className:"rank-math-cta-box less-padding top-20 "+_},wp.element.createElement("h3",null,(0,r.__)("â›”ï¸ Content AI Credit Alert!","rank-math")),wp.element.createElement("p",null,(E=f.resetDate)?wp.element.createElement(R,{components:{strong:wp.element.createElement("strong",null)}},(0,r.sprintf)((0,r.__)("Your monthly Content AI credits have been fully utilized. You can wait till %s for your credits to refresh or upgrade to continue enjoying seamless content creation","rank-math"),"{{strong}}"+E+"{{/strong}}")):(0,r.__)("Your monthly Content AI credits have been fully utilized. To continue enjoying seamless content creation, simply click the button below to upgrade your plan and access more credits.","rank-math")),wp.element.createElement(p.Button,{href:Zn(rankMath.links["content-ai"]+"?play-video=ioPeVIntJWw&","Buy+Credits+Button",y),className:"button button-primary is-green",target:"_blank"},(0,r.__)("Learn More","rank-math")),wp.element.createElement(p.Button,{variant:"link",href:Zn(rankMath.links["content-ai-restore-credits"],"Buy+Credits+Button",y),className:"button button-secondary",target:"_blank"},(0,r.__)("Missing Credits?","rank-math"))))},ea=function(e){var t=e.onClick;return wp.element.createElement(p.Modal,{title:(0,r.__)("Upgrade to re-order Focus Keywords","rank-math"),closeButtonLabel:(0,r.__)("Close","rank-math"),shouldCloseOnClickOutside:!0,onRequestClose:function(){return t()},className:"rank-math-modal rank-math-focus-keywords-cta-modal",overlayClassName:"rank-math-modal-overlay"},wp.element.createElement("div",{className:"components-panel__body rank-math-focus-keywords-cta-wrapper"},wp.element.createElement("div",{id:"rank-math-pro-cta",className:"center"},wp.element.createElement("div",{className:"rank-math-cta-box blue-ticks"},wp.element.createElement("ul",null,wp.element.createElement("li",null,(0,r.__)("Improve the SEO workflow","rank-math")),wp.element.createElement("li",null,(0,r.__)("Set different Primary Focus Keyword","rank-math")),wp.element.createElement("li",null,(0,r.__)("and many other premium SEO features","rank-math"))),wp.element.createElement("a",{className:"button button-primary is-green",href:rankMath.trendsUpgradeLink,rel:"noreferrer noopener",target:"_blank"},rankMath.trendsUpgradeLabel)))))};function ta(e){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(e)}function na(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sa(a.key),a)}}function aa(e,t,n){return t=ia(t),function(e,t){if(t&&("object"==ta(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ra()?Reflect.construct(t,n||[],ia(e).constructor):t.apply(e,n))}function ra(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ra=function(){return!!e})()}function ia(e){return ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ia(e)}function oa(e,t){return oa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oa(e,t)}function la(e,t,n){return(t=sa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e){var t=function(e,t){if("object"!=ta(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=ta(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ta(t)?t:t+""}var ca=function(e){function t(e){var n,a=e.keywords;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),la(n=aa(this,t),"state",{}),la(n,"request",null),la(n,"hasAdded",!1),la(n,"clickCount",0),la(n,"singleClickTimer",null),n.state={showCTA:!1},n.tagifyField=(0,o.createRef)(),n.showKeywordIntent=rankMath.showKeywordIntent,n.keywords=a,n.hideDropdown=n.hideDropdown.bind(n),n.callbacks={add:n.onAdd.bind(n),remove:(0,c.debounce)(n.onRemove.bind(n),300),"edit:updated":n.onEditUpdated.bind(n),click:n.onClick.bind(n),dragEnd:n.onDragEnd.bind(n),setup:n.onSetup.bind(n),blur:n.hideDropdown},rankMath.autoSuggestKeywords&&(n.callbacks.input=(0,c.debounce)(n.onInput.bind(n),300)),window.rankMathEditor.focusKeywordField=n,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oa(e,t)}(t,e),function(e,t,n){return t&&na(e.prototype,t),n&&na(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"render",value:function(){var e=this,t=(0,a.applyFilters)("rank_math_focus_keyword_settings",{addTagOnBlur:!0,maxTags:"post"===rankMath.objectType?rankMath.maxTags:1,whitelist:this.state.whitelist||[],focusableTags:!0,transformTag:function(e){e.value=Jn(e.value.replaceAll(",",""))},templates:{tag:function(t){var n=t.title||t.value,r="tagify__tag ".concat(e.maybeAddIntentClass(n)," ");if(!t.class){var i=rankMathEditor.resultManager.getScore(te(n));r+=e.getScoreClass(i)}return n=Jn(n),'\n\t\t\t\t\t\t\t<tag\n\t\t\t\t\t\t\t\tdraggable="true"\n\t\t\t\t\t\t\t\ttabIndex="0"\n\t\t\t\t\t\t\t\tcontenteditable="false"\n\t\t\t\t\t\t\t\tspellcheck="false"\n\t\t\t\t\t\t\t\tclass="'.concat(r,'"\n\t\t\t\t\t\t\t\ttitle="').concat(n,'"\n\t\t\t\t\t\t\t\tdata-value="').concat((0,c.toLower)(te(n)),'"\n\t\t\t\t\t\t\t\t').concat(function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t,n,a="",r=Object.keys(e);for(n=r.length;n--;)"class"!==(t=r[n])&&e.hasOwnProperty(t)&&e[t]&&(a+=""+t+(e[t]?'="'.concat(Jn(e[t]),'"'):""));return a}(t),"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span class=\"tagify__tag-text\">").concat(n,"</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t").concat((0,a.applyFilters)("rank_math_after_focus_keyword",e.addKeywordIntent(te(n)),te(n)),"\n\t\t\t\t\t\t\t</tag>\n\t\t\t\t\t\t")}},callbacks:this.callbacks},this);return this.setKeywordsClasses(),wp.element.createElement(React.Fragment,null,wp.element.createElement(Xn,{ref:this.tagifyField,mode:"input",settings:t,showDropdown:this.state.showDropdown,initialValue:this.keywords,placeholder:(0,r.__)("Example: Rank Math SEO","rank-math")}),this.state.showCTA&&wp.element.createElement(ea,{onClick:function(){return e.setState({showCTA:!1})}}))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.showCTA!==t.showCTA||this.state.showDropdown!==t.showDropdown||e.isRefreshing!==this.props.isRefreshing||e.keywords!==this.props.keywords}},{key:"getScoreClass",value:function(e){return 80<e?"good-fk":50<e?"ok-fk":"bad-fk"}},{key:"setKeywordsClasses",value:function(){var e=this;if(null!==this.tagifyField.current){var t=this.tagifyField.current,n=t.tagify.value;if(n.length>0){var a=t.queryTags();n.map((function(t,n){if(!(0,c.isUndefined)(a[n])){var r=rankMathEditor.resultManager.getScore(te(t.value));a[n].classList.remove("ok-fk","good-fk","bad-fk"),a[n].classList.add(e.getScoreClass(r))}}))}}}},{key:"maybeAddIntentClass",value:function(e){if(!this.showKeywordIntent)return"";var t="has-keyword-intent";return e.length>10&&(t+=" float-keyword-intent"),t}},{key:"addKeywordIntent",value:function(e){return!this.showKeywordIntent||rankMathEditor.getPrimaryKeyword()&&e!==rankMathEditor.getPrimaryKeyword()?"":(we()(document).on("click","#rank-math-get-keyword-intent",(function(e){var t,n,a,r,i,l,s,u,d,m=rankMath,h=m.isPro,g=m.searchIntents;if(!h||(0,c.isUndefined)(g))return e.preventDefault(),t={showProNotice:!h,isKeywordIntent:(0,c.isUndefined)(g)},n=t.showProNotice,a=void 0!==n&&n,r=t.isBulkEdit,i=void 0!==r&&r,l=t.creditsRequired,s=void 0===l?0:l,u=t.isKeywordIntent,d=void 0!==u&&u,(0,c.isNull)(document.getElementById("rank-math-content-ai-modal-wrapper"))&&we()("#wpwrap").append('<div id="rank-math-content-ai-modal-wrapper"></div>'),setTimeout((function(){(0,o.render)(wp.element.createElement(p.Modal,{className:"rank-math-contentai-modal rank-math-modal rank-math-error-modal",shouldCloseOnClickOutside:!1,onRequestClose:function(e){(0,c.isUndefined)(e)||(we()(".components-modal__screen-overlay").remove(),document.getElementById("rank-math-content-ai-modal-wrapper").remove(),document.body.classList.remove("modal-open"))}},wp.element.createElement(Qn,{width:100,showProNotice:a,isBulkEdit:i,creditsRequired:s,isKeywordIntent:d})),document.getElementById("rank-math-content-ai-modal-wrapper"))}),100),!1})),'\n\t\t\t<span class="rank-math-keyword-intent-container">\n\t\t\t\t<button id="rank-math-get-keyword-intent" class="rank-math-keyword-intent-wrapper is-show-intent">\n\t\t\t\t\t<span class=\'icon rm-icon-bulb-1\'></span>\n\t\t\t\t\t<span class="intent">'.concat((0,r.__)("Show Intent","rank-math"),"</span>\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t"))}},{key:"onSetup",value:function(){this.selectFirstKeyword(),this.setKeywordsClasses()}},{key:"onInput",value:function(e){var t=this;(e=(0,c.has)(e.detail,"value")?e.detail.value:e.detail.data.value).length<2||(this.hideDropdown(),this.hasAdded?this.hasAdded=!1:this.request=we().ajax({url:rankMath.keywordsApi.url,data:{keyword:e,locale:rankMath.locale},success:function(n){if(t.hasAdded)t.hasAdded=!1;else{var a=we().map(n,(function(e){return e}));t.setState({whitelist:a,showDropdown:e})}}}))}},{key:"onAdd",value:function(e){this.hasAdded=!0,0===e.detail.index&&this.props.updateSelectedKeyword(e.detail,this.tagifyField.current),this.updateKeywords()}},{key:"onRemove",value:function(e){this.hideDropdown(),0===e.detail.index&&this.onSetup(),rankMathEditor.resultManager.deleteResult(e.detail.data.value),this.selectFirstKeyword(),this.updateKeywords()}},{key:"onClick",value:function(e){var t=this;this.clickCount++,1===this.clickCount?this.singleClickTimer=setTimeout((function(){t.clickCount=0,t.props.updateSelectedKeyword(e.detail,t.tagifyField.current)}),400):2===this.clickCount&&(clearTimeout(this.singleClickTimer),this.clickCount=0)}},{key:"onEditUpdated",value:function(e){this.hasAdded=!0,0===e.detail.index&&this.props.updateSelectedKeyword(e.detail,this.tagifyField.current),this.updateKeywords()}},{key:"selectFirstKeyword",value:function(){var e=this.tagifyField.current,t=e.tagify.value,n={tag:"",index:0,data:{value:""}};t.length>0&&(n={tag:e.queryTags()[0],index:0,data:{value:t[0].value}});this.props.updateSelectedKeyword(n,e)}},{key:"updateKeywords",value:function(){var e=this.tagifyField.current,t=Jn(e.toString());this.props.updateKeywords(t)}},{key:"onDragEnd",value:function(){1!==this.tagifyField.current.queryTags().length&&this.setState({showCTA:!0})}},{key:"hideDropdown",value:function(){null!==this.request&&(this.request.abort(),this.request=null),this.setState({whitelist:[],showDropdown:!1})}}])}(o.Component),ua=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math");return{keywords:t.getKeywords(),isRefreshing:t.isRefreshing()}})),(0,i.withDispatch)((function(e){return{updateKeywords:function(t){e("rank-math").updateKeywords(t)},updateSelectedKeyword:function(t,n){n.queryTags().forEach((function(e){e.classList.remove("selected")})),(0,c.isUndefined)(t.tag)||""===t.tag||t.tag.classList.add("selected"),e("rank-math").updateSelectedKeyword(t)}}})))(ca);function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return da(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?da(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var ma=(0,p.withFilters)("rankMath.focusKeywords.Trends")((function(){var e=pa((0,o.useState)(!1),2),t=e[0],n=e[1];return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.Button,{title:(0,r.__)("Trends","rank-math"),rel:"noreferrer noopener",id:"rank-math-compare-keywords-trigger",className:"button button-icon rank-math-compare-keywords-trigger",onClick:function(){n(!0)}},wp.element.createElement("span",{className:"button-icon",dangerouslySetInnerHTML:{__html:rankMath.trendsIcon}})),t&&wp.element.createElement(p.Modal,{title:(0,r.__)("Google Trends","rank-math"),closeButtonLabel:(0,r.__)("Close","rank-math"),shouldCloseOnClickOutside:!0,onRequestClose:function(){n(!1)},className:"rank-math-modal rank-math-trends-cta-modal",overlayClassName:"rank-math-modal-overlay"},wp.element.createElement("div",{className:"components-panel__body rank-math-trends-cta-wrapper"},wp.element.createElement("img",{src:rankMath.trendsPreviewImage,alt:"",className:"trends-cta blurred"}),wp.element.createElement("div",{id:"rank-math-pro-cta",className:"center"},wp.element.createElement("div",{className:"rank-math-cta-box blue-ticks width-50"},wp.element.createElement("h3",null,(0,r.__)("Track Keyword Trends","rank-math")),wp.element.createElement("ul",null,wp.element.createElement("li",null,(0,r.__)("Data fetched directly from Google","rank-math")),wp.element.createElement("li",null,(0,r.__)("Analyze search trends and compare keywords","rank-math")),wp.element.createElement("li",null,(0,r.__)("See data from a particular Country or timeframe","rank-math"))),wp.element.createElement("a",{className:"button button-primary is-green",href:rankMath.trendsUpgradeLink,rel:"noreferrer noopener",target:"_blank"},rankMath.trendsUpgradeLabel))))))})),ha=function(){return!((0,c.isNil)(window.wp)||(0,c.isNil)(wp.data)||(0,c.isNil)(wp.data.select("core/editor"))||!window.document.body.classList.contains("block-editor-page")||!(0,c.isFunction)(wp.data.select("core/editor").getEditedPostAttribute))},ga=(0,p.withFilters)("rankMath.analytics.contentAI")((function(){return!1})),fa=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math");return{isLoaded:t.isLoaded(),isPillarContent:t.getPillarContent()}})),(0,i.withDispatch)((function(e){return{togglePillarContent:function(t){e("rank-math").updatePillarContent(t)}}})))((function(e){var t=e.isLoaded,n=e.isPillarContent,a=e.togglePillarContent;return t?wp.element.createElement(p.PanelBody,{initialOpen:!0,className:"rank-math-focus-keyword"},wp.element.createElement("h2",{className:"components-panel__body-title"},(0,r.__)("Focus Keyword","rank-math"),wp.element.createElement(Wt,null,wp.element.createElement(R,{components:{link:wp.element.createElement("a",{href:fe("score-100","General Focus Keyword"),target:"_blank",rel:"noopener noreferrer"})}},(0,r.__)("Insert keywords you want to rank for. Try to {{link}}attain 100/100 points{{/link}} for better chances of ranking.","rank-math")))),wp.element.createElement(ma,null),rankMath.currentEditor&&("classic"!==rankMath.currentEditor||ha())&&wp.element.createElement(ga,null),wp.element.createElement(Ht.Slot,null,(function(e){return e.length>0?e:[]})),wp.element.createElement("div",null,wp.element.createElement(ua,null)),wp.element.createElement(zt,null),"post"===rankMath.objectType&&wp.element.createElement(p.CheckboxControl,{className:"pillar-content",label:wp.element.createElement(o.Fragment,null,wp.element.createElement("strong",null,(0,r.__)("This post is Pillar Content","rank-math")),wp.element.createElement("a",{href:fe("pillar-content-internal-linking","Pillar Content"),rel:"noreferrer",target:"_blank",className:"dashicons-before dashicons-editor-help rank-math-help-icon"})),checked:n,onChange:a})):null})),va=(0,p.createSlotFill)("RankMathAfterEditor"),wa=va.Fill,ya=va.Slot,ba=function(e){var t=e.children,n=e.className;return wp.element.createElement(wa,null,wp.element.createElement(p.PanelRow,{className:n},t))};ba.Slot=ya;var ka=ba,Ea=(0,i.withDispatch)((function(e){return{toggleEditor:function(){e("rank-math").toggleSnippetEditor(!0)}}}))((function(e){var t=e.toggleEditor;return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(he,{onClick:t}),wp.element.createElement(Ke,null),wp.element.createElement(ka.Slot,null,(function(e){return e.length>0?e:[]}))),wp.element.createElement(fa,null),rankMath.canUser.analysis&&wp.element.createElement(Lt,null))})),_a=function(e,t,n){return!1===n?delete e[t]:e[t]=!0,e},Ta=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math").getRobots();return{robots:t,isRobotIndex:"index"in t,isRobotNoIndex:"noindex"in t,isRobotNoFollow:"nofollow"in t,isRobotNoArchive:"noarchive"in t,isRobotNoImageIndex:"noimageindex"in t,isRobotNoSnippet:"nosnippet"in t}})),(0,i.withDispatch)((function(e,t){var n=t.robots;return{updateRobots:function(t,a){n=_a(n,t,a),"index"===t&&(n=_a(n,"noindex",!a)),"noindex"===t&&(n=_a(n,"index",!a)),e("rank-math").updateRobots(n)}}})))((function(e){return wp.element.createElement(p.BaseControl,{className:"rank-math-robots",id:"rank-math-robots",label:(0,r.__)("Robots Meta","rank-math")},wp.element.createElement("div",{className:"rank-math-robots-list"},wp.element.createElement(p.CheckboxControl,{className:"robot-choice-index",label:wp.element.createElement(o.Fragment,null,(0,r.__)("Index","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("Instructs search engines to index and show these pages in the search results","rank-math"))),checked:e.isRobotIndex,onChange:function(t){return e.updateRobots("index",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-noindex",label:wp.element.createElement(o.Fragment,null,(0,r.__)("No Index","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("Prevents pages from being indexed and displayed in search engine result pages","rank-math"))),checked:e.isRobotNoIndex,onChange:function(t){return e.updateRobots("noindex",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-nofollow",label:wp.element.createElement(o.Fragment,null,(0,r.__)("Nofollow","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("Prevents search engines from following links on the pages","rank-math"))),checked:e.isRobotNoFollow,onChange:function(t){return e.updateRobots("nofollow",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-noarchive",label:wp.element.createElement(o.Fragment,null,(0,r.__)("No Archive","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("Prevents search engines from showing Cached links for pages","rank-math"))),checked:e.isRobotNoArchive,onChange:function(t){return e.updateRobots("noarchive",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-noimageindex",label:wp.element.createElement(o.Fragment,null,(0,r.__)("No Image Index","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("This option prevents images on a page from being indexed by Google and other search engines","rank-math"))),checked:e.isRobotNoImageIndex,onChange:function(t){return e.updateRobots("noimageindex",t)}}),wp.element.createElement(p.CheckboxControl,{className:"robot-choice-nosnippet",label:wp.element.createElement(o.Fragment,null,(0,r.__)("No Snippet","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("Prevents a snippet from being shown in the search results","rank-math"))),checked:e.isRobotNoSnippet,onChange:function(t){return e.updateRobots("nosnippet",t)}})))}));function Oa(e){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(e)}function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){Ca(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ca(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Oa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Oa(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ia=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math");return{redirectionID:t.getRedirectionID(),redirectionUrl:t.getRedirectionUrl(),redirectionType:t.getRedirectionType(),hasRedirect:t.hasRedirect()}})),(0,i.withDispatch)((function(e,t){return{toggle:function(){e("rank-math").updateHasRedirect(!t.hasRedirect),e("rank-math").updateRedirectionItem(xa(xa({},t),{},{hasRedirect:!t.hasRedirect}))},updateRedirection:function(n,a){e("rank-math").updateRedirection(n,a),e("rank-math").updateRedirectionItem(xa(xa({},t),{},Ca({},n,a)))}}})))((function(e){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.ToggleControl,{className:e.hasRedirect?"is-open":"is-close",label:(0,r.__)("Redirect","rank-math"),checked:e.hasRedirect,onChange:function(){return e.toggle()}}),e.hasRedirect&&wp.element.createElement(p.SelectControl,{label:(0,r.__)("Redirection Type","rank-math"),className:e.hasRedirect?"":"hidden",value:e.redirectionType,onChange:function(t){return e.updateRedirection("redirectionType",t)},options:[{value:"301",label:(0,r.__)("301 Permanent Move","rank-math")},{value:"302",label:(0,r.__)("302 Temporary Move","rank-math")},{value:"307",label:(0,r.__)("307 Temporary Redirect","rank-math")},{value:"410",label:(0,r.__)("410 Content Deleted","rank-math")},{value:"451",label:(0,r.__)("451 Content Unavailable for Legal Reasons","rank-math")}]}),!1===["410","451"].includes(e.redirectionType)&&wp.element.createElement(p.TextControl,{type:"url",autoComplete:"off",label:(0,r.__)("Destination URL","rank-math"),value:e.redirectionUrl,placeholder:"https://rankmath.com/",className:e.hasRedirect?"":"hidden",onChange:function(t){return e.updateRedirection("redirectionUrl",t)}}),wp.element.createElement(p.TextControl,{type:"hidden",value:e.redirectionID,className:"hidden"}))})),Na=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math"),n=rankMathEditor.assessor.dataCollector;return{placeholder:t.getCanonicalUrl()?t.getCanonicalUrl():n.getPermalink()?n.getPermalink():"https://rankmath.com/",canonicalUrl:t.getCanonicalUrl()}})),(0,i.withDispatch)((function(e){return{onUrlChange:function(t){e("rank-math").updateCanonicalUrl(t)}}})))((function(e){var t=e.canonicalUrl,n=e.placeholder,a=e.onUrlChange;return wp.element.createElement(p.BaseControl,{className:"rank-math-canonical"},wp.element.createElement("span",{className:"components-base-control__label"},(0,r.__)("Canonical URL","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("The canonical URL informs search crawlers which page is the main page if you have double content","rank-math"))),wp.element.createElement(p.TextControl,{type:"url",autoComplete:"off",value:t,placeholder:n,onChange:function(e){return a(e)}}))})),Da=(0,u.compose)((0,i.withSelect)((function(e){return{title:e("rank-math").getBreadcrumbTitle()}})),(0,i.withDispatch)((function(e){return{onTitleChange:function(t){e("rank-math").updateBreadcrumbTitle(t)}}})))((function(e){var t=e.title,n=e.onTitleChange;return wp.element.createElement(p.BaseControl,{className:"rank-math-breadcrumb-title"},wp.element.createElement("span",{className:"components-base-control__label"},(0,r.__)("Breadcrumb Title","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("Breadcrumb Title to use for this post","rank-math"))),wp.element.createElement(p.TextControl,{value:t,onChange:function(e){return n(e)}}))}));function Aa(e){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(e)}function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){ja(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ja(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Aa(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Aa(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Aa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ra={"max-snippet":-1,"max-video-preview":-1,"max-image-preview":"large"},La=(0,u.compose)((0,i.withSelect)((function(e){var t=e("rank-math").getAdvancedRobots(),n=Pa({},t);(0,c.defaults)(n,Ra);var a=null,r=null,i=null;return"max-snippet"in t&&(a=n["max-snippet"]),"max-image-preview"in t&&(r=n["max-image-preview"]),"max-video-preview"in t&&(i=n["max-video-preview"]),{meta:t,isSnippet:a,isImage:r,isVideo:i,maxSnippet:a?n["max-snippet"]:-1,maxImage:n["max-image-preview"],maxVideo:i?n["max-video-preview"]:-1}})),(0,i.withDispatch)((function(e,t){var n=Pa({},t.meta);return{updateRobots:function(t,a){(0,c.isBoolean)(a)?!1===a?delete n[t]:n[t]=Ra[t]:n[t]=a,e("rank-math").updateAdvancedRobots(n)}}})))((function(e){return wp.element.createElement(p.BaseControl,{className:"rank-math-robots",id:"rank-math-robots",label:(0,r.__)("Advanced Robots Meta","rank-math")},wp.element.createElement("div",{className:"rank-math-robots-list advanced-robots"},wp.element.createElement(p.CheckboxControl,{label:wp.element.createElement(o.Fragment,null,(0,r.__)("Max Snippet","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("Specify a maximum text-length, in characters, of a snippet for your page","rank-math"))),checked:e.isSnippet,onChange:function(t){return e.updateRobots("max-snippet",t)}}),wp.element.createElement(p.TextControl,{type:"number",value:e.maxSnippet,onChange:function(t){return e.updateRobots("max-snippet",t)}}),wp.element.createElement(p.CheckboxControl,{label:wp.element.createElement(o.Fragment,null,(0,r.__)("Max Video Preview","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("Specify a maximum duration in seconds of an animated video preview","rank-math"))),checked:e.isVideo,onChange:function(t){return e.updateRobots("max-video-preview",t)}}),wp.element.createElement(p.TextControl,{type:"number",value:e.maxVideo,onChange:function(t){return e.updateRobots("max-video-preview",t)}}),wp.element.createElement(p.CheckboxControl,{label:wp.element.createElement(o.Fragment,null,(0,r.__)("Max Image Preview","rank-math"),wp.element.createElement(Wt,null,(0,r.__)("Specify a maximum size of image preview to be shown for images on this page","rank-math"))),checked:e.isImage,onChange:function(t){return e.updateRobots("max-image-preview",t)}}),wp.element.createElement(p.SelectControl,{value:e.maxImage,onChange:function(t){return e.updateRobots("max-image-preview",t)},options:[{value:"large",label:(0,r.__)("Large","rank-math")},{value:"standard",label:(0,r.__)("Standard","rank-math")},{value:"none",label:(0,r.__)("None","rank-math")}]})))})),Fa=(0,u.compose)((0,i.withSelect)((function(e){return{showScore:e("rank-math").getShowScoreFrontend()}})),(0,i.withDispatch)((function(e){return{toggleScore:function(t){e("rank-math").toggleFrontendScore(t)}}})))((function(e){var t=e.showScore,n=e.toggleScore;return wp.element.createElement(p.BaseControl,{className:"rank-math-frontend-score"},wp.element.createElement(p.ToggleControl,{label:(0,r.__)("Show SEO Score on Front-end","rank-math"),checked:t,onChange:n}))})),Ua=(0,p.createSlotFill)("RankMathAdvancedTab"),Ba=Ua.Fill,Va=Ua.Slot,Ha=function(e){var t=e.children,n=e.className;return wp.element.createElement(Ba,null,wp.element.createElement(p.PanelRow,{className:n},t))};Ha.Slot=Va;var za=Ha,Wa=(0,p.withFilters)("rankMath.advanced.newsSitemap")((function(){return null})),Ga=function(){return wp.element.createElement(o.Fragment,null,wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(Ta,null)),wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(La,null)),wp.element.createElement(Wa,null),wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(Na,null)),rankMath.assessor.hasBreadcrumb&&wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(Da,null)),rankMath.assessor.hasRedirection&&wp.element.createElement(p.PanelBody,{initialOpen:!0,className:"rank-math-redirect"},wp.element.createElement(Ia,null)),rankMath.frontEndScore&&wp.element.createElement(p.PanelBody,{initialOpen:!0},wp.element.createElement(Fa,null)),wp.element.createElement(za.Slot,null,(function(e){return e.length>0?e:[]})))},Ka=n(8221),qa=n.n(Ka),Ya={init:function(){this.cacheProps(),this.initVars(),this.bindEvents()},cacheProps:function(){this.root=document.documentElement,this.$wpAdminbar=we()("#wpadminbar")},initVars:function(){this.$wpAdminbar.length&&this.setWpAdminbarHeight.call(this)},bindEvents:function(){window.addEventListener("resize",qa()(this.onWindowResize.bind(this)))},onWindowResize:function(){this.$wpAdminbar.length&&this.setWpAdminbarHeight.call(this)},setWpAdminbarHeight:function(){this.root.style.setProperty("--rankmath-wp-adminbar-height",this.$wpAdminbar.outerHeight()+"px")}};we()((function(){Ya.init()}));var $a=function(e){"social"===e&&(0,i.dispatch)("rank-math").toggleSnippetEditor(!0)},Xa=function(){return wp.element.createElement(T,{className:"rank-math-tabs",activeClass:"is-active",tabs:(e=[],rankMath.canUser.general&&e.push({name:"general",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-settings",title:(0,r.__)("General","rank-math")}),wp.element.createElement("span",null,(0,r.__)("General","rank-math"))),view:Ea,className:"rank-math-general-tab"}),rankMath.canUser.advanced&&e.push({name:"advanced",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-toolbox",title:(0,r.__)("Advanced","rank-math")}),wp.element.createElement("span",null,(0,r.__)("Advanced","rank-math"))),view:Ga,className:"rank-math-advanced-tab"}),rankMath.canUser.social&&e.push({name:"social",title:wp.element.createElement(o.Fragment,null,wp.element.createElement("i",{className:"rm-icon rm-icon-social",title:(0,r.__)("Social","rank-math")}),wp.element.createElement("span",null,(0,r.__)("Social","rank-math"))),view:qe,className:"rank-math-social-tab"}),(0,a.applyFilters)("rank_math_sidebar_tabs",e)),onSelect:$a},(function(e){return wp.element.createElement("div",{className:"rank-math-tab-content-"+e.name},(0,o.createElement)(e.view))}));var e};(0,a.addAction)("rank_math_loaded","rank-math",(function(){(0,a.addFilter)("rank_math_app","rank-math",(function(){return Xa}))}))}()}();